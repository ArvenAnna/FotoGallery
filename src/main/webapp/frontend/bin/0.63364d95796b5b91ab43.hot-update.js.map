{"version":3,"sources":["webpack:///./components/picture/Picture.jsx"],"names":["Picture","React","Component","constructor","props","state","animation","magnify","click","e","clientRect","target","getClientRects","r","magnified","setState","mouseLeave","chooseAnimation","mouseEnter","fade","move","findSide","direction","x","clientX","y","clientY","diffs","side","diff","Math","abs","left","right","top","bottom","minDiff","min","Array","from","el","find","render","src","m"],"mappings":"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","file":"0.63364d95796b5b91ab43.hot-update.js","sourcesContent":["import React from \"react\";\nimport {MagnifierIcon} from \"../Icons\";\nimport \"./picture.less\";\n\nclass Picture extends React.Component {\n  // animation: fade, move\n\n\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      animation: '',\n      magnify: ''\n    };\n  }\n\n\n  click(e) {\n    const clientRect = e.target.getClientRects()[0];\n    let r = this.magnified;\n\n\n    this.setState({\n      magnify: 'magnify'\n    });\n  };\n\n  mouseLeave(e)  {\n    this.chooseAnimation(e, 'fade_out', 'from');\n  };\n\n  mouseEnter(e)  {\n    this.chooseAnimation(e, 'fade_in', 'to');\n  };\n\n  chooseAnimation(e, fade, move) {\n    switch (this.props.animation) {\n      case 'fade':\n        this.setState({\n          animation: fade\n        });\n        break;\n      case 'move':\n        this.setState({\n          animation: this.findSide(e, move)\n        });\n    }\n  }\n\n  findSide (e, direction) {\n    const clientRect = e.target.getClientRects()[0];\n    const x = e.clientX;\n    const y = e.clientY;\n    const diffs = [\n      {\n        side: `move_${direction}_right`,\n        diff: Math.abs(x - clientRect.left)\n      }, {\n        side: `move_${direction}_left`,\n        diff: Math.abs(x - clientRect.right)\n      }, {\n        side: `move_${direction}_bottom`,\n        diff: Math.abs(y - clientRect.top)\n      }, {\n        side: `move_${direction}_top`,\n        diff: Math.abs(y - clientRect.bottom)\n      }\n    ];\n\n    const minDiff = Math.min(...Array.from(diffs, el => el.diff));\n    return diffs.find(el => el.diff == minDiff).side;\n  }\n\n  render() {\n    const {src} = this.props;\n    const {animation, magnify} = this.state;\n    return (\n      <div\n        className={`image_wrapper ${animation} ${magnify}`}\n        onMouseLeave={(e) => this.mouseLeave(e)}\n        onMouseEnter={(e) => this.mouseEnter(e)}\n        onClick={(e) => this.click(e)}\n      >\n        <img className='image' src={src}/>\n        <div className={'overlay'}>\n          <div className={`overlay_top`}>\n            <MagnifierIcon/>\n          </div>\n          <div className={`overlay_bottom`}>\n            <span className='overlay_bottom_text'>some beautiful picture</span>\n          </div>\n        </div>\n        {magnify && <div className='magnify_modal' ref={(m) => {this.magnified = m;}}>\n          <img src={src}/>\n        </div>}\n      </div>\n    );\n  }\n}\n\nexport default Picture;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Picture.jsx"],"sourceRoot":""}