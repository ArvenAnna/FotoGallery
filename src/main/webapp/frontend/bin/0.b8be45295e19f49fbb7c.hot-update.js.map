{"version":3,"sources":["webpack:///./components/Header.jsx","webpack:///./components/newAlbum/AddNewAlbum.jsx","webpack:///./components/AlbumContainer.jsx","webpack:///./actions/albumActions.js","webpack:///./constants/routes.js","webpack:///./components/editAlbum/EditAlbum.jsx"],"names":["HeaderContainer","styled","div","HeaderMenu","MenuItem","Search","Header","connect","store","fetchAlbumsBySearch","fetchAlbums","React","Component","onEnter","e","key","target","value","props","history","push","render","createAlbum","routesModule","require","Label","span","AddNewAlbum","constructor","modal","state","height","name","description","src","componentDidMount","window","addEventListener","calculateModalHeight","w","d","document","documentElement","g","getElementsByTagName","y","innerHeight","clientHeight","modalStyle","currentStyle","getComputedStyle","Math","min","parseInt","setState","uploadFile","file","http","sendFile","routes","UPLOAD_FOTO","then","id","closeModal","r","Container","AlbumContainer","albums","map","album","images","albumsRequest","type","REQ_ALBUMS","setAlbums","dispatch","doGet","GET_ALBUMS","result","search","GET_ALBUMS_SEARCH","deleteFotoFromAlbum","doDelete","DELETE_FOTO","deleteAlbum","DELETE_ALBUM","saveFotoDescription","image","doPut","UPDATE_FOTO","saveAlbumDescription","ALBUM_ROUTE","saveItemsOrder","UPDATE_ITEMS_ORDER","doPost","apiPrefix","GET_ALBUM","FOTO_ROUTE","exports","EditAlbum","dragStarted","dragFrom","dragFromEl","dragObj","openPicture","openedAlbum","match","params","openDetails","picture","openAlbumDetails","onCrossClick","deleteItem","newPictures","filter","p","newAlbum","Object","assign","removeAlbum","changeDragState","obj","editedPicture","find","pinput","ptextarea","text","editedAlbum","ainput","atextarea","saveNewOrder","sort","x","order","replaceImage","i","t"],"mappings":"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","file":"0.b8be45295e19f49fbb7c.hot-update.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums, fetchAlbumsBySearch} from \"../actions/albumActions\";\nimport withRouter from \"react-router-dom/es/withRouter\";\n\nconst HeaderContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  color: white;\n  font-size: 1.2rem;\n`\n\nconst HeaderMenu = styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: row;\n\n`\n\nconst MenuItem = styled.div`\n  padding: 1rem;\n  cursor: pointer;\n`\n\nconst Search = styled.div`\n  padding: 1rem;\n`\n@withRouter\n@connect(store => ({}), {\n    fetchAlbumsBySearch,\n    fetchAlbums\n})\nclass Header extends React.Component {\n\n    onEnter(e) {\n        if (e.key == \"Enter\") {\n            if(e.target.value) this.props.fetchAlbumsBySearch(e.target.value);\n            else this.props.fetchAlbums();\n            this.props.history.push('/');\n        }\n    }\n\n    render() {\n        return (\n            <HeaderContainer>\n                <HeaderMenu>\n                    <MenuItem onClick={this.props.createAlbum}>new album</MenuItem>\n                </HeaderMenu>\n                <Search>Search: <input defaultValue=''\n                    onKeyPress={(e) => this.onEnter(e)}/></Search>\n            </HeaderContainer>\n        );\n    }\n}\n\nexport default Header;\n\n\n// WEBPACK FOOTER //\n// ./components/Header.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport {CrossIcon} from \"../Icons\";\nimport FileInput from \"../fileInput/FileInput\";\nimport './addNewAlbum.less';\nimport Scroll from \"../scroll/Scroll\";\nimport connect from \"react-redux/es/connect/connect\";\nconst routesModule = require('../../constants/routes');\nimport http from '../../HttpService';\nimport {\n    createAlbum\n} from \"../../actions/albumActions\";\n\nconst Label = styled.span`\n  width: 100%;\n  margin-bottom: 0.25rem;\n`\n\n@connect(store => ({}), {\n    createAlbum\n})\nclass AddNewAlbum extends React.Component {\n    constructor(props) {\n        super(props);\n        this.modal = null;\n        this.state = {\n            height: '100%',\n            name: '',\n            description: '',\n            src: null\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', () => this.calculateModalHeight())\n        this.calculateModalHeight();\n    }\n\n    calculateModalHeight() {\n        var w = window,\n            d = document,\n            e = d.documentElement,\n            g = d.getElementsByTagName('body')[0],\n            y = w.innerHeight || e.clientHeight || g.clientHeight;\n\n        if (this.modal) {\n            const modalStyle = this.modal.currentStyle || window.getComputedStyle(this.modal);\n            const height = Math.min(parseInt(y), parseInt(modalStyle.height)) + 'px';\n            this.setState({\n                height\n            });\n        }\n    }\n\n    uploadFile(file) {\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(id => {\n                this.setState({src: id.src});\n            });\n    }\n\n    createAlbum() {\n        const {name, description, src} = this.state;\n        if (name && description && src) {\n            this.props.createAlbum({\n                name, description, src\n            });\n            this.props.closeModal();\n        }\n\n    }\n\n    render() {\n        const {name, description, src, height} = this.state;\n\n        return <div className='add_album'>\n            {/*<Scroll width='40%' height={height} className='scroll_container'>*/}\n            <div className='add_album_modal' ref={r => this.modal = r}>\n\n                <CrossIcon onClick={this.props.closeModal}/>\n                <Label>Name</Label>\n                <input value={name} onChange={(e) => this.setState({name: e.target.value})}/>\n                <Label>Title image:</Label>\n                {src ? <img src={src}/> :\n                    <FileInput label='Choose main foto'\n                               uploadFile={(file) => this.uploadFile(file)}/>}\n                <Label>Description</Label>\n                <textarea value={description} onChange={(e) => this.setState({description: e.target.value})}/>\n                <button onClick={() => this.createAlbum()}>ok</button>\n\n            </div>\n        {/*</Scroll>*/}\n        </div>\n\n    }\n}\n\nexport default AddNewAlbum;\n\n\n// WEBPACK FOOTER //\n// ./components/newAlbum/AddNewAlbum.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport Picture from \"./picture/Picture\";\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums} from \"../actions/albumActions\";\n\n// overrides picture styles\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex-wrap: wrap;\n  padding: 2rem;\n\n  &>div {\n     padding: 1rem;\n        \n     .image {\n        height: 15rem;\n        width: 20rem;\n        object-fit: cover;\n      }\n\n      .image_wrapper .overlay .overlay_bottom_text {\n         font-size: 1rem;\n      }\n  }\n`\n@connect(store => ({\n    albums: store.albums\n}), {\n    fetchAlbums\n})\nclass AlbumContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props.fetchAlbums();\n    }\n\n    render() {\n        return (\n            <Container>\n                {this.props.albums.map(album => <Picture main={album.images[0]}\n                                                         key={album.id}\n                                                         animation='fade'\n                                                         editRoute={`/edit/${album.id}`}\n                                                         images={album.images}/>)}\n\n            </Container>\n        );\n    }\n}\n\nexport default AlbumContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/AlbumContainer.jsx","import * as types from '../constants/ActionTypes';\nimport http from '../HttpService';\nconst routesModule = require('../constants/routes');\n\nexport function albumsRequest() {\n    return {\n        type: types.REQ_ALBUMS\n    };\n}\n\nexport function setAlbums(albums) {\n    return {\n        type: types.SET_ALBUMS,\n        albums\n    };\n}\n\nexport function fetchAlbums() {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS)\n            .then(result => dispatch(setAlbums(result)));\n    }\n}\n\nexport function fetchAlbumsBySearch(search) {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS_SEARCH(search))\n            .then(result => dispatch(setAlbums(result)));\n    }\n}\n\n// export function deleteFotoRequest() {\n//     return {\n//         type: types.REQ_ALBUMS\n//     };\n// }\n\nexport function deleteFotoFromAlbum(id, album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_FOTO(id, album))\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function deleteAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_ALBUM(id))\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveFotoDescription(album, image) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_FOTO(album), image)\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveAlbumDescription(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.ALBUM_ROUTE, album)\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveItemsOrder(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_ITEMS_ORDER, album)\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function createAlbum(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPost(routesModule.routes.ALBUM_ROUTE, album)\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./actions/albumActions.js","const apiPrefix = '/api/';\n\nconst routes = {\n    GET_ALBUMS: `${apiPrefix}albums`,\n    GET_ALBUMS_SEARCH: (search) => `${apiPrefix}albums?search=${search}`,\n\n    ALBUM_ROUTE: `${apiPrefix}album`,\n    GET_ALBUM: (id) => `${apiPrefix}album?id=${id}`,\n    DELETE_ALBUM : (id) => `${apiPrefix}album?id=${id}`,\n    UPDATE_ITEMS_ORDER: `${apiPrefix}album/items`,\n\n    FOTO_ROUTE: `${apiPrefix}foto`,\n    DELETE_FOTO: (id, album) => `${apiPrefix}foto?album=${album}&id=${id}`,\n    UPDATE_FOTO: (album) => `${apiPrefix}foto?album=${album}`,\n\n    UPLOAD_FOTO: `${apiPrefix}upload`,\n\n\n\n\n\n    // GET_RECEPTS: (departId) => `/recept_list.req?departId=${departId}`,\n    // GET_RECEPT: (receptId) => `/recept.req?receptId=${receptId}`,\n    // GET_INGRIDIENTS: '/ing_list.req',\n    // GET_TAGS: '/tags.req',\n    //\n    // POST_INGRIDIENTS: '/ingridient.req',\n    // POST_CREATE_RECEPT: '/recept.req',\n    //\n    // UPLOAD_FILE: '/file.req',\n    //\n    // IMAGE_CATALOG: '/foto/'\n};\n\nexports.routes = routes;\n\n\n\n\n// WEBPACK FOOTER //\n// ./constants/routes.js","import React from 'react';\nimport './editAlbum.less';\nimport FileInput from \"../fileInput/FileInput\";\nimport {CrossIcon, SaveIcon} from \"../Icons\";\nimport Card from \"./Card\";\nimport http from '../../HttpService';\nimport connect from \"react-redux/es/connect/connect\";\nimport {\n    deleteAlbum, deleteFotoFromAlbum, fetchAlbums, saveAlbumDescription,\n    saveFotoDescription, saveItemsOrder\n} from \"../../actions/albumActions\";\nconst routesModule = require('../../constants/routes');\n\n@connect(store => ({}), {\n    deleteFotoFromAlbum,\n    saveFotoDescription,\n    saveAlbumDescription,\n    deleteAlbum,\n    fetchAlbums,\n    saveItemsOrder\n})\nclass EditAlbum extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dragStarted: false,\n            dragFrom: null,\n            dragFromEl: null,\n            dragObj: null,\n            openPicture: null,\n            openedAlbum: false,\n            album: null\n        }\n    }\n\n    componentDidMount() {\n        http.doGet(routesModule.routes.GET_ALBUM(this.props.match.params.id))\n            .then(result => this.setState({album: result}));\n    }\n\n    openDetails(picture) {\n        this.setState({openPicture: picture});\n    }\n\n    openAlbumDetails() {\n        this.setState({openedAlbum: true});\n    }\n\n    onCrossClick() {\n        this.setState({openPicture: null, openedAlbum: false});\n    }\n\n    deleteItem(picture) {\n        this.props.deleteFotoFromAlbum(picture.id, this.state.album.id);\n        const newPictures = this.state.album.images.filter(p => p.id != picture.id);\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        })\n        this.setState({album: newAlbum});\n    }\n\n    removeAlbum() {\n        this.props.deleteAlbum(this.state.album.id);\n        this.props.history.push('/');\n    }\n\n    changeDragState(obj) {\n        this.setState(obj);\n    }\n\n    saveFotoDescription(picture) {\n        const newPictures = [...this.state.album.images];\n        const editedPicture = this.state.album.images.find(p => p.id == picture.id);\n        if (this.pinput.value) editedPicture.name = this.pinput.value;\n        if (this.ptextarea.value) editedPicture.text = this.ptextarea.value;\n\n        this.props.saveFotoDescription(this.state.album.id, editedPicture);\n\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        });\n        this.setState({album: newAlbum, openPicture: null});\n    }\n\n    saveAlbumDescription() {\n        const editedAlbum = Object.assign({}, {...this.state.album});\n        if (this.ainput.value) editedAlbum.name = this.ainput.value;\n        if (this.atextarea.value) editedAlbum.description = this.atextarea.value;\n\n        this.props.saveAlbumDescription(editedAlbum);\n\n        this.setState({album: editedAlbum, openedAlbum: false});\n    }\n\n    saveNewOrder(album) {\n\n    }\n\n    uploadFile(file) {\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n               .then(id => {\n                   http.doPost(routesModule.routes.FOTO_ROUTE, id)\n                       .then(result => {\n                           const newPictures = [...this.state.album.images];\n                           newPictures.push(result);\n                           const newAlbum = Object.assign({}, {\n                               ...this.state.album,\n                               images: newPictures,\n                           });\n                           this.setState({album: newAlbum});\n                           this.props.fetchAlbums();\n                       });\n               });\n    }\n\n    render() {\n        const {openPicture, album, openedAlbum} = this.state;\n        return album && (\n                    <div className='edit_container'>\n                        <div className='edit_album_card'>\n                            <img className='album_image' src={album.images[0].src}/>\n                            <div className='album_name' onClick={() => this.openAlbumDetails()}>{album.name}</div>\n                            <CrossIcon className='cross_icon' onClick={() => this.removeAlbum()}/>\n                        </div>\n                        {album.images.sort((x, y) => x.order - y.order).map(p => <Card\n                            key={p.id}\n                            picture={p}\n                            pictures={album.images}\n                            openDetails={(p) => this.openDetails(p)}\n                            deleteItem={(p) => this.deleteItem(p)}\n                            replaceImage={(target) => this.replaceImage(target)}\n                            openPicture={openPicture}\n                            changeDragState={(obj) => this.changeDragState(obj)}\n                            dragState={this.state}\n                        />)}\n                        <FileInput className='new_image'\n                                   disabled={openPicture}\n                                   label='Choose new foto'\n                                   uploadFile={(file) => this.uploadFile(file)}\n                        />\n                        {openPicture &&\n                        <div className='new_text'>\n                            <input defaultValue={openPicture.name} ref={i => this.pinput = i}/>\n                            <textarea defaultValue={openPicture.text} ref={t => this.ptextarea = t}/>\n                            <SaveIcon className='save_icon' onClick={() => this.saveFotoDescription(openPicture)}/>\n                            <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                        </div>}\n                        {openedAlbum &&\n                        <div className='new_text'>\n                            <input defaultValue={album.name} ref={i => this.ainput = i}/>\n                            <textarea defaultValue={album.description} ref={t => this.atextarea = t}/>\n                            <SaveIcon className='save_icon' onClick={() => this.saveAlbumDescription()}/>\n                            <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                        </div>}\n                    </div>\n            );\n    }\n}\n\nexport default EditAlbum;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditAlbum.jsx"],"sourceRoot":""}