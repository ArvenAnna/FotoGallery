{"version":3,"sources":["webpack:///./components/FotoSlider.jsx","webpack:///./components/Header.jsx","webpack:///./components/newAlbum/AddNewAlbum.jsx","webpack:///./components/newAlbum/addNewAlbum.less?004d","webpack:///./components/AlbumContainer.jsx","webpack:///./components/editAlbum/EditAlbum.jsx","webpack:///./actions/albumActions.js","webpack:///./components/newAlbum/addNewAlbum.less"],"names":["FotoSlider","React","Component","constructor","props","state","addAlbumModal","width","height","createAlbum","setState","closeModal","componentDidMount","render","Content","scrollbars","Header","connect","store","fetchAlbumsBySearch","fetchAlbums","onEnter","e","key","target","value","history","push","routesModule","require","Label","styled","span","AddNewAlbum","modal","name","description","src","fileUploading","setTimeout","forceUpdate","calculateModalHeight","w","window","d","document","documentElement","g","getElementsByTagName","y","innerHeight","clientHeight","modalStyle","currentStyle","getComputedStyle","Math","min","parseInt","uploadFile","file","http","sendFile","routes","UPLOAD_FOTO","then","id","catch","r","isVideo","AlbumContainer","albums","isLoadingAlbums","pictures","map","album","_id","EditAlbum","deleteFotoFromAlbum","saveFotoDescription","saveAlbumDescription","deleteAlbum","saveItemsOrder","dragStarted","dragFrom","dragFromEl","dragObj","openPicture","openedAlbum","openedDialog","imageDownloaded","loadAlbum","doGet","GET_ALBUM","match","params","result","images","sort","x","order","forEach","image","Date","toISOString","openDetails","picture","openAlbumDetails","onCrossClick","deleteItem","length","newPictures","filter","p","newAlbum","Object","assign","removeAlbum","changeState","obj","editedPicture","find","pinput","ptextarea","text","editedAlbum","ainput","atextarea","downloadedFoto","doPost","FOTO_ROUTE","renderEditAlbumCard","renderImages","replaceImage","renderFileInput","renderEditCanvas","renderChangeFotoTextInfoDialog","i","t","renderChangeAlbumTextInfoDialog","renderDeleteDialog","albumsRequest","type","REQ_ALBUMS","setAlbums","dispatch","GET_ALBUMS","search","GET_ALBUMS_SEARCH","doDelete","DELETE_FOTO","DELETE_ALBUM","doPut","UPDATE_FOTO","ALBUM_ROUTE","UPDATE_ITEMS_ORDER"],"mappings":"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","file":"0.15e980321a46b9a9c180.hot-update.js","sourcesContent":["import React from 'react';\nimport Header from \"./Header\";\nimport AddNewAlbum from \"./newAlbum/AddNewAlbum\";\nimport AlbumContainer from \"./AlbumContainer\";\nimport {Route, Switch} from \"react-router-dom\";\nimport EditAlbum from \"./editAlbum/EditAlbum\";\nimport { Scrollbars } from 'react-custom-scrollbars';\n\nclass FotoSlider extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            addAlbumModal: false,\n            width: 0,\n            height: 0\n        }\n    }\n\n    createAlbum() {\n        this.setState({\n            addAlbumModal: true\n        });\n    }\n\n    closeModal() {\n        this.setState({\n            addAlbumModal: false\n        });\n    }\n\n    componentDidMount() {\n        //setTimeout(() => this.scrollbars.forceUpdate(), 100);\n    }\n\n\n\n    render() {\n\n        const Content = () => <div className=\"app_container\">\n            {this.state.addAlbumModal && <AddNewAlbum closeModal={() => this.closeModal()}/>}\n\n            <div className=\"app_page\">\n                <Header createAlbum={() => this.createAlbum()}/>\n                <Switch>\n                    <Route exact path='/' component={AlbumContainer}/>\n                    <Route path='/edit/:id' component={EditAlbum}/>\n                </Switch>\n            </div>\n        </div>;\n\n        return this.state.addAlbumModal ? <Content/> :\n            <Scrollbars\n                className=\"scroll_bar\"\n                hideTracksWhenNotNeeded={true}\n                ref={(scrollbars) => this.scrollbars = scrollbars}>\n            <Content/>\n        </Scrollbars>\n    }\n}\n\nexport default FotoSlider;\n\n\n// WEBPACK FOOTER //\n// ./components/FotoSlider.jsx","import React from 'react';\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums, fetchAlbumsBySearch} from \"../actions/albumActions\";\nimport withRouter from \"react-router-dom/es/withRouter\";\nimport {NavLink} from 'react-router-dom';\n\n@withRouter\n@connect(store => ({}), {\n    fetchAlbumsBySearch,\n    fetchAlbums\n})\nclass Header extends React.Component {\n\n    onEnter(e) {\n        if (e.key == \"Enter\") {\n            if(e.target.value) this.props.fetchAlbumsBySearch(e.target.value);\n            else this.props.fetchAlbums();\n            this.props.history.push('/');\n        }\n    }\n\n    render() {\n        return (\n                [<div key=\"header_menu\" className=\"header_menu\">\n                    <div className=\"menu_item\" onClick={this.props.createAlbum}>new album</div>\n                    <div className=\"menu_item\"><NavLink to='/'>album's list</NavLink></div>\n                </div>,\n                <div className=\"search_menu\" key=\"search\">Search: <input className=\"search_input\" defaultValue=''\n                    onKeyPress={(e) => this.onEnter(e)}/>\n                </div>]\n        );\n    }\n}\n\nexport default Header;\n\n\n// WEBPACK FOOTER //\n// ./components/Header.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport {CrossIcon} from \"../Icons\";\nimport FileInput from \"../fileInput/FileInput\";\nimport './addNewAlbum.less';\nimport connect from \"react-redux/es/connect/connect\";\nimport {isVideo} from \"../../utils/index\";\nimport {Scrollbars} from \"react-custom-scrollbars\";\nconst routesModule = require('../../constants/routes');\nimport http from '../../HttpService';\nimport {\n    createAlbum\n} from \"../../actions/albumActions\";\n\nconst Label = styled.span`\n  width: 100%;\n  margin-bottom: 0.25rem;\n`\n\n@connect(store => ({}), {\n    createAlbum\n})\nclass AddNewAlbum extends React.Component {\n    constructor(props) {\n        super(props);\n        this.modal = null;\n        this.state = {\n            height: '100%',\n            name: '',\n            description: '',\n            src: null,\n            fileUploading: false\n        }\n    }\n\n    componentDidMount() {\n        setTimeout(() => this.scrollbars.forceUpdate(), 100);\n\n        // window.addEventListener('resize', () => this.calculateModalHeight())\n        this.calculateModalHeight();\n    }\n\n    calculateModalHeight() {\n        var w = window,\n            d = document,\n            e = d.documentElement,\n            g = d.getElementsByTagName('body')[0],\n            y = w.innerHeight || e.clientHeight || g.clientHeight;\n\n        if (this.modal) {\n            const modalStyle = this.modal.currentStyle || window.getComputedStyle(this.modal);\n            const height = Math.min(parseInt(y), parseInt(modalStyle.height)) + 'px';\n            this.setState({\n                height\n            });\n        }\n    }\n\n    uploadFile(file) {\n        this.setState({fileUploading: true});\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(id => {\n                this.setState({src: id.src, fileUploading: false});\n            })\n            .catch(e => this.setState({fileUploading: false}));\n    }\n\n    createAlbum() {\n        const {name, description, src} = this.state;\n        if (name && description && src) {\n            this.props.createAlbum({\n                name, description, src\n            });\n            this.props.closeModal();\n        }\n\n    }\n\n    render() {\n        const {name, description, src, fileUploading, height} = this.state;\n\n        return <div className='add_album'>\n            <Scrollbars\n                hideTracksWhenNotNeeded={true}\n                className=\"scroll_bar\"\n                // renderTrackVertical={({ style, ...props }) =>\n                        //     <div {...props} style={{ ...style, backgroundColor: 'blue' }}/>}\n                         // renderTrackVertical={props => <div {...props} className=\"track-vertical\"/>}\n                         // renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}\n                        ref={(scrollbars) => this.scrollbars = scrollbars}\n            >\n            <div className='add_album_modal' ref={r => this.modal = r}>\n\n                <CrossIcon className=\"cross_icon\" onClick={this.props.closeModal}/>\n                <Label>Name</Label>\n                <input value={name} onChange={(e) => this.setState({name: e.target.value})}/>\n                <Label>Title image:</Label>\n\n                {fileUploading\n                    ? <Loader type=\"ball-scale-multiple\"/>\n                    : src\n                    ? (isVideo(src) ? <video controls=\"controls\"><source src={src}/></video> : <img src={src}/>)\n                    :\n                    <FileInput label='Choose main foto'\n                               uploadFile={(file) => this.uploadFile(file)}/>}\n                <Label>Description</Label>\n                <textarea value={description} onChange={(e) => this.setState({description: e.target.value})}/>\n                {src && !isVideo(src) && <div className=\"warning\">You will be able to rotate your foto in the edit mode after album creation.</div>}\n                <button className=\"ok_button\" onClick={() => this.createAlbum()}>ok</button>\n\n            </div>\n            </Scrollbars>\n        </div>\n\n\n    }\n}\n\nexport default AddNewAlbum;\n\n\n// WEBPACK FOOTER //\n// ./components/newAlbum/AddNewAlbum.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./addNewAlbum.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./addNewAlbum.less\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./addNewAlbum.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/newAlbum/addNewAlbum.less\n// module id = 178\n// module chunks = 0","import React from 'react';\nimport Picture from \"./picture/Picture\";\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums} from \"../actions/albumActions\";\nimport Loader from 'react-loaders';\nimport './albumContainer.less';\nimport 'loaders.css/src/animations/ball-grid-pulse.scss';\n\n@connect(store => ({\n    albums: store.albums,\n    isLoadingAlbums: store.isLoadingAlbums\n}), {\n    fetchAlbums\n})\nclass AlbumContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props.fetchAlbums();\n    }\n\n    render() {\n        if(!this.props.albums) return <Loader type=\"ball-grid-pulse\" innerClassName='Data_loader'/>;\n        const pictures = this.props.albums.map(album => <Picture key={album._id}\n                                                                 animation='fade'\n                                                                 album={album}\n        />);\n        return pictures;\n    }\n}\n\nexport default AlbumContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/AlbumContainer.jsx","import React from 'react';\nimport './editAlbum.less';\nimport FileInput from \"../fileInput/FileInput\";\nimport {CrossIcon, SaveIcon} from \"../Icons\";\nimport Card from \"./Card\";\nimport http from '../../HttpService';\nimport connect from \"react-redux/es/connect/connect\";\nimport {\n    deleteAlbum, deleteFotoFromAlbum, saveAlbumDescription,\n    saveFotoDescription, saveItemsOrder\n} from \"../../actions/albumActions\";\nimport Dialog from \"../dialog/Dialog\";\nimport EditCanvas from \"./EditCanvas\";\nimport {isVideo} from \"../../utils/index\";\nimport * as styles from \"../../constants/styles\";\nconst routesModule = require('../../constants/routes');\n\n@connect(store => ({}), {\n    deleteFotoFromAlbum,\n    saveFotoDescription,\n    saveAlbumDescription,\n    deleteAlbum,\n    saveItemsOrder\n})\nclass EditAlbum extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dragStarted: false,\n            dragFrom: null,\n            dragFromEl: null,\n            dragObj: null,\n            openPicture: null,\n            openedAlbum: false,\n            album: null,\n            openedDialog: false,\n            imageDownloaded: false\n        }\n    }\n\n    componentDidMount() {\n        this.loadAlbum();\n    }\n\n    loadAlbum() {\n        http.doGet(routesModule.routes.GET_ALBUM(this.props.match.params.id))\n            .then(result => {\n                result.images.sort((x, y) => x.order - y.order);\n                result.images.forEach(image => image.src = image.src + '?forceUpdate=' + new Date().toISOString())\n                this.setState({album: result})\n            });\n    }\n\n    openDetails(picture) {\n        this.setState({openPicture: picture});\n    }\n\n    openAlbumDetails() {\n        this.setState({openedAlbum: true});\n    }\n\n    onCrossClick() {\n        this.setState({openPicture: null, openedAlbum: false});\n    }\n\n    deleteItem(picture) {\n        if (this.state.album.images.length == 1) {\n            this.setState({openedDialog: true});\n            return;\n        }\n\n        this.props.deleteFotoFromAlbum(picture._id);\n        const newPictures = this.state.album.images.filter(p => p._id != picture._id);\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        })\n        this.setState({album: newAlbum});\n    }\n\n    removeAlbum() {\n        this.props.deleteAlbum(this.state.album._id);\n        this.props.history.push('/');\n    }\n\n    changeState(obj) {\n        this.setState(obj);\n    }\n\n    saveFotoDescription(picture) {\n        const newPictures = [...this.state.album.images];\n        const editedPicture = this.state.album.images.find(p => p._id == picture._id);\n        if (this.pinput.value) editedPicture.name = this.pinput.value;\n        if (this.ptextarea.value) editedPicture.text = this.ptextarea.value;\n\n        this.props.saveFotoDescription(this.state.album._id, editedPicture);\n\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        });\n        this.setState({album: newAlbum, openPicture: null});\n    }\n\n    saveAlbumDescription() {\n        const editedAlbum = Object.assign({}, {...this.state.album});\n        if (this.ainput.value) editedAlbum.name = this.ainput.value;\n        if (this.atextarea.value) editedAlbum.description = this.atextarea.value;\n\n        this.props.saveAlbumDescription(editedAlbum);\n\n        this.setState({album: editedAlbum, openedAlbum: false});\n    }\n\n    uploadFile(file) {\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(downloadedFoto => {\n                if (isVideo(downloadedFoto.src)) {\n                    http.doPost(routesModule.routes.FOTO_ROUTE, {\n                        src: downloadedFoto.src,\n                        album: this.state.album._id\n                    }).then(result => {\n                        const newPictures = [...this.state.album.images];\n                        newPictures.push(result);\n                        const newAlbum = Object.assign({}, {\n                            ...this.state.album,\n                            images: newPictures,\n                        });\n\n                        this.setState({\n                            //imageDownloaded: null,\n                            album: newAlbum\n                        });\n                    });\n                } else {\n                    this.setState({\n                        imageDownloaded: downloadedFoto.src\n                    });\n                }\n\n            });\n    }\n\n    renderEditAlbumCard() {\n        return <div className='edit_album_card' key=\"edit_album_card\">\n            {isVideo(this.state.album.images[0].src)\n                ? <video className=\"album_image\"\n                         height={styles.picture_edit_height}\n                         width={styles.picture_edit_width}\n                         controls=\"controls\">\n                    <source src={this.state.album.images[0].src}/>\n                </video>\n                : <img className='album_image' src={this.state.album.images[0].src}/>}\n            <div className='album_name' onClick={() => this.openAlbumDetails()}>{this.state.album.name}</div>\n            <CrossIcon className='cross_icon' onClick={() => this.setState({openedDialog: true})}/>\n        </div>\n    }\n\n    renderImages() {\n        return this.state.album.images.sort((x, y) => x.order - y.order).map(p => <Card\n            key={p._id}\n            picture={p}\n            pictures={this.state.album.images}\n            openDetails={(p) => this.openDetails(p)}\n            deleteItem={(p) => this.deleteItem(p)}\n            replaceImage={(target) => this.replaceImage(target)}\n            openPicture={this.state.openPicture}\n            changeDragState={(obj) => this.changeState(obj)}\n            dragState={this.state}\n            updateOrder={(album) => this.props.saveItemsOrder(album)}\n            loadAlbum={() => this.loadAlbum()}\n        />)\n    }\n\n    renderFileInput() {\n        return !this.state.imageDownloaded && <FileInput className='edit_file_input'\n                                                         disabled={this.state.openPicture}\n                                                         label='Choose new foto'\n                                                         uploadFile={(file) => this.uploadFile(file)}\n            />\n    }\n\n    renderEditCanvas() {\n        return this.state.imageDownloaded && !isVideo(this.state.imageDownloaded) && <EditCanvas\n                image={this.state.imageDownloaded}\n                cleanImage={obj => this.changeState(obj)}\n                album={this.state.album}\n            />\n    }\n\n    renderChangeFotoTextInfoDialog() {\n        return this.state.openPicture &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter foto name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveFotoDescription(this.state.openPicture)}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.openPicture.name} ref={i => this.pinput = i}/>\n                    <textarea defaultValue={this.state.openPicture.text} ref={t => this.ptextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderChangeAlbumTextInfoDialog() {\n        return this.state.openedAlbum &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter album name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveAlbumDescription()}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.album.name} ref={i => this.ainput = i}/>\n                    <textarea defaultValue={this.state.album.description} ref={t => this.atextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderDeleteDialog() {\n        return this.state.openedDialog && <Dialog onClick={() => this.removeAlbum()}\n                                                  onClose={() => this.setState({openedDialog: false})}\n                                                  text=\"Do you really want to delete the album?\"/>\n    }\n\n\n    render() {\n        const {album} = this.state;\n        if (!album) {\n            return null;\n        }\n        return <React.Fragment>\n            {this.renderEditAlbumCard()}\n            {this.renderImages()}\n            {this.renderFileInput()}\n            {this.renderEditCanvas()}\n            {this.renderChangeFotoTextInfoDialog()}\n            {this.renderChangeAlbumTextInfoDialog()}\n            {this.renderDeleteDialog()}\n        </React.Fragment>;\n    }\n}\n\nexport default EditAlbum;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditAlbum.jsx","import * as types from '../constants/ActionTypes';\nimport http from '../HttpService';\nconst routesModule = require('../constants/routes');\n\nexport function albumsRequest() {\n    return {\n        type: types.REQ_ALBUMS\n    };\n}\n\nexport function setAlbums(albums) {\n    return {\n        type: types.SET_ALBUMS,\n        albums\n    };\n}\n\nexport function fetchAlbums() {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS)\n            .then(result => dispatch(setAlbums(result)))\n            .catch(e => dispatch({type: types.REQ_ALBUMS_ERROR}));\n    }\n}\n\nexport function fetchAlbumsBySearch(search) {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS_SEARCH(search))\n            .then(result => dispatch(setAlbums(result)))\n            .catch(e => dispatch({type: types.REQ_ALBUMS_ERROR}));\n    }\n}\n\n// export function deleteFotoRequest() {\n//     return {\n//         type: types.REQ_ALBUMS\n//     };\n// }\n\nexport function deleteFotoFromAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_FOTO(id))\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function deleteAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_ALBUM(id))\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveFotoDescription(album, image) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_FOTO(album), image)\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveAlbumDescription(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.ALBUM_ROUTE, album)\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveItemsOrder(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_ITEMS_ORDER, album)\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function createAlbum(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPost(routesModule.routes.ALBUM_ROUTE, album)\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./actions/albumActions.js","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".add_album {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  z-index: 1;\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgba(0, 0, 0, 0.7);\\n}\\n.add_album_modal {\\n  position: relative;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  width: 500px;\\n  color: white;\\n  margin: 2rem auto;\\n}\\n@media screen and (max-width: 700px) {\\n  .add_album_modal {\\n    width: 90%;\\n  }\\n}\\n.add_album_modal .cross_icon {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  width: 1rem;\\n  height: 1rem;\\n  fill: white;\\n}\\n.add_album_modal .ok_button {\\n  width: 10rem;\\n  height: 2rem;\\n  color: white;\\n  background-color: #232326;\\n  font-size: 1rem;\\n  border-width: 3px;\\n  border-radius: 0.3rem;\\n}\\n.add_album_modal .warning {\\n  margin: 0 0 0.7rem 0;\\n  color: #54545b;\\n}\\n.add_album_modal input,\\n.add_album_modal textarea {\\n  background-color: #232326;\\n  width: 100%;\\n  margin-bottom: 1rem;\\n  border-radius: 0.3rem;\\n  font-size: 1.5rem;\\n  color: white;\\n  padding: 0.5rem;\\n  line-height: 2rem;\\n  border: white 1px solid;\\n  resize: none;\\n}\\n.add_album_modal input:focus,\\n.add_album_modal textarea:focus {\\n  outline: none;\\n  background-color: #54545b;\\n}\\n.add_album_modal textarea {\\n  overflow-x: hidden;\\n  height: 10.1rem;\\n}\\n.add_album_modal img {\\n  width: 100%;\\n  height: 20rem;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  border: white 1px solid;\\n  box-sizing: border-box;\\n  border-radius: 0.3rem;\\n}\\n.add_album_modal video {\\n  height: 20rem;\\n  border-radius: 0.3rem;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/autoprefixer-loader!./node_modules/less-loader/dist/cjs.js!./node_modules/js-to-styles-var-loader!./components/newAlbum/addNewAlbum.less\n// module id = 39\n// module chunks = 0"],"sourceRoot":""}