{"version":3,"sources":["webpack:///./components/Header.jsx","webpack:///./components/picture/Preview.jsx"],"names":["HeaderContainer","styled","div","HeaderMenu","MenuItem","Search","Header","connect","store","fetchAlbumsBySearch","fetchAlbums","React","Component","onEnter","e","key","target","value","props","history","push","render","createAlbum","BottomSection","imageWidth","increase","constants","preview_frame_color","decrease","Modal","animationTime","Preview","constructor","parseInt","state","animate","currentSlide","main","setImageWidth","width","setState","clearAnimate","slide","close","window","setTimeout","componentDidMount","clearAnimation","renderThumb","style","thumbStyle","backgroundColor","height","calculateTextWidth","imgWidth","bottomSection","document","getElementsByClassName","currentStyle","getComputedStyle","paddings","parseFloat","paddingLeft","paddingRight","calculateTextHeight","caption","bottomSectionStyle","paddingTop","paddingBottom","captionStyle","images","editRoute","s","r","name","text"],"mappings":"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","file":"0.1354ab0c68e01fc855f4.hot-update.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums, fetchAlbumsBySearch} from \"../actions/albumActions\";\nimport withRouter from \"react-router-dom/es/withRouter\";\nimport {NavLink} from 'react-router-dom';\n\nconst HeaderContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  color: white;\n  font-size: 1.2rem;\n`\n\nconst HeaderMenu = styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: row;\n\n`\n\nconst MenuItem = styled.div`\n  padding: 1rem;\n  cursor: pointer;\n  text-shadow: 2px 2px #ff0000;\n  \n  a {\n    text-decoration: none;\n    color: white;\n  }\n  \n`\n\nconst Search = styled.div`\n  padding: 1rem;\n`\n@withRouter\n@connect(store => ({}), {\n    fetchAlbumsBySearch,\n    fetchAlbums\n})\nclass Header extends React.Component {\n\n    onEnter(e) {\n        if (e.key == \"Enter\") {\n            if(e.target.value) this.props.fetchAlbumsBySearch(e.target.value);\n            else this.props.fetchAlbums();\n            this.props.history.push('/');\n        }\n    }\n\n    render() {\n        return (\n            <HeaderContainer>\n                <HeaderMenu>\n                    <MenuItem onClick={this.props.createAlbum}>new album</MenuItem>\n                    <MenuItem><NavLink to='/'>album's list</NavLink></MenuItem>\n                </HeaderMenu>\n                <Search>Search: <input defaultValue=''\n                    onKeyPress={(e) => this.onEnter(e)}/></Search>\n            </HeaderContainer>\n        );\n    }\n}\n\nexport default Header;\n\n\n// WEBPACK FOOTER //\n// ./components/Header.jsx","import React from \"react\";\nimport styled, {keyframes} from 'styled-components';\n//import { Scrollbars } from 'react-custom-scrollbars';\nimport './preview.less';\nimport PreviewImageFrame from \"./PreviewImageFrame\";\nimport constants from './styles';\nimport Scroll from \"../scroll/Scroll\";\n\nconst BottomSection = styled.div`\n   width: ${props => props.imageWidth};\n`\n\nconst increase = (props) => keyframes`\n   0% {\n      height: 0;\n      width: 0;\n      background-color: transparent;\n  }\n  50% {\n      height: 90%;\n      width: ${props.imageWidth};\n      background-color: transparent;  \n  }\n  100% {\n      background-color: ${constants.preview_frame_color};\n  }\n`\n\nconst decrease = (props) => keyframes`\n   0% {\n      background-color: ${constants.preview_frame_color};\n   }\n   50% {\n      height: 90%;\n      width: ${props.imageWidth};\n      background-color: transparent;\n  }\n  100% {\n      height: 0;\n      width: 0;\n      background-color: transparent;\n  }\n`\n\nconst Modal = styled.div`\n&.increase {\n  .magnify_modal_img_frame {\n    animation: ${increase} ${props => props.animationTime}s ease;\n  }\n}\n\n&.decrease {\n  .magnify_modal_img_frame {\n    animation: ${decrease} ${props => props.animationTime}s ease;\n  }\n}\n`\n\nclass Preview extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.animationTime = parseInt(constants['preview_animation_duration']);\n\n        this.state = {\n            imageWidth: 0,\n            animate: '',\n            currentSlide: props.main\n        };\n    }\n\n    setImageWidth(width) {\n        this.setState({\n            imageWidth: width,\n        });\n    }\n\n    clearAnimate(slide) {\n        this.setState({\n            animate: '',\n            currentSlide: slide\n        });\n    }\n\n    close() {\n        if (!(this.state.animate === 'decrease')) {\n            this.setState({\n                animate: 'decrease'\n            });\n            window.setTimeout(this.props.close, this.animationTime * 1000);\n        }\n    }\n\n    componentDidMount() {\n        this.setState({\n            animate: 'increase'\n        });\n        window.setTimeout(() => this.clearAnimation(), this.animationTime * 1000);\n    }\n\n\n    clearAnimation(slide) {\n        this.setState({\n            animate: ''\n        });\n    }\n\n\n    renderThumb({style, ...props}) {\n        const thumbStyle = {\n            backgroundColor: 'white',\n            height: '70%'\n        };\n        return (\n            <div\n                style={{...style, ...thumbStyle}}\n                {...props}/>\n        );\n    }\n\n    calculateTextWidth(imgWidth) {\n        const bottomSection = document.getElementsByClassName('magnify_modal_img_frame_bottom')[0];\n        if(bottomSection){\n            const style = bottomSection.currentStyle || window.getComputedStyle(bottomSection);\n            const paddings = parseFloat(style.paddingLeft) + parseFloat(style.paddingRight);\n            return parseFloat(imgWidth) - paddings;\n        }\n        return 0;\n    }\n\n    calculateTextHeight() {\n        const bottomSection = document.getElementsByClassName('magnify_modal_img_frame_bottom')[0];\n\n        if(bottomSection && this.caption){\n            const bottomSectionStyle = bottomSection.currentStyle || window.getComputedStyle(bottomSection);\n            const paddings = parseFloat(bottomSectionStyle.paddingTop) + parseFloat(bottomSectionStyle.paddingBottom);\n\n            const captionStyle = this.caption.currentStyle || window.getComputedStyle(this.caption);\n            return parseFloat(bottomSectionStyle.height) - paddings - parseFloat(captionStyle.height);\n        }\n        return 0;\n    }\n\n    render() {\n        const {animate, imageWidth} = this.state;\n        const {images, main} = this.props;\n\n        return (\n            <Modal className={`magnify_modal ${animate}`}\n                   imageWidth={imageWidth}\n                   animationTime={this.animationTime}>\n                <div className='magnify_modal_img_frame'>\n                    <PreviewImageFrame main={main}\n                                       images={images}\n                                       editRoute={this.props.editRoute}\n                                       setImageWidth={(width) => {\n                                           this.setImageWidth(width)\n                                       }}\n                                       close={() => this.close()}\n                                       clearAnimate={(s) => this.clearAnimate(s)}\n                    />\n\n                    <BottomSection className='magnify_modal_img_frame_bottom'\n                                   imageWidth={imageWidth}>\n\n                        <div className='magnify_modal_img_frame_bottom_caption' ref={r => this.caption = r }>{this.state.currentSlide.name}</div>\n\n                        <Scroll height={this.calculateTextHeight()}\n                                width={this.calculateTextWidth(imageWidth)}\n                                className='magnify_modal_img_frame_bottom_text'\n                                progress={true}>\n                            <div>{this.state.currentSlide.text}</div>\n                        </Scroll>\n\n                    </BottomSection>\n\n                </div>\n            </Modal>\n        );\n    }\n}\n\nexport default Preview;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Preview.jsx"],"sourceRoot":""}