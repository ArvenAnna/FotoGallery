{"version":3,"sources":["webpack:///./constants/styles.js","webpack:///./components/FotoSlider.jsx","webpack:///./components/Header.jsx","webpack:///./components/newAlbum/AddNewAlbum.jsx","webpack:///./components/AlbumContainer.jsx","webpack:///./components/picture/Picture.jsx","webpack:///./components/picture/Preview.jsx","webpack:///./components/picture/PreviewImageFrame.jsx","webpack:///./components/editAlbum/EditAlbum.jsx","webpack:///./components/editAlbum/Card.jsx","webpack:///./components/dialog/Dialog.jsx","webpack:///./components/dialog/dialog.less?43df","webpack:///./components/editAlbum/EditCanvas.jsx","webpack:///./components/editAlbum/editCanvas.less?0ae2","webpack:///./components/editAlbum/ImageRotater.jsx","webpack:///./actions/albumActions.js","webpack:///./components/editAlbum/editAlbum.less","webpack:///./components/dialog/dialog.less","webpack:///./components/editAlbum/editCanvas.less","webpack:///./components/fileInput/FileInput.jsx","webpack:///./components/Icons.jsx","webpack:///./components/editAlbum/editAlbum.less?150b"],"names":["constants","module","exports","FotoSlider","React","Component","constructor","props","state","addAlbumModal","width","height","createAlbum","setState","closeModal","componentDidMount","render","Content","scrollbars","limit","Header","connect","store","fetchAlbumsBySearch","fetchAlbums","onEnter","e","key","target","value","history","push","routesModule","require","Label","styled","span","AddNewAlbum","modal","name","description","src","fileUploading","setTimeout","forceUpdate","calculateModalHeight","w","window","d","document","documentElement","g","getElementsByTagName","y","innerHeight","clientHeight","modalStyle","currentStyle","getComputedStyle","Math","min","parseInt","uploadFile","file","http","sendFile","routes","UPLOAD_FOTO","then","id","catch","r","isVideo","AlbumContainer","albums","isLoadingAlbums","pictures","map","album","_id","Picture","imageLoadStarted","magnify","valid","loading","click","animation","closePreview","mouseLeave","chooseAnimation","mouseEnter","fade","move","findSide","direction","clientRect","getClientRects","diffs","side","diff","abs","clientX","left","right","clientY","top","bottom","minDiff","Array","from","el","find","handleBrokenImg","onLoad","loadImage","url","image","Image","onload","bind","onerror","main","images","BottomSection","div","imageWidth","increase","preview_frame_color","decrease","Modal","animationTime","Preview","animate","currentSlide","setImageWidth","clearAnimate","slide","close","clearAnimation","calculateTextWidth","imgWidth","bottomSection","getElementsByClassName","style","paddings","parseFloat","paddingLeft","paddingRight","calculateTextHeight","caption","bottomSectionStyle","paddingTop","paddingBottom","captionStyle","editRoute","s","text","PreviewImageFrame","img","current","currentIndex","indexOf","length","index","getContainerHeight","addEventListener","recalculateWidth","cont","containerStyle","componentWillUnmount","removeEventListener","naturalWidth","naturalHeight","preview_border_width","innerWidth","newImages","loaded","onCrossClick","onArrowClick","arrow","loadImageURL","imageURL","imageObj","onLoadFailure","node","EditAlbum","deleteFotoFromAlbum","saveFotoDescription","saveAlbumDescription","deleteAlbum","saveItemsOrder","dragStarted","dragFrom","dragFromEl","dragObj","openPicture","openedAlbum","openedDialog","imageDownloaded","imageLoading","albumLoading","loadAlbum","doGet","GET_ALBUM","match","params","result","sort","x","order","forEach","Date","toISOString","Alert","error","response","data","openDetails","picture","openAlbumDetails","deleteItem","newPictures","filter","p","newAlbum","Object","assign","removeAlbum","changeState","obj","editedPicture","pinput","ptextarea","editedAlbum","ainput","atextarea","downloadedFoto","doPost","FOTO_ROUTE","onImageLoad","onImageError","renderEditAlbumCard","renderImages","replaceImage","renderFileInput","renderEditCanvas","renderChangeFotoTextInfoDialog","i","t","renderChangeAlbumTextInfoDialog","renderDeleteDialog","Card","replaceEvent","componentWillReceiveProps","dragContainer","replaceAttached","body","onUpBody","elementAtPoint","elementFromPoint","scrollX","scrollY","parentElement","classList","contains","changeDragState","attr","getAttribute","changePictureAndClear","onMouseDown","preventDefault","elStartLeft","elStartTop","zIndex","onMouseMove","dragState","onMouseUp","event","Event","dispatchEvent","dragToPicture","dragFromPicture","prevOrder","updateOrder","Dialog","onClose","onClick","EditCanvas","angle","getEditedImage","avatar","getImage","toBlob","split","File","cleanImage","rotateImage","newAngle","calculateParameters","newState","imgInfo","onImageFailure","closeImage","ae","isFileAPISupported","AvatarEditor","setCanvas","canvas","isVertical","rotate","isDataURL","str","regex","loadImageFile","handleImageReady","crossOrigin","imageFile","reader","FileReader","readAsDataURL","componentDidUpdate","ReactDOM","findDOMNode","context","getContext","clearRect","paintImage","onImageReady","onLoadSuccess","newProps","save","translate","PI","scale","globalCompositeOperation","drawImage","restore","createElement","defaultStyle","cursor","attributes","propTypes","PropTypes","number","oneOfType","string","instanceOf","object","oneOf","func","bool","defaultProps","albumsRequest","type","REQ_ALBUMS","setAlbums","dispatch","GET_ALBUMS","search","GET_ALBUMS_SEARCH","doDelete","DELETE_FOTO","success","DELETE_ALBUM","doPut","UPDATE_FOTO","ALBUM_ROUTE","UPDATE_ITEMS_ORDER","FileInput","onChange","files","classNames","className","label","disabled","Icon","theme","content","LeftArrowIcon","RightArrowIcon","MagnifierIcon","CrossIcon","EditIcon","SaveIcon","RotateIcon"],"mappings":"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","file":"0.6bdad9b62c89920ff43e.hot-update.js","sourcesContent":["const constants = {\n    'preview_animation_duration': '2s',\n    'picture_animation_duration': '1s',\n    'preview_frame_color': 'black',\n    'body_color': '#232326',\n    'body_color_light': '#54545b',\n    'shadow_color': 'rgba(238,130,238, 0.5)',\n    'text_color': 'white',\n    'picture_height': '200px',\n    'picture_width': '300px',\n    'picture_edit_height': '200px',\n    'picture_edit_width': '300px',\n    'border_radius': '0.3rem',\n    'add_album_border': 'white 1px solid',\n    'add_album_font_size': '1rem',\n    'dialog_bg': 'black',\n    'preview_border_width': '10px'\n};\n\nmodule.exports = constants;\n\n\n// WEBPACK FOOTER //\n// ./constants/styles.js","import React from 'react';\nimport Header from \"./Header\";\nimport AddNewAlbum from \"./newAlbum/AddNewAlbum\";\nimport AlbumContainer from \"./AlbumContainer\";\nimport {Route, Switch} from \"react-router-dom\";\nimport EditAlbum from \"./editAlbum/EditAlbum\";\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport Alert from 'react-s-alert';\nimport 'react-s-alert/dist/s-alert-default.css';\nimport 'react-s-alert/dist/s-alert-css-effects/scale.css';\n\nclass FotoSlider extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            addAlbumModal: false,\n            width: 0,\n            height: 0\n        }\n    }\n\n    createAlbum() {\n        this.setState({\n            addAlbumModal: true\n        });\n    }\n\n    closeModal() {\n        this.setState({\n            addAlbumModal: false\n        });\n    }\n\n    componentDidMount() {\n        //setTimeout(() => this.scrollbars.forceUpdate(), 100);\n    }\n\n\n\n    render() {\n\n        const Content = () => <div className=\"app_container\">\n            {this.state.addAlbumModal && <AddNewAlbum closeModal={() => this.closeModal()}/>}\n\n            <div className=\"app_page\">\n                <Header createAlbum={() => this.createAlbum()}/>\n                <Switch>\n                    <Route exact path='/' component={AlbumContainer}/>\n                    <Route path='/edit/:id' component={EditAlbum}/>\n                </Switch>\n            </div>\n        </div>;\n\n        return this.state.addAlbumModal ? <Content/> :\n            [<Scrollbars\n                className=\"scroll_bar\"\n                hideTracksWhenNotNeeded={true}\n                ref={(scrollbars) => this.scrollbars = scrollbars}>\n            <Content/>\n        </Scrollbars>,<Alert stack={{limit: 3}}\n                             effect='scale'\n                             timeout={5000}\n                             position='top-right'\n                //              beep={{\n                // info: '/path-to-audio/file-info.mp3',\n                // error: '/path-to-audio/file-error.mp3',\n                // warning: '/path-to-audio/file-warning.mp3',\n                // success: '/path-to-audio/file-success.mp3'}}\n            />]\n    }\n}\n\nexport default FotoSlider;\n\n\n// WEBPACK FOOTER //\n// ./components/FotoSlider.jsx","import React from 'react';\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums, fetchAlbumsBySearch} from \"../actions/albumActions\";\nimport withRouter from \"react-router-dom/es/withRouter\";\nimport {NavLink} from 'react-router-dom';\n\n@withRouter\n@connect(store => ({}), {\n    fetchAlbumsBySearch,\n    fetchAlbums\n})\nclass Header extends React.Component {\n\n    onEnter(e) {\n        if (e.key == \"Enter\") {\n            if(e.target.value) this.props.fetchAlbumsBySearch(e.target.value);\n            else this.props.fetchAlbums();\n            this.props.history.push('/');\n        }\n    }\n\n    render() {\n        return (\n                [<div key=\"header_menu\" className=\"header_menu\">\n                    <div className=\"menu_item\" onClick={this.props.createAlbum}>new album</div>\n                    <div className=\"menu_item\"><NavLink to='/'>album's list</NavLink></div>\n                </div>,\n                <div className=\"search_menu\" key=\"search\">Search: <input className=\"search_input\" defaultValue=''\n                    onKeyPress={(e) => this.onEnter(e)}/>\n                </div>]\n        );\n    }\n}\n\nexport default Header;\n\n\n// WEBPACK FOOTER //\n// ./components/Header.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport {CrossIcon} from \"../Icons\";\nimport FileInput from \"../fileInput/FileInput\";\nimport './addNewAlbum.less';\nimport connect from \"react-redux/es/connect/connect\";\nimport {isVideo} from \"../../utils/index\";\nimport {Scrollbars} from \"react-custom-scrollbars\";\nconst routesModule = require('../../constants/routes');\nimport http from '../../HttpService';\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\nimport {\n    createAlbum\n} from \"../../actions/albumActions\";\n\nconst Label = styled.span`\n  width: 100%;\n  margin-bottom: 0.25rem;\n`\n\n@connect(store => ({}), {\n    createAlbum\n})\nclass AddNewAlbum extends React.Component {\n    constructor(props) {\n        super(props);\n        this.modal = null;\n        this.state = {\n            height: '100%',\n            name: '',\n            description: '',\n            src: null,\n            fileUploading: false\n        }\n    }\n\n    componentDidMount() {\n        setTimeout(() => this.scrollbars.forceUpdate(), 100);\n\n        // window.addEventListener('resize', () => this.calculateModalHeight())\n        this.calculateModalHeight();\n    }\n\n    calculateModalHeight() {\n        var w = window,\n            d = document,\n            e = d.documentElement,\n            g = d.getElementsByTagName('body')[0],\n            y = w.innerHeight || e.clientHeight || g.clientHeight;\n\n        if (this.modal) {\n            const modalStyle = this.modal.currentStyle || window.getComputedStyle(this.modal);\n            const height = Math.min(parseInt(y), parseInt(modalStyle.height)) + 'px';\n            this.setState({\n                height\n            });\n        }\n    }\n\n    uploadFile(file) {\n        this.setState({fileUploading: true});\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(id => {\n                this.setState({src: id.src, fileUploading: false});\n            })\n            .catch(e => this.setState({fileUploading: false}));\n    }\n\n    createAlbum() {\n        const {name, description, src} = this.state;\n        if (name && description && src) {\n            this.props.createAlbum({\n                name, description, src\n            });\n            this.props.closeModal();\n        }\n\n    }\n\n    render() {\n        const {name, description, src, fileUploading, height} = this.state;\n\n        return <div className='add_album'>\n            <Scrollbars\n                hideTracksWhenNotNeeded={true}\n                className=\"scroll_bar\"\n                // renderTrackVertical={({ style, ...props }) =>\n                        //     <div {...props} style={{ ...style, backgroundColor: 'blue' }}/>}\n                         // renderTrackVertical={props => <div {...props} className=\"track-vertical\"/>}\n                         // renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}\n                        ref={(scrollbars) => this.scrollbars = scrollbars}\n            >\n            <div className='add_album_modal' ref={r => this.modal = r}>\n\n                <CrossIcon className=\"cross_icon\" onClick={this.props.closeModal}/>\n                <Label>Name</Label>\n                <input value={name} onChange={(e) => this.setState({name: e.target.value})}/>\n                <Label>Title image:</Label>\n                {fileUploading\n                    ? <Loader type=\"ball-scale-multiple\"/>\n                    : src\n                    ? (isVideo(src) ? <video controls=\"controls\"><source src={src}/></video> : <img src={src}/>)\n                    :\n                    <FileInput label='Choose main foto'\n                               uploadFile={(file) => this.uploadFile(file)}/>}\n                <Label>Description</Label>\n                <textarea value={description} onChange={(e) => this.setState({description: e.target.value})}/>\n                {src && !isVideo(src) && <div className=\"warning\">You will be able to rotate your foto in the edit mode after album creation.</div>}\n                <button className=\"ok_button\" onClick={() => this.createAlbum()}>ok</button>\n\n            </div>\n            </Scrollbars>\n        </div>\n\n\n    }\n}\n\nexport default AddNewAlbum;\n\n\n// WEBPACK FOOTER //\n// ./components/newAlbum/AddNewAlbum.jsx","import React from 'react';\nimport Picture from \"./picture/Picture\";\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums} from \"../actions/albumActions\";\nimport Loader from 'react-loaders';\nimport './albumContainer.less';\nimport 'loaders.css/src/animations/ball-grid-pulse.scss';\n\n@connect(store => ({\n    albums: store.albums,\n    isLoadingAlbums: store.isLoadingAlbums\n}), {\n    fetchAlbums\n})\nclass AlbumContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props.fetchAlbums();\n    }\n\n\n    render() {\n        if(!this.props.albums) return <Loader type=\"ball-grid-pulse\" className='Data_loader'/>;\n        const pictures = this.props.albums.map(album => <Picture key={album._id}\n                                                                 animation='fade'\n                                                                 album={album}/>);\n        return pictures;\n    }\n}\n\nexport default AlbumContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/AlbumContainer.jsx","import React from \"react\";\nimport {MagnifierIcon} from \"../Icons\";\nimport \"./picture.less\";\nimport Preview from \"./Preview\";\nimport {isVideo} from \"../../utils/index\";\nimport Loader from 'react-loaders';\nimport * as styles from \"../../constants/styles\";\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\n\n\nclass Picture extends React.Component {\n    // animation: fade, move\n\n    constructor(props) {\n        super(props);\n        this.imageLoadStarted = false;\n\n        this.state = {\n            magnify: '',\n            valid: true,\n            loading: true,\n        };\n    }\n\n    click() {\n        this.setState({\n            magnify: 'magnify',\n            animation: ''\n        });\n    };\n\n    closePreview() {\n        this.setState({\n            magnify: ''\n        });\n    }\n\n    mouseLeave(e) {\n        !this.state.magnify && this.chooseAnimation(e, 'fade_out', 'from');\n    };\n\n    mouseEnter(e) {\n        !this.state.magnify && this.chooseAnimation(e, 'fade_in', 'to');\n    };\n\n    chooseAnimation(e, fade, move) {\n        switch (this.props.animation) {\n            case 'fade':\n                this.setState({\n                    animation: fade\n                });\n                break;\n            case 'move':\n                this.setState({\n                    animation: this.findSide(e, move)\n                });\n        }\n    }\n\n    findSide(e, direction) {\n        const clientRect = e.target.getClientRects()[0];\n        const diffs = [\n            {\n                side: `move_${direction}_right`,\n                diff: Math.abs(e.clientX - clientRect.left)\n            }, {\n                side: `move_${direction}_left`,\n                diff: Math.abs(e.clientX - clientRect.right)\n            }, {\n                side: `move_${direction}_bottom`,\n                diff: Math.abs(e.clientY - clientRect.top)\n            }, {\n                side: `move_${direction}_top`,\n                diff: Math.abs(e.clientY - clientRect.bottom)\n            }\n        ];\n\n        const minDiff = Math.min(...Array.from(diffs, el => el.diff));\n        return diffs.find(el => el.diff == minDiff).side;\n    }\n\n    handleBrokenImg(e) {\n        this.imageLoadStarted = true;\n        this.setState({\n            loading: false,\n            valid: false\n        })\n    }\n\n    onLoad() {\n        this.imageLoadStarted = true;\n        this.setState({loading: false});\n    }\n\n    loadImage(url) {\n        let image = new Image();\n        image.onload = this.onLoad.bind(this);\n        image.onerror = this.handleBrokenImg.bind(this);\n        image.src = url;\n    }\n\n    render() {\n        const {album} = this.props;\n        const main = album.images[0];\n        const {animation, magnify, loading} = this.state;\n        if (!this.imageLoadStarted) this.loadImage(main.src);\n\n        return this.state.valid && <div className=\"image_main_wrapper\">\n                <div\n                    className={`image_wrapper ${animation} ${magnify}`}\n                    onMouseLeave={(e) => this.mouseLeave(e)}\n                    onMouseEnter={(e) => this.mouseEnter(e)}\n                    onClick={(e) => this.click(e)}\n                >\n                    {loading\n                        ? <Loader type=\"ball-scale-multiple\" className=\"image_loader\"/>\n                        : isVideo(main.src)\n                            ? <video height={styles.picture_height}\n                                     width={styles.picture_width}\n                                     className=\"video\">\n                                <source src={main.src}/>\n                            </video>\n                            : <img className='image'\n                                   src={main.src}\n                                   alt=\"something wrong happens\"/>}\n                    <div className={'overlay'}>\n                        <div className={`overlay_top`}>\n                            <MagnifierIcon/>\n                        </div>\n                        <div className={`overlay_bottom`}>\n                            <div className='overlay_bottom_text'>{album.name}</div>\n                        </div>\n                    </div>\n                </div>\n                {magnify && [<div key=\"preview_overlay\" className=\"preview_overlay\"/>,\n                <Preview main={main}\n                         key=\"preview\"\n                         close={() => this.closePreview()}\n                         editRoute={`/edit/${album._id}`}\n                         images={album.images}/>]}\n            </div>;\n    }\n}\n\nexport default Picture;\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Picture.jsx","import React from \"react\";\nimport styled, {keyframes} from 'styled-components';\n//import { Scrollbars } from 'react-custom-scrollbars';\nimport './preview.less';\nimport PreviewImageFrame from \"./PreviewImageFrame\";\nimport constants from '../../constants/styles';\nimport Scroll from \"../scroll/Scroll\";\n\nconst BottomSection = styled.div`\n   width: ${props => props.imageWidth};\n`\n\nconst increase = (props) => keyframes`\n   0% {\n      height: 0;\n      width: 0;\n      background-color: transparent;\n  }\n  50% {\n      height: 90%;\n      width: ${props.imageWidth};\n      background-color: transparent;  \n  }\n  100% {\n      background-color: ${constants.preview_frame_color};\n  }\n`\n\nconst decrease = (props) => keyframes`\n   0% {\n      background-color: ${constants.preview_frame_color};\n   }\n   50% {\n      height: 90%;\n      width: ${props.imageWidth};\n      background-color: transparent;\n  }\n  100% {\n      height: 0;\n      width: 0;\n      background-color: transparent;\n  }\n`\n\nconst Modal = styled.div`\n&.increase {\n  .magnify_modal_img_frame {\n    animation: ${increase} ${props => props.animationTime}s ease;\n  }\n}\n\n&.decrease {\n  .magnify_modal_img_frame {\n    animation: ${decrease} ${props => props.animationTime}s ease;\n  }\n}\n`\n\nclass Preview extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.animationTime = parseInt(constants['preview_animation_duration']);\n\n        this.state = {\n            imageWidth: 0,\n            animate: '',\n            currentSlide: props.main\n        };\n    }\n\n    setImageWidth(width) {\n        this.setState({\n            imageWidth: width,\n        });\n    }\n\n    clearAnimate(slide) {\n        this.setState({\n            animate: '',\n            currentSlide: slide\n        });\n    }\n\n    close() {\n        this.props.close();\n    }\n\n    clearAnimation(slide) {\n        this.setState({\n            animate: ''\n        });\n    }\n\n\n    calculateTextWidth(imgWidth) {\n        const bottomSection = document.getElementsByClassName('magnify_modal_img_frame_bottom')[0];\n        if(bottomSection){\n            const style = bottomSection.currentStyle || window.getComputedStyle(bottomSection);\n            const paddings = parseFloat(style.paddingLeft) + parseFloat(style.paddingRight);\n            return parseFloat(imgWidth) - paddings;\n        }\n        return 0;\n    }\n\n    calculateTextHeight() {\n        const bottomSection = document.getElementsByClassName('magnify_modal_img_frame_bottom')[0];\n\n        if(bottomSection && this.caption){\n            const bottomSectionStyle = bottomSection.currentStyle || window.getComputedStyle(bottomSection);\n            const paddings = parseFloat(bottomSectionStyle.paddingTop) + parseFloat(bottomSectionStyle.paddingBottom);\n\n            const captionStyle = this.caption.currentStyle || window.getComputedStyle(this.caption);\n            return parseFloat(bottomSectionStyle.height) - paddings - parseFloat(captionStyle.height);\n        }\n        return 0;\n    }\n\n    render() {\n        const {animate, imageWidth} = this.state;\n        const {images, main} = this.props;\n\n        return (\n            <Modal className={`magnify_modal`}\n                   imageWidth={imageWidth}\n                   animationTime={this.animationTime}>\n                <div className={`magnify_modal_img_frame`}>\n                    <PreviewImageFrame main={main}\n                                       images={images}\n                                       editRoute={this.props.editRoute}\n                                       setImageWidth={(width) => {\n                                           this.setImageWidth(width)\n                                       }}\n                                       close={() => this.close()}\n                                       clearAnimate={(s) => this.clearAnimate(s)}\n                    />\n\n                    <BottomSection className='magnify_modal_img_frame_bottom'\n                                   imageWidth={imageWidth}>\n\n                        <div className='magnify_modal_img_frame_bottom_caption' ref={r => this.caption = r }>{this.state.currentSlide.name}</div>\n\n                        <Scroll height={this.calculateTextHeight()}\n                                width={this.calculateTextWidth(imageWidth)}\n                                className='magnify_modal_img_frame_bottom_text'\n                                progress={true}>\n                            <div>{this.state.currentSlide.text}</div>\n                        </Scroll>\n\n                    </BottomSection>\n\n                </div>\n            </Modal>\n        );\n    }\n}\n\nexport default Preview;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Preview.jsx","import React from \"react\";\nimport {CrossIcon, EditIcon, LeftArrowIcon, RightArrowIcon} from \"../Icons\";\nimport \"./preview.less\";\nimport {Link} from \"react-router-dom\";\nimport {isVideo} from \"../../utils/index\";\nimport constants from '../../constants/styles';\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\n\nclass PreviewImageFrame extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.img = null;\n\n    const current = props.images.find(img => img.src === props.main.src);\n    const currentIndex = props.images.indexOf(current);\n\n    this.state = {\n      imageWidth: 0,\n      main: props.main,\n      left: currentIndex > 0,\n      right: currentIndex < (props.images.length - 1),\n      images: props.images,\n      index: currentIndex\n    };\n  }\n\n  componentDidMount() {\n    this.height = this.getContainerHeight();\n    window.addEventListener('resize', () => this.recalculateWidth());\n  }\n\n  getContainerHeight() {\n    if (this.cont) {\n        const containerStyle = this.cont.currentStyle || window.getComputedStyle(this.cont);\n        return parseFloat(containerStyle.height);\n    }\n    return 0;\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', () => this.recalculateWidth());\n  }\n\n  recalculateWidth() {\n    const naturalWidth = this.state.images[this.state.index].naturalWidth;\n    const naturalHeight = this.state.images[this.state.index].naturalHeight;\n\n    if (naturalWidth && naturalHeight &&  this.cont) {\n        this.height = this.getContainerHeight();\n        let width = naturalWidth * this.height/ naturalHeight;\n        if((width + parseFloat(constants.preview_border_width) * 2) > window.innerWidth) {\n            width  = window.innerWidth - parseFloat(constants.preview_border_width) * 2;\n            const height = naturalHeight * width / naturalWidth;\n            this.cont.style.height = height;\n        }\n        this.cont.style.width = width;\n        this.props.setImageWidth(width);\n    }\n\n  }\n\n  onLoad(e) {\n    let width = e.target.naturalWidth * this.height / e.target.naturalHeight;\n    let newImages = [...this.state.images];\n    newImages[this.state.index].naturalWidth = e.target.naturalWidth;\n    newImages[this.state.index].naturalHeight = e.target.naturalHeight;\n    newImages[this.state.index].loaded = true;\n      if((width + parseFloat(constants.preview_border_width) * 2) > window.innerWidth) {\n          width  = window.innerWidth - parseFloat(constants.preview_border_width) * 2;\n          const height = e.target.naturalHeight * width / e.target.naturalWidth;\n          this.cont.style.height = height;\n\n      }\n    this.cont.style.width = width;\n    this.setState({images: newImages});\n    this.props.setImageWidth(width);\n  }\n\n  onCrossClick() {\n    this.props.close();\n  }\n\n  onArrowClick(arrow) {\n    const {images} = this.props;\n    const currentIndex = images.indexOf(this.state.main);\n    let main;\n\n    if (arrow === 'left' && currentIndex > 0) {\n      main = images[currentIndex - 1];\n      this.setState({\n        main,\n        left: (currentIndex - 1) > 0,\n        right: (currentIndex - 1) < (images.length - 1),\n        index: currentIndex - 1\n      }, this.recalculateWidth);\n    }\n\n    if (arrow === 'right' && currentIndex < (images.length - 1)) {\n        main = images[currentIndex + 1];\n        this.setState({\n        main,\n        left: (currentIndex + 1) > 0,\n        right: (currentIndex + 1) < (images.length - 1),\n        index: currentIndex + 1\n      }, this.recalculateWidth)\n    }\n\n    this.props.clearAnimate(main);\n  }\n\n  loadImageURL (imageURL) {\n        const imageObj = new Image();\n        imageObj.onload = this.onLoad.bind(this);\n        imageObj.onerror = this.onLoadFailure.bind(this);\n        imageObj.src = imageURL;\n  }\n\n  onLoadFailure() {\n      let newImages = [...this.state.images];\n      newImages[this.state.index].loaded = true;\n      this.setState({images: newImages});\n  }\n\n  render() {\n    const {main, left, right, images, index} = this.state;\n    const {editRoute} = this.props;\n    if(!images[index].loaded) this.loadImageURL(images[index].src);\n\n    return (<div className='magnify_modal_img_frame_container' ref={cont => this.cont = cont}>\n        <CrossIcon className='cross' onClick={() => this.onCrossClick()}/>\n            {editRoute && <Link to={this.props.editRoute}><EditIcon className='edit'/></Link>}\n        {left && <div className='left_arrow'>\n          <LeftArrowIcon onClick={() => this.onArrowClick('left')}/>\n        </div>}\n        {right && <div className='right_arrow'>\n          <RightArrowIcon onClick={() => this.onArrowClick('right')}/>\n        </div>}\n        <div className='counter_container'>\n          <div className='counter'>{`${(images.indexOf(main) + 1)} of ${images.length}`}</div>\n        </div>\n        {!images[index].loaded ? <Loader type=\"ball-scale-multiple\"/> : isVideo(main.src)\n            ? <video controls=\"controls\"\n                     ref={node => this.img = node}\n                     //onLoad={(e) => this.onLoad(e)}\n                     className=\"image_preview\"\n                     >\n              <source src={main.src}/>\n            </video>\n            :<img\n                //onLoad={(e) => this.onLoad(e)}\n                  src={main.src} className='image_preview'\n                  ref={node => this.img = node}/>}\n      </div>\n    );\n  }\n}\n\nexport default PreviewImageFrame;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/PreviewImageFrame.jsx","import React from 'react';\nimport './editAlbum.less';\nimport FileInput from \"../fileInput/FileInput\";\nimport {CrossIcon, SaveIcon} from \"../Icons\";\nimport Card from \"./Card\";\nimport http from '../../HttpService';\nimport connect from \"react-redux/es/connect/connect\";\nimport {\n    deleteAlbum, deleteFotoFromAlbum, saveAlbumDescription,\n    saveFotoDescription, saveItemsOrder\n} from \"../../actions/albumActions\";\nimport Dialog from \"../dialog/Dialog\";\nimport EditCanvas from \"./EditCanvas\";\nimport {isVideo} from \"../../utils/index\";\nimport * as styles from \"../../constants/styles\";\nconst routesModule = require('../../constants/routes');\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\nimport 'loaders.css/src/animations/ball-grid-pulse.scss';\nimport Alert from 'react-s-alert';\n\n\n@connect(store => ({}), {\n    deleteFotoFromAlbum,\n    saveFotoDescription,\n    saveAlbumDescription,\n    deleteAlbum,\n    saveItemsOrder\n})\nclass EditAlbum extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dragStarted: false,\n            dragFrom: null,\n            dragFromEl: null,\n            dragObj: null,\n            openPicture: null,\n            openedAlbum: false,\n            album: null,\n            openedDialog: false,\n            imageDownloaded: false,\n            imageLoading: true,\n            imageLoadStarted: false,\n            albumLoading: false\n        }\n    }\n\n    componentDidMount() {\n        this.loadAlbum();\n    }\n\n    loadAlbum() {\n        this.setState({albumLoading: true});\n        http.doGet(routesModule.routes.GET_ALBUM(this.props.match.params.id))\n            .then(result => {\n                result.images.sort((x, y) => x.order - y.order);\n                result.images.forEach(image => image.src = image.src + '?forceUpdate=' + new Date().toISOString())\n                this.setState({album: result, albumLoading: false});\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n\n    openDetails(picture) {\n        this.setState({openPicture: picture});\n    }\n\n    openAlbumDetails() {\n        this.setState({openedAlbum: true});\n    }\n\n    onCrossClick() {\n        this.setState({openPicture: null, openedAlbum: false});\n    }\n\n    deleteItem(picture) {\n        if (this.state.album.images.length == 1) {\n            this.setState({openedDialog: true});\n            return;\n        }\n\n        this.props.deleteFotoFromAlbum(picture._id);\n        const newPictures = this.state.album.images.filter(p => p._id != picture._id);\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        })\n        this.setState({album: newAlbum});\n    }\n\n    removeAlbum() {\n        this.props.deleteAlbum(this.state.album._id);\n        this.props.history.push('/');\n    }\n\n    changeState(obj) {\n        this.setState(obj);\n    }\n\n    saveFotoDescription(picture) {\n        const newPictures = [...this.state.album.images];\n        const editedPicture = this.state.album.images.find(p => p._id == picture._id);\n        if (this.pinput.value) editedPicture.name = this.pinput.value;\n        if (this.ptextarea.value) editedPicture.text = this.ptextarea.value;\n\n        this.props.saveFotoDescription(this.state.album._id, editedPicture);\n\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        });\n        this.setState({album: newAlbum, openPicture: null});\n    }\n\n    saveAlbumDescription() {\n        const editedAlbum = Object.assign({}, {...this.state.album});\n        if (this.ainput.value) editedAlbum.name = this.ainput.value;\n        if (this.atextarea.value) editedAlbum.description = this.atextarea.value;\n\n        this.props.saveAlbumDescription(editedAlbum);\n\n        this.setState({album: editedAlbum, openedAlbum: false});\n    }\n\n    uploadFile(file) {\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(downloadedFoto => {\n                if (isVideo(downloadedFoto.src)) {\n                    http.doPost(routesModule.routes.FOTO_ROUTE, {\n                        src: downloadedFoto.src,\n                        album: this.state.album._id\n                    }).then(result => {\n                        const newPictures = [...this.state.album.images];\n                        newPictures.push(result);\n                        const newAlbum = Object.assign({}, {\n                            ...this.state.album,\n                            images: newPictures,\n                        });\n\n                        this.setState({\n                            //imageDownloaded: null,\n                            album: newAlbum\n                        });\n                    });\n                } else {\n                    this.setState({\n                        imageDownloaded: downloadedFoto.src\n                    });\n                }\n\n            });\n    }\n\n    onImageLoad() {\n        this.setState({imageLoading: false, });\n    }\n\n    onImageError() {\n        this.setState({imageLoading: false});\n    }\n\n    loadImage(src) {\n        this.setState({imageLoadStarted: true});\n        const imageObj = new Image()\n        imageObj.onload = this.onImageLoad.bind(this);\n        imageObj.onerror = this.onImageError.bind(this);\n        imageObj.src = src;\n    }\n\n    renderEditAlbumCard() {\n        if(!this.state.imageLoadStarted) this.loadImage(this.state.album.images[0].src);\n        return <div className='edit_album_card' key=\"edit_album_card\">\n            {this.state.imageLoading ? <Loader type=\"ball-scale-multiple\"/> : isVideo(this.state.album.images[0].src)\n                ? <video className=\"album_image\"\n                         height={styles.picture_edit_height}\n                         width={styles.picture_edit_width}\n                         controls=\"controls\">\n                    <source src={this.state.album.images[0].src}/>\n                </video>\n                : <img className='album_image'\n                       src={this.state.album.images[0].src}/>}\n            <div className='album_name' onClick={() => this.openAlbumDetails()}>{this.state.album.name}</div>\n            <CrossIcon className='cross_icon' onClick={() => this.setState({openedDialog: true})}/>\n        </div>\n    }\n\n    renderImages() {\n        return this.state.album.images.sort((x, y) => x.order - y.order).map(p => <Card\n            key={p._id}\n            picture={p}\n            pictures={this.state.album.images}\n            openDetails={(p) => this.openDetails(p)}\n            deleteItem={(p) => this.deleteItem(p)}\n            replaceImage={(target) => this.replaceImage(target)}\n            openPicture={this.state.openPicture}\n            changeDragState={(obj) => this.changeState(obj)}\n            dragState={this.state}\n            updateOrder={(album) => this.props.saveItemsOrder(album)}\n            loadAlbum={() => this.loadAlbum()}\n        />)\n    }\n\n    renderFileInput() {\n        return !this.state.imageDownloaded && <FileInput className='edit_file_input'\n                                                         disabled={this.state.openPicture}\n                                                         label='Choose new foto'\n                                                         uploadFile={(file) => this.uploadFile(file)}\n            />\n    }\n\n    renderEditCanvas() {\n        return this.state.imageDownloaded && !isVideo(this.state.imageDownloaded) && <EditCanvas\n                image={this.state.imageDownloaded}\n                cleanImage={obj => this.changeState(obj)}\n                album={this.state.album}\n            />\n    }\n\n    renderChangeFotoTextInfoDialog() {\n        return this.state.openPicture &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter foto name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveFotoDescription(this.state.openPicture)}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.openPicture.name} ref={i => this.pinput = i}/>\n                    <textarea defaultValue={this.state.openPicture.text} ref={t => this.ptextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderChangeAlbumTextInfoDialog() {\n        return this.state.openedAlbum &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter album name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveAlbumDescription()}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.album.name} ref={i => this.ainput = i}/>\n                    <textarea defaultValue={this.state.album.description} ref={t => this.atextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderDeleteDialog() {\n        return this.state.openedDialog && <Dialog onClick={() => this.removeAlbum()}\n                                                  onClose={() => this.setState({openedDialog: false})}\n                                                  text=\"Do you really want to delete the album?\"/>\n    }\n\n\n    render() {\n        const {album, albumLoading} = this.state;\n        if(albumLoading) return <Loader type=\"ball-grid-pulse\" className='Data_loader'/>;\n        if (!album) return null;\n\n        return <React.Fragment>\n            {this.renderEditAlbumCard()}\n            {this.renderImages()}\n            {this.renderFileInput()}\n            {this.renderEditCanvas()}\n            {this.renderChangeFotoTextInfoDialog()}\n            {this.renderChangeAlbumTextInfoDialog()}\n            {this.renderDeleteDialog()}\n        </React.Fragment>;\n    }\n}\n\nexport default EditAlbum;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditAlbum.jsx","import React from 'react';\nimport './editAlbum.less';\nimport {CrossIcon, EditIcon} from \"../Icons\";\nimport {isVideo} from \"../../utils/index\";\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\nimport * as styles from \"../../constants/styles\";\n\nclass Card extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.replaceEvent = 'replace';\n        this.state = {\n            imageLoading: true,\n            imageLoadStarted: false\n        }\n    }\n\n\n    componentWillReceiveProps() {\n        if (this.dragContainer && !this.replaceAttached) {\n            this.replaceAttached = true;\n            this.dragContainer.addEventListener(this.replaceEvent, e => this.replaceImage(e.target));\n            document.body.addEventListener('mouseup', e => this.onUpBody(e));\n        }\n    }\n\n    onUpBody(e) {\n        const elementAtPoint = document.elementFromPoint(e.clientX + window.scrollX, e.clientY + window.scrollY)\n            .parentElement;\n        if (!elementAtPoint.classList.contains('drag_container')) {\n            this.props.changeDragState({dragStarted: false, dragFrom: null, dragObj: null, dragFromEl: null});\n        }\n    }\n\n    replaceImage(target) {\n        const attr = target.getAttribute('imgid');\n        const picture = this.props.pictures.find(p => p._id == attr);\n\n        this.changePictureAndClear(picture);\n    }\n\n    onMouseDown(e, picture) {\n        e.preventDefault();\n\n        const target = e.target.parentElement;\n\n        const x = e.clientX + window.scrollX;\n        const y = e.clientY + window.scrollY;\n\n        const style = target.currentStyle || window.getComputedStyle(target);\n\n        const elStartLeft = parseInt(style.left, 10);\n        const elStartTop = parseInt(style.top, 10);\n        const dragObj = {\n            x, y, elStartLeft, elStartTop\n        }\n        target.style.zIndex = 10;\n        this.props.changeDragState({dragStarted: true, dragFrom: picture, dragObj, dragFromEl: target});\n        target.style.zIndex = 10;\n    }\n\n    onMouseMove(e, picture) {\n        e.preventDefault();\n        const {dragFrom, dragStarted, dragObj} = this.props.dragState;\n        const target = e.target.parentElement;\n        if (dragStarted && dragFrom == picture) {\n            const x = e.clientX + window.scrollX;\n            const y = e.clientY + window.scrollY;\n            target.style.top = (dragObj.elStartTop + y - dragObj.y) + 'px';\n            target.style.left = (dragObj.elStartLeft + x - dragObj.x) + 'px';\n        }\n    }\n\n    onMouseUp(e, picture) {\n        e.preventDefault();\n\n        const {dragFrom, dragFromEl} = this.props.dragState;\n        const target = e.target.parentElement;\n\n        if(!dragFromEl) {\n            return;\n        }\n\n        dragFromEl.style.top = '0px';\n        dragFromEl.style.left = '0px';\n\n        target.style.top = '0px';\n        target.style.left = '0px';\n\n        dragFromEl.style.zIndex = 0;\n\n        if (picture == dragFrom) {\n            const event = new Event(this.replaceEvent);\n            const elementAtPoint = document.elementFromPoint(e.clientX + window.scrollX, e.clientY + window.scrollY)\n                .parentElement;\n            if (elementAtPoint.classList.contains('drag_container')) {\n                elementAtPoint.dispatchEvent(event);\n            } else {\n                this.props.changeDragState({dragStarted: false, dragFrom: null, dragObj: null, dragFromEl: null});\n            }\n\n            return;\n        }\n\n        this.changePictureAndClear(picture);\n    }\n\n    changePictureAndClear(picture) {\n        const {dragFrom, album} = this.props.dragState;\n\n        const newPictures = [...album.images];\n\n        const dragToPicture = album.images.find(p => p._id == picture._id);\n       // editedPicture.order = prevOrder;\n        const dragFromPicture = album.images.find(p => p._id == dragFrom._id);\n\n        const prevOrder = dragFromPicture.order;\n        dragFromPicture.order = dragToPicture.order;\n        dragToPicture.order = prevOrder;\n\n        newPictures.sort((x, y) => x.order - y.order);\n\n        const newAlbum = Object.assign({}, {\n            ...album,\n            images: newPictures,\n        });\n\n        this.props.updateOrder(newAlbum);\n        this.props.changeDragState({dragStarted: false, dragFrom: null, dragObj: null, dragFromEl: null, album: newAlbum});\n    }\n\n    onImageLoad() {\n        this.setState({imageLoading: false});\n    }\n\n    onImageError() {\n        this.setState({imageLoading: false});\n    }\n\n    loadImage(src) {\n        this.setState({imageLoadStarted: true});\n        const imageObj = new Image();\n        imageObj.onload = this.onImageLoad.bind(this);\n        imageObj.onerror = this.onImageError.bind(this);\n        imageObj.src = src;\n    }\n\n    render() {\n        const {picture, openPicture} = this.props;\n        const {imageLoading, imageLoadStarted} = this.state;\n        if (!imageLoadStarted && picture) this.loadImage(picture.src);\n        return openPicture\n            ? <div className='drag_container'\n                   imgid={picture._id}>\n                <img className='drag_image'\n                     src={picture.src}\n                     draggable={false}/>\n            </div>\n            : <div className='drag_container'\n                   ref={r => this.dragContainer = r}\n                   imgid={picture._id}\n                   draggable={true}\n                   onMouseDown={e => this.onMouseDown(e, picture)}\n                   onMouseUp={e => this.onMouseUp(e, picture)}\n                   onMouseMove={e => this.onMouseMove(e, picture)}>\n                {imageLoading ? <Loader type=\"ball-scale-multiple\"/> : isVideo(picture.src)\n                    ? <video height={styles.picture_edit_height}\n                             controls=\"controls\"\n                             className='drag_image'>\n                    <source src={picture.src}/>\n                </video>\n                    : <img className='drag_image' src={picture.src}/>}\n                <CrossIcon className='cross_icon' onClick={() => this.props.deleteItem(picture)}/>\n                <EditIcon className='edit_icon' onClick={() => this.props.openDetails(picture)}/>\n                <div className='text_description' onClick={() => this.props.openDetails(picture)}>{picture.name}</div>\n            </div>\n    }\n}\n\nexport default Card;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/Card.jsx","import React from 'react';\nimport {CrossIcon} from \"../Icons\";\nimport './dialog.less';\n\n\nclass Dialog extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n\n    render() {\n        return <div className=\"Dialog\">\n                <CrossIcon className=\"cross\" onClick={this.props.onClose}/>\n                <div className=\"Dialog_text\">{this.props.text}</div>\n                <button className=\"Dialog_ok_button\" onClick={this.props.onClick}>ok</button>\n            </div>\n    }\n}\n\nexport default Dialog;\n\n\n\n// WEBPACK FOOTER //\n// ./components/dialog/Dialog.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./dialog.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./dialog.less\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./dialog.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/dialog/dialog.less\n// module id = 219\n// module chunks = 0","import React from 'react';\nimport './editCanvas.less';\nimport {CrossIcon, RotateIcon, SaveIcon} from \"../Icons\";\nimport AvatarEditor from \"./ImageRotater\";\nimport * as styles from \"../../constants/styles\";\nconst routesModule = require('../../constants/routes');\nimport http from '../../HttpService';\n\nclass EditCanvas extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            angle: 0,\n            width: parseInt(styles.picture_edit_width),\n            height: parseInt(styles.picture_edit_height),\n            imageLoading: true\n        }\n    }\n\n    getEditedImage() {\n        const {album, image} = this.props;\n        this.avatar.getImage().toBlob(img => {\n            let name = image.split('/');\n            name = name[name.length - 1];\n            const file = new File([img], name);\n\n            http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n                .then(downloadedFoto => {\n                    http.doPost(routesModule.routes.FOTO_ROUTE, {\n                        src: downloadedFoto.src,\n                        album: album._id\n                    }).then(result => {\n                            const newPictures = [...album.images];\n                            newPictures.push(result);\n                            const newAlbum = Object.assign({}, {\n                                ...album,\n                                images: newPictures,\n                            });\n\n                            this.props.cleanImage({\n                                imageDownloaded: null,\n                                album: newAlbum\n                            });\n                        });\n                });\n        });\n    }\n\n    rotateImage() {\n        const newAngle = this.state.angle + 90;\n        this.calculateParameters(newAngle);\n    }\n\n    calculateParameters(newAngle) {\n        const newState = {\n            height: parseInt(styles.picture_edit_height),\n            angle : newAngle\n        };\n        newState.width = newAngle % 180 == 0\n            ? parseInt(this.naturalWidth * this.state.height / this.naturalHeight)\n            : parseInt(this.naturalHeight * this.state.height / this.naturalWidth);\n        this.setState(newState);\n    }\n\n    onLoad(imgInfo) {\n        this.setState({imageLoading: false});\n        this.naturalWidth = imgInfo.naturalWidth;\n        this.naturalHeight = imgInfo.naturalHeight;\n\n        this.calculateParameters(this.state.angle);\n    }\n\n    onImageFailure() {\n        this.setState({imageLoading: false});\n    }\n\n    closeImage() {\n        this.props.cleanImage({imageDownloaded: false});\n    }\n\n    render() {\n        const {image} = this.props;\n        const {angle, width, height, imageLoading} = this.state;\n        return <div className=\"Edit_canvas\">\n            <AvatarEditor\n                ref={ae => this.avatar = ae}\n                image={image}\n                rotate={angle}\n                width={width}\n                height={height}\n                onLoadSuccess={(imgInfo) => this.onLoad(imgInfo)}\n                onLoadFailure={() => this.onImageFailure()}\n                loading={imageLoading}\n            />\n            <RotateIcon className='rotate_icon' onClick={() => this.rotateImage()}/>\n            <SaveIcon className='save_icon' onClick={() => this.getEditedImage()}/>\n            <CrossIcon className='cross_icon' onClick={() => this.closeImage()}/>\n        </div>\n    }\n}\n\nexport default EditCanvas;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditCanvas.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./editCanvas.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./editCanvas.less\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./editCanvas.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/editAlbum/editCanvas.less\n// module id = 221\n// module chunks = 0","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\n\nconst isFileAPISupported = typeof File !== 'undefined'\n\nclass AvatarEditor extends React.Component {\n    static propTypes = {\n        rotate: PropTypes.number,\n        image: PropTypes.oneOfType([\n            PropTypes.string,\n            ...(isFileAPISupported ? [PropTypes.instanceOf(File)] : [])\n        ]),\n        width: PropTypes.number,\n        height: PropTypes.number,\n        style: PropTypes.object,\n        crossOrigin: PropTypes.oneOf(['', 'anonymous', 'use-credentials']),\n\n        onLoadFailure: PropTypes.func,\n        onLoadSuccess: PropTypes.func,\n        onImageReady: PropTypes.func,\n        loading: PropTypes.bool\n    }\n\n    static defaultProps = {\n        rotate: 0,\n        width: 300,\n        height: 200,\n        style: {},\n        onLoadFailure () {},\n        onLoadSuccess () {},\n        onImageReady () {},\n        loading: false\n    }\n\n    state = {\n        image: null\n    }\n\n    isVertical () {\n        return this.props.rotate % 180 !== 0\n    }\n\n    isDataURL (str) {\n        if (str === null) {\n            return false\n        }\n        const regex = /^\\s*data:([a-z]+\\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\\-._~:@/?%\\s]*\\s*$/i\n        return !!str.match(regex)\n    }\n\n    loadImage (image) {\n        if (isFileAPISupported && image instanceof File) {\n            this.loadImageFile(image)\n        } else if (typeof image === 'string') {\n            this.loadImageURL(image)\n        }\n    }\n\n    loadImageURL (imageURL) {\n        const imageObj = new Image()\n        imageObj.onload = this.handleImageReady.bind(this, imageObj)\n        imageObj.onerror = this.props.onLoadFailure\n        if (!this.isDataURL(imageURL) && this.props.crossOrigin) { imageObj.crossOrigin = this.props.crossOrigin }\n        imageObj.src = imageURL\n    }\n\n    loadImageFile (imageFile) {\n        const reader = new FileReader()\n        reader.onload = e => this.loadImageURL(e.target.result)\n        reader.readAsDataURL(imageFile)\n    }\n\n    componentDidMount () {\n        if (this.props.image) {\n            this.loadImage(this.props.image)\n        }\n    }\n\n    componentDidUpdate () {\n        if (this.canvas) {\n            const canvas = ReactDOM.findDOMNode(this.canvas)\n            const context = canvas.getContext('2d')\n            context.clearRect(0, 0, canvas.width, canvas.height)\n            this.paintImage(context, this.state.image);\n        }\n    }\n\n    handleImageReady (image) {\n        this.setState({ image }, this.props.onImageReady)\n        this.props.onLoadSuccess(image)\n    }\n\n    componentWillReceiveProps (newProps) {\n        if (\n            (newProps.image && this.props.image !== newProps.image) ||\n            this.props.width !== newProps.width ||\n            this.props.height !== newProps.height\n        ) {\n            this.loadImage(newProps.image)\n        }\n    }\n\n    paintImage (context, image) {\n        if (image) {\n\n            context.save()\n\n            context.translate(context.canvas.width / 2, context.canvas.height / 2)\n            context.rotate(this.props.rotate * Math.PI / 180)\n            context.translate(\n                -(context.canvas.width / 2),\n                -(context.canvas.height / 2)\n            )\n\n            if (this.isVertical()) {\n                context.translate(\n                    (context.canvas.width - context.canvas.height) / 2,\n                    (context.canvas.height - context.canvas.width) / 2\n                )\n            }\n\n            context.scale(1, 1)\n\n            context.globalCompositeOperation = 'destination-over';\n\n            if(this.isVertical()) {\n                context.drawImage(\n                    image,\n                    0, 0, this.props.height, this.props.width\n                )\n            }\n            context.drawImage(\n                image,\n                0, 0, this.props.width, this.props.height\n            )\n\n            context.restore()\n        }\n    }\n\n    setCanvas = (canvas) => {\n        this.canvas = canvas\n    }\n\n    getImage () {\n        const image = this.state.image;\n\n        // create a canvas with the correct dimensions\n        const canvas = document.createElement('canvas')\n\n        if (this.isVertical()) {\n            canvas.width = image.height;\n            canvas.height = image.width;\n        } else {\n            canvas.width = image.width;\n            canvas.height = image.height\n        }\n\n        // draw the full-size image at the correct position,\n        // the image gets truncated to the size of the canvas.\n        const context = canvas.getContext('2d')\n\n        context.translate(canvas.width / 2, canvas.height / 2)\n        context.rotate(this.props.rotate * Math.PI / 180)\n        context.translate(-(canvas.width / 2), -(canvas.height / 2))\n\n        if (this.isVertical()) {\n            context.translate(\n                (canvas.width - canvas.height) / 2,\n                (canvas.height - canvas.width) / 2\n            )\n        }\n\n        context.drawImage(image, 0, 0)\n\n        return canvas\n    }\n\n    render () {\n        // if(this.props.loading) {\n            return <Loader type=\"ball-scale-multiple\"/>;\n        // }\n\n        const defaultStyle = {\n            width: this.props.width,\n            height: this.props.height,\n            cursor: 'grab'\n        }\n\n        const attributes = {\n            width: this.props.width,\n            height: this.props.height,\n            style: {\n                ...defaultStyle,\n                ...this.props.style\n            }\n        }\n\n        return <canvas ref={this.setCanvas} {...attributes} />\n    }\n}\n\nexport default AvatarEditor\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/ImageRotater.jsx","import * as types from '../constants/ActionTypes';\nimport http from '../HttpService';\nconst routesModule = require('../constants/routes');\nimport Alert from 'react-s-alert';\n\nexport function albumsRequest() {\n    return {\n        type: types.REQ_ALBUMS\n    };\n}\n\nexport function setAlbums(albums) {\n    return {\n        type: types.SET_ALBUMS,\n        albums\n    };\n}\n\nexport function fetchAlbums() {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS)\n            .then(result => dispatch(setAlbums(result)))\n            .catch(e => {\n                Alert.error(e.response.data.error, {});\n                dispatch({type: types.REQ_ALBUMS_ERROR});\n            });\n    }\n}\n\nexport function fetchAlbumsBySearch(search) {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS_SEARCH(search))\n            .then(result => {\n                dispatch(setAlbums(result));\n                dispatch({type: types.REQ_ALBUMS_ERROR});\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\n// export function deleteFotoRequest() {\n//     return {\n//         type: types.REQ_ALBUMS\n//     };\n// }\n\nexport function deleteFotoFromAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_FOTO(id))\n            .then(result => Alert.success('Album deleted', {}))\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function deleteAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_ALBUM(id))\n            .then(result => dispatch(fetchAlbums()))\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\nexport function saveFotoDescription(album, image) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_FOTO(album), image)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveAlbumDescription(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.ALBUM_ROUTE, album)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveItemsOrder(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_ITEMS_ORDER, album)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function createAlbum(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPost(routesModule.routes.ALBUM_ROUTE, album)\n            .then(result => {\n                Alert.success('Album created', {});\n                dispatch(fetchAlbums());\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./actions/albumActions.js","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".drag_container {\\n  position: relative;\\n  left: 0;\\n  top: 0;\\n  width: 300px;\\n  height: 200px;\\n  margin: 0.5rem;\\n  z-index: 0;\\n  overflow: hidden;\\n  text-align: center;\\n}\\n.drag_container .loader {\\n  display: inline-block;\\n  position: absolute;\\n  top: calc(100px);\\n}\\n.drag_container .cross_icon,\\n.drag_container .edit_icon {\\n  position: absolute;\\n  fill: white;\\n  width: 1rem;\\n  height: 1rem;\\n  top: 0.2rem;\\n  background-color: rgba(0, 0, 0, 0.7);\\n  padding: 2px;\\n}\\n.drag_container .cross_icon {\\n  right: 0.2rem;\\n}\\n.drag_container .edit_icon {\\n  right: 1.5rem;\\n}\\n.drag_container .text_description {\\n  position: absolute;\\n  top: 2rem;\\n  left: 0;\\n  padding: 0 0.3rem;\\n  font-size: 16px;\\n  background-color: rgba(0, 0, 0, 0.4);\\n  color: white;\\n}\\n.drag_image {\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  width: 100%;\\n  height: 100%;\\n  border-radius: 0.3rem;\\n}\\n.edit_file_input {\\n  width: 300px;\\n  height: 200px;\\n  margin: 0.5rem;\\n}\\n.edit_album_card {\\n  position: relative;\\n  width: 300px;\\n  height: 200px;\\n  margin: 0.5rem;\\n  color: white;\\n  box-shadow: 0 0 0.3rem 0.1rem white;\\n  overflow: hidden;\\n  text-align: center;\\n}\\n.edit_album_card .loader {\\n  display: inline-block;\\n  position: absolute;\\n  top: calc(100px);\\n}\\n.edit_album_card .album_image {\\n  width: 100%;\\n  height: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n.edit_album_card .album_name {\\n  position: absolute;\\n  top: 2rem;\\n  left: 0.3rem;\\n  cursor: pointer;\\n  background-color: rgba(0, 0, 0, 0.4);\\n}\\n.edit_album_card .cross_icon {\\n  position: absolute;\\n  width: 1rem;\\n  height: 1rem;\\n  fill: white;\\n  top: 0.2rem;\\n  right: 0.3rem;\\n  background-color: rgba(0, 0, 0, 0.7);\\n  padding: 2px;\\n}\\n.new_text_overlay {\\n  position: fixed;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgba(0, 0, 0, 0.8);\\n  z-index: 40;\\n}\\n.new_text_overlay .new_text {\\n  width: 70%;\\n  height: 50%;\\n  margin: 9rem auto 1rem auto;\\n  position: relative;\\n}\\n.new_text_overlay .new_text_caption {\\n  position: absolute;\\n  color: white;\\n  font-size: 1rem;\\n  top: -2rem;\\n  left: 0.5rem;\\n}\\n.new_text_overlay .new_text .save_icon,\\n.new_text_overlay .new_text .cross_icon {\\n  position: absolute;\\n  fill: white;\\n  width: 2rem;\\n  height: 2rem;\\n  top: -2.2rem;\\n}\\n.new_text_overlay .new_text .cross_icon {\\n  right: 0;\\n}\\n.new_text_overlay .new_text .save_icon {\\n  right: 3rem;\\n}\\n.new_text_overlay .new_text textarea,\\n.new_text_overlay .new_text input {\\n  background-color: #232326;\\n  border-radius: 0.3rem;\\n  font-size: 1.5rem;\\n  color: white;\\n  padding: 0.5rem;\\n  line-height: 2rem;\\n  border: white 1px solid;\\n  overflow-x: hidden;\\n  resize: none;\\n  width: 100%;\\n}\\n.new_text_overlay .new_text textarea:focus,\\n.new_text_overlay .new_text input:focus {\\n  outline: none;\\n  background-color: #54545b;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/autoprefixer-loader!./node_modules/less-loader/dist/cjs.js!./node_modules/js-to-styles-var-loader!./components/editAlbum/editAlbum.less\n// module id = 52\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".Dialog {\\n  position: absolute;\\n  width: 20rem;\\n  height: 12rem;\\n  background-color: black;\\n  box-shadow: 0 0 0.3rem 0.1rem white;\\n  top: 5rem;\\n  left: 0;\\n  right: 0;\\n  margin: auto;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  z-index: 40;\\n}\\n@media screen and (max-width: 700px) {\\n  .Dialog {\\n    width: 15rem;\\n  }\\n}\\n.Dialog_text {\\n  color: white;\\n  margin: 2rem 1rem 1rem 1rem;\\n}\\n.Dialog .cross {\\n  position: absolute;\\n  width: 1rem;\\n  height: 1rem;\\n  top: 0.2rem;\\n  right: 0.2rem;\\n  fill: white;\\n}\\n.Dialog_ok_button {\\n  width: 10rem;\\n  height: 2rem;\\n  color: white;\\n  background-color: #232326;\\n  font-size: 1rem;\\n  border-width: 3px;\\n  border-radius: 0.3rem;\\n  margin: 2rem;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/autoprefixer-loader!./node_modules/less-loader/dist/cjs.js!./node_modules/js-to-styles-var-loader!./components/dialog/dialog.less\n// module id = 53\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".Edit_canvas {\\n  position: relative;\\n  height: 200px;\\n  margin: 0.5rem;\\n  text-align: center;\\n  border: white 1px solid;\\n  border-radius: 0.3rem;\\n}\\n.Edit_canvas .loader {\\n  display: inline-block;\\n  top: calc(100px);\\n  position: absolute;\\n}\\n.Edit_canvas .cross_icon,\\n.Edit_canvas .rotate_icon,\\n.Edit_canvas .save_icon {\\n  position: absolute;\\n  fill: white;\\n  width: 1rem;\\n  height: 1rem;\\n  top: 0.2rem;\\n  background-color: rgba(0, 0, 0, 0.7);\\n  padding: 2px;\\n}\\n.Edit_canvas .cross_icon {\\n  right: 0.2rem;\\n}\\n.Edit_canvas .save_icon {\\n  right: 2.8rem;\\n}\\n.Edit_canvas .rotate_icon {\\n  right: 1.5rem;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/autoprefixer-loader!./node_modules/less-loader/dist/cjs.js!./node_modules/js-to-styles-var-loader!./components/editAlbum/editCanvas.less\n// module id = 54\n// module chunks = 0","import React from 'react';\nimport {MagnifierIcon} from \"../Icons\";\nimport './fileInput.less';\n\nclass FileInput extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            file: null\n        }\n    }\n\n    onChange({target}) {\n        this.setState({\n            file: target.files[0]\n        })\n        this.props.uploadFile(target.files[0]);\n    }\n\n    render() {\n        const classNames = this.props.className\n            ? `file_input_wrapper ${this.props.className}`\n            : 'file_input_wrapper';\n        return <div className={classNames}>\n            <button>{this.props.label}</button>\n            <div className='file_input_area'>\n                <MagnifierIcon className=\"magnify_icon\"/>\n            </div>\n            <input type=\"file\" disabled={this.props.disabled || false}\n                   onChange={(e) => this.onChange(e)}/>\n        </div>\n    }\n}\n\nexport default FileInput;\n\n\n\n// WEBPACK FOOTER //\n// ./components/fileInput/FileInput.jsx","import styled from 'styled-components';\nimport LeftArrow from '../svg/left-arrow.svg';\nimport RightArrow from '../svg/right-arrow.svg';\nimport Magnifier from '../svg/magnifier.svg';\nimport Cross from '../svg/cancel.svg';\nimport Edit from '../svg/edit.svg';\nimport Save from '../svg/save-file-option.svg';\nimport Rotate from '../svg/rotate-option.svg';\n\nconst Icon = `\n        width: 1rem;\n        height: 1rem;\n        fill: ${props => props.theme.text};\n        \n        &:hover {\n            cursor: pointer;\n            fill: ${props => props.theme.content};\n        }\n`\n\nexport const LeftArrowIcon = styled(LeftArrow)`\n  ${Icon}\n`\n\nexport const RightArrowIcon = styled(RightArrow)`\n  ${Icon}\n`\n\nexport const MagnifierIcon = styled(Magnifier)`\n   width: 3rem;\n   height: 3rem;\n   fill: rgba(255,255,255, 0.7);\n`\n\nexport const CrossIcon = styled(Cross)`\n   ${Icon}\n`\n\nexport const EditIcon = styled(Edit)`\n   ${Icon}\n`\n\nexport const SaveIcon = styled(Save)`\n   ${Icon}\n`\n\nexport const RotateIcon = styled(Rotate)`\n    ${Icon}\n`\n\n\n// WEBPACK FOOTER //\n// ./components/Icons.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./editAlbum.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./editAlbum.less\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./editAlbum.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/editAlbum/editAlbum.less\n// module id = 93\n// module chunks = 0"],"sourceRoot":""}