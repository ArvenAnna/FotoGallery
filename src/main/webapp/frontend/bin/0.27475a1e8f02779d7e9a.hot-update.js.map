{"version":3,"sources":["webpack:///./components/AlbumContainer.jsx","webpack:///./components/picture/PreviewImageFrame.jsx"],"names":["Container","styled","div","AlbumContainer","connect","store","albums","fetchAlbums","React","Component","constructor","props","render","map","album","images","id","PreviewImageFrame","img","current","find","src","currentIndex","indexOf","state","imageWidth","main","left","right","length","componentDidMount","setImageWidth","getImageContainerWidth","window","addEventListener","changeImageWidth","componentWillUnmount","removeEventListener","imageRect","getBoundingClientRect","width","componentDidUpdate","prevProps","prevState","setTimeout","onCrossClick","close","onArrowClick","arrow","setState","clearAnimate","editRoute","node"],"mappings":"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","file":"0.27475a1e8f02779d7e9a.hot-update.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport Picture from \"./picture/Picture\";\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums} from \"../actions/albumActions\";\n\n// overrides picture styles\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex-wrap: wrap;\n  padding: 2rem;\n\n  &>div {\n     padding: 1rem;\n        \n     .image {\n        height: 15rem;\n        width: 20rem;\n        object-fit: cover;\n      }\n\n      .image_wrapper .overlay .overlay_bottom_text {\n         font-size: 1rem;\n      }\n  }\n`\n@connect(store => ({\n    albums: store.albums\n}), {\n    fetchAlbums\n})\nclass AlbumContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props.fetchAlbums();\n    }\n\n    render() {\n        return (\n            <Container>\n                {this.props.albums.map(album => <Picture main={album.images[0]}\n                                                         key={album.id}\n                                                         animation='fade'\n                                                         editRoute={`/edit/${album.id}`}\n                                                         images={album.images}/>)}\n\n            </Container>\n        );\n    }\n}\n\nexport default AlbumContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/AlbumContainer.jsx","import React from \"react\";\nimport {CrossIcon, EditIcon, LeftArrowIcon, RightArrowIcon} from \"../Icons\";\nimport \"./preview.less\";\nimport {Link} from \"react-router-dom\";\n\nclass PreviewImageFrame extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.img = null;\n\n    const current = props.images.find(img => img === props.src);\n    const currentIndex = props.images.indexOf(current);\n\n    this.state = {\n      imageWidth: 0,\n      main: props.main,\n      left: currentIndex > 0,\n      right: currentIndex < (props.images.length - 1)\n    };\n  }\n\n  componentDidMount() {\n    this.props.setImageWidth(this.getImageContainerWidth());\n    window.addEventListener('resize', () => this.changeImageWidth());\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', () => this.changeImageWidth());\n  }\n\n  getImageContainerWidth() {\n    const img = this.img;\n    if (!img) return 0;\n    const imageRect = img.getBoundingClientRect();\n    return imageRect.width;\n  }\n\n  changeImageWidth() {\n    this.props.setImageWidth(this.getImageContainerWidth());\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.main != this.state.main) {\n      // in order to make sure width will be recalculated\n      window.setTimeout(() => this.changeImageWidth(), 100);\n    }\n  }\n\n  onCrossClick() {\n    this.props.close();\n  }\n\n  onArrowClick(arrow) {\n    const {images} = this.props;\n    //const current = images.find(img => img === this.state.main);\n    const currentIndex = images.indexOf(this.state.main);\n    let main;\n\n    if (arrow === 'left' && currentIndex > 0) {\n      main = images[currentIndex - 1];\n      this.setState({\n        main,\n        left: (currentIndex - 1) > 0,\n        right: (currentIndex - 1) < (images.length - 1)\n      });\n    }\n\n    if (arrow === 'right' && currentIndex < (images.length - 1)) {\n        main = images[currentIndex + 1];\n        this.setState({\n        main,\n        left: (currentIndex + 1) > 0,\n        right: (currentIndex + 1) < (images.length - 1)\n      })\n    }\n\n    this.props.clearAnimate(main);\n  }\n\n  render() {\n    const {main, left, right} = this.state;\n    const {images, editRoute} = this.props;\n\n    return (<div className='magnify_modal_img_frame_container'>\n        <CrossIcon className='cross' onClick={() => this.onCrossClick()}/>\n            {editRoute && <Link to={this.props.editRoute}><EditIcon className='edit'/></Link>}\n        {left && <div className='left_arrow'>\n          <LeftArrowIcon onClick={() => this.onArrowClick('left')}/>\n        </div>}\n        {right && <div className='right_arrow'>\n          <RightArrowIcon onClick={() => this.onArrowClick('right')}/>\n        </div>}\n        <div className='counter_container'>\n          <div className='counter'>{`${(images.indexOf(main) + 1)} of ${images.length}`}</div>\n        </div>\n        <img src={main.src} className='image_preview' ref={node => this.img = node}/>\n      </div>\n    );\n  }\n}\n\nexport default PreviewImageFrame;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/PreviewImageFrame.jsx"],"sourceRoot":""}