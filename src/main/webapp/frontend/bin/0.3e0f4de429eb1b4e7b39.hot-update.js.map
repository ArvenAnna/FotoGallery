{"version":3,"sources":["webpack:///./components/FotoSlider.jsx","webpack:///./components/Header.jsx","webpack:///./components/AlbumContainer.jsx","webpack:///./components/editAlbum/EditAlbum.jsx","webpack:///./actions/albumActions.js"],"names":["FotoSlider","React","Component","constructor","props","state","addAlbumModal","width","height","createAlbum","setState","closeModal","componentDidMount","render","Content","scrollbars","Header","connect","store","fetchAlbumsBySearch","fetchAlbums","onEnter","e","key","target","value","history","push","AlbumContainer","albums","isLoadingAlbums","pictures","map","album","_id","routesModule","require","EditAlbum","deleteFotoFromAlbum","saveFotoDescription","saveAlbumDescription","deleteAlbum","saveItemsOrder","dragStarted","dragFrom","dragFromEl","dragObj","openPicture","openedAlbum","openedDialog","imageDownloaded","loadAlbum","http","doGet","routes","GET_ALBUM","match","params","id","then","result","images","sort","x","y","order","forEach","image","src","Date","toISOString","openDetails","picture","openAlbumDetails","onCrossClick","deleteItem","length","newPictures","filter","p","newAlbum","Object","assign","removeAlbum","changeState","obj","editedPicture","find","pinput","name","ptextarea","text","editedAlbum","ainput","atextarea","description","uploadFile","file","sendFile","UPLOAD_FOTO","downloadedFoto","isVideo","doPost","FOTO_ROUTE","renderEditAlbumCard","renderImages","replaceImage","renderFileInput","renderEditCanvas","renderChangeFotoTextInfoDialog","i","t","renderChangeAlbumTextInfoDialog","renderDeleteDialog","albumsRequest","type","REQ_ALBUMS","setAlbums","dispatch","GET_ALBUMS","catch","search","GET_ALBUMS_SEARCH","doDelete","DELETE_FOTO","DELETE_ALBUM","doPut","UPDATE_FOTO","ALBUM_ROUTE","UPDATE_ITEMS_ORDER"],"mappings":"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","file":"0.3e0f4de429eb1b4e7b39.hot-update.js","sourcesContent":["import React from 'react';\nimport Header from \"./Header\";\nimport AddNewAlbum from \"./newAlbum/AddNewAlbum\";\nimport AlbumContainer from \"./AlbumContainer\";\nimport {Route, Switch} from \"react-router-dom\";\nimport EditAlbum from \"./editAlbum/EditAlbum\";\nimport { Scrollbars } from 'react-custom-scrollbars';\n\nclass FotoSlider extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            addAlbumModal: false,\n            width: 0,\n            height: 0\n        }\n    }\n\n    createAlbum() {\n        this.setState({\n            addAlbumModal: true\n        });\n    }\n\n    closeModal() {\n        this.setState({\n            addAlbumModal: false\n        });\n    }\n\n    componentDidMount() {\n        //setTimeout(() => this.scrollbars.forceUpdate(), 100);\n    }\n\n\n\n    render() {\n\n        const Content = () => <div className=\"app_container\">\n            {this.state.addAlbumModal && <AddNewAlbum closeModal={() => this.closeModal()}/>}\n\n            <div className=\"app_page\">\n                <Header createAlbum={() => this.createAlbum()}/>\n                <Switch>\n                    <Route exact path='/' component={AlbumContainer}/>\n                    <Route path='/edit/:id' component={EditAlbum}/>\n                </Switch>\n            </div>\n        </div>;\n\n        return this.state.addAlbumModal ? <Content/> :\n            <Scrollbars\n                className=\"scroll_bar\"\n                hideTracksWhenNotNeeded={true}\n                ref={(scrollbars) => this.scrollbars = scrollbars}>\n            <Content/>\n        </Scrollbars>\n    }\n}\n\nexport default FotoSlider;\n\n\n// WEBPACK FOOTER //\n// ./components/FotoSlider.jsx","import React from 'react';\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums, fetchAlbumsBySearch} from \"../actions/albumActions\";\nimport withRouter from \"react-router-dom/es/withRouter\";\nimport {NavLink} from 'react-router-dom';\n\n@withRouter\n@connect(store => ({}), {\n    fetchAlbumsBySearch,\n    fetchAlbums\n})\nclass Header extends React.Component {\n\n    onEnter(e) {\n        if (e.key == \"Enter\") {\n            if(e.target.value) this.props.fetchAlbumsBySearch(e.target.value);\n            else this.props.fetchAlbums();\n            this.props.history.push('/');\n        }\n    }\n\n    render() {\n        return (\n                [<div key=\"header_menu\" className=\"header_menu\">\n                    <div className=\"menu_item\" onClick={this.props.createAlbum}>new album</div>\n                    <div className=\"menu_item\"><NavLink to='/'>album's list</NavLink></div>\n                </div>,\n                <div className=\"search_menu\" key=\"search\">Search: <input className=\"search_input\" defaultValue=''\n                    onKeyPress={(e) => this.onEnter(e)}/>\n                </div>]\n        );\n    }\n}\n\nexport default Header;\n\n\n// WEBPACK FOOTER //\n// ./components/Header.jsx","import React from 'react';\nimport Picture from \"./picture/Picture\";\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums} from \"../actions/albumActions\";\nimport Loader from 'react-loaders';\nimport './albumContainer.less';\nimport 'loaders.css/src/animations/ball-grid-pulse.scss';\n\n@connect(store => ({\n    albums: store.albums,\n    isLoadingAlbums: store.isLoadingAlbums\n}), {\n    fetchAlbums\n})\nclass AlbumContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props.fetchAlbums();\n    }\n\n    render() {\n        if(!this.props.albums) return <Loader type=\"ball-grid-pulse\" innerClassName='Data_loader'/>;\n        const pictures = this.props.albums.map(album => <Picture key={album._id}\n                                                                 animation='fade'\n                                                                 album={album}\n        />);\n        return pictures;\n    }\n}\n\nexport default AlbumContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/AlbumContainer.jsx","import React from 'react';\nimport './editAlbum.less';\nimport FileInput from \"../fileInput/FileInput\";\nimport {CrossIcon, SaveIcon} from \"../Icons\";\nimport Card from \"./Card\";\nimport http from '../../HttpService';\nimport connect from \"react-redux/es/connect/connect\";\nimport {\n    deleteAlbum, deleteFotoFromAlbum, saveAlbumDescription,\n    saveFotoDescription, saveItemsOrder\n} from \"../../actions/albumActions\";\nimport Dialog from \"../dialog/Dialog\";\nimport EditCanvas from \"./EditCanvas\";\nimport {isVideo} from \"../../utils/index\";\nimport * as styles from \"../../constants/styles\";\nconst routesModule = require('../../constants/routes');\n\n@connect(store => ({}), {\n    deleteFotoFromAlbum,\n    saveFotoDescription,\n    saveAlbumDescription,\n    deleteAlbum,\n    saveItemsOrder\n})\nclass EditAlbum extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dragStarted: false,\n            dragFrom: null,\n            dragFromEl: null,\n            dragObj: null,\n            openPicture: null,\n            openedAlbum: false,\n            album: null,\n            openedDialog: false,\n            imageDownloaded: false\n        }\n    }\n\n    componentDidMount() {\n        this.loadAlbum();\n    }\n\n    loadAlbum() {\n        http.doGet(routesModule.routes.GET_ALBUM(this.props.match.params.id))\n            .then(result => {\n                result.images.sort((x, y) => x.order - y.order);\n                result.images.forEach(image => image.src = image.src + '?forceUpdate=' + new Date().toISOString())\n                this.setState({album: result})\n            });\n    }\n\n    openDetails(picture) {\n        this.setState({openPicture: picture});\n    }\n\n    openAlbumDetails() {\n        this.setState({openedAlbum: true});\n    }\n\n    onCrossClick() {\n        this.setState({openPicture: null, openedAlbum: false});\n    }\n\n    deleteItem(picture) {\n        if (this.state.album.images.length == 1) {\n            this.setState({openedDialog: true});\n            return;\n        }\n\n        this.props.deleteFotoFromAlbum(picture._id);\n        const newPictures = this.state.album.images.filter(p => p._id != picture._id);\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        })\n        this.setState({album: newAlbum});\n    }\n\n    removeAlbum() {\n        this.props.deleteAlbum(this.state.album._id);\n        this.props.history.push('/');\n    }\n\n    changeState(obj) {\n        this.setState(obj);\n    }\n\n    saveFotoDescription(picture) {\n        const newPictures = [...this.state.album.images];\n        const editedPicture = this.state.album.images.find(p => p._id == picture._id);\n        if (this.pinput.value) editedPicture.name = this.pinput.value;\n        if (this.ptextarea.value) editedPicture.text = this.ptextarea.value;\n\n        this.props.saveFotoDescription(this.state.album._id, editedPicture);\n\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        });\n        this.setState({album: newAlbum, openPicture: null});\n    }\n\n    saveAlbumDescription() {\n        const editedAlbum = Object.assign({}, {...this.state.album});\n        if (this.ainput.value) editedAlbum.name = this.ainput.value;\n        if (this.atextarea.value) editedAlbum.description = this.atextarea.value;\n\n        this.props.saveAlbumDescription(editedAlbum);\n\n        this.setState({album: editedAlbum, openedAlbum: false});\n    }\n\n    uploadFile(file) {\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(downloadedFoto => {\n                if (isVideo(downloadedFoto.src)) {\n                    http.doPost(routesModule.routes.FOTO_ROUTE, {\n                        src: downloadedFoto.src,\n                        album: this.state.album._id\n                    }).then(result => {\n                        const newPictures = [...this.state.album.images];\n                        newPictures.push(result);\n                        const newAlbum = Object.assign({}, {\n                            ...this.state.album,\n                            images: newPictures,\n                        });\n\n                        this.setState({\n                            //imageDownloaded: null,\n                            album: newAlbum\n                        });\n                    });\n                } else {\n                    this.setState({\n                        imageDownloaded: downloadedFoto.src\n                    });\n                }\n\n            });\n    }\n\n    renderEditAlbumCard() {\n        return <div className='edit_album_card' key=\"edit_album_card\">\n            {isVideo(this.state.album.images[0].src)\n                ? <video className=\"album_image\"\n                         height={styles.picture_edit_height}\n                         width={styles.picture_edit_width}\n                         controls=\"controls\">\n                    <source src={this.state.album.images[0].src}/>\n                </video>\n                : <img className='album_image' src={this.state.album.images[0].src}/>}\n            <div className='album_name' onClick={() => this.openAlbumDetails()}>{this.state.album.name}</div>\n            <CrossIcon className='cross_icon' onClick={() => this.setState({openedDialog: true})}/>\n        </div>\n    }\n\n    renderImages() {\n        return this.state.album.images.sort((x, y) => x.order - y.order).map(p => <Card\n            key={p._id}\n            picture={p}\n            pictures={this.state.album.images}\n            openDetails={(p) => this.openDetails(p)}\n            deleteItem={(p) => this.deleteItem(p)}\n            replaceImage={(target) => this.replaceImage(target)}\n            openPicture={this.state.openPicture}\n            changeDragState={(obj) => this.changeState(obj)}\n            dragState={this.state}\n            updateOrder={(album) => this.props.saveItemsOrder(album)}\n            loadAlbum={() => this.loadAlbum()}\n        />)\n    }\n\n    renderFileInput() {\n        return !this.state.imageDownloaded && <FileInput className='edit_file_input'\n                                                         disabled={this.state.openPicture}\n                                                         label='Choose new foto'\n                                                         uploadFile={(file) => this.uploadFile(file)}\n            />\n    }\n\n    renderEditCanvas() {\n        return this.state.imageDownloaded && !isVideo(this.state.imageDownloaded) && <EditCanvas\n                image={this.state.imageDownloaded}\n                cleanImage={obj => this.changeState(obj)}\n                album={this.state.album}\n            />\n    }\n\n    renderChangeFotoTextInfoDialog() {\n        return this.state.openPicture &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter foto name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveFotoDescription(this.state.openPicture)}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.openPicture.name} ref={i => this.pinput = i}/>\n                    <textarea defaultValue={this.state.openPicture.text} ref={t => this.ptextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderChangeAlbumTextInfoDialog() {\n        return this.state.openedAlbum &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter album name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveAlbumDescription()}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.album.name} ref={i => this.ainput = i}/>\n                    <textarea defaultValue={this.state.album.description} ref={t => this.atextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderDeleteDialog() {\n        return this.state.openedDialog && <Dialog onClick={() => this.removeAlbum()}\n                                                  onClose={() => this.setState({openedDialog: false})}\n                                                  text=\"Do you really want to delete the album?\"/>\n    }\n\n\n    render() {\n        const {album} = this.state;\n        if (!album) {\n            return null;\n        }\n        return <React.Fragment>\n            {this.renderEditAlbumCard()}\n            {this.renderImages()}\n            {this.renderFileInput()}\n            {this.renderEditCanvas()}\n            {this.renderChangeFotoTextInfoDialog()}\n            {this.renderChangeAlbumTextInfoDialog()}\n            {this.renderDeleteDialog()}\n        </React.Fragment>;\n    }\n}\n\nexport default EditAlbum;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditAlbum.jsx","import * as types from '../constants/ActionTypes';\nimport http from '../HttpService';\nconst routesModule = require('../constants/routes');\n\nexport function albumsRequest() {\n    return {\n        type: types.REQ_ALBUMS\n    };\n}\n\nexport function setAlbums(albums) {\n    return {\n        type: types.SET_ALBUMS,\n        albums\n    };\n}\n\nexport function fetchAlbums() {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS)\n            .then(result => dispatch(setAlbums(result)))\n            .catch(e => dispatch({type: types.REQ_ALBUMS_ERROR}));\n    }\n}\n\nexport function fetchAlbumsBySearch(search) {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS_SEARCH(search))\n            .then(result => dispatch(setAlbums(result)))\n            .catch(e => dispatch({type: types.REQ_ALBUMS_ERROR}));\n    }\n}\n\n// export function deleteFotoRequest() {\n//     return {\n//         type: types.REQ_ALBUMS\n//     };\n// }\n\nexport function deleteFotoFromAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_FOTO(id))\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function deleteAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_ALBUM(id))\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveFotoDescription(album, image) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_FOTO(album), image)\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveAlbumDescription(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.ALBUM_ROUTE, album)\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveItemsOrder(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_ITEMS_ORDER, album)\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function createAlbum(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPost(routesModule.routes.ALBUM_ROUTE, album)\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./actions/albumActions.js"],"sourceRoot":""}