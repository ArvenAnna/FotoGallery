{"version":3,"sources":["webpack:///./components/editAlbum/EditAlbum.jsx"],"names":["routesModule","require","EditAlbum","connect","store","deleteFotoFromAlbum","saveFotoDescription","saveAlbumDescription","deleteAlbum","saveItemsOrder","React","Component","constructor","props","state","dragStarted","dragFrom","dragFromEl","dragObj","openPicture","openedAlbum","album","openedDialog","imageDownloaded","imageLoading","componentDidMount","loadAlbum","http","doGet","routes","GET_ALBUM","match","params","id","then","result","images","sort","x","y","order","forEach","image","src","Date","toISOString","setState","openDetails","picture","openAlbumDetails","onCrossClick","deleteItem","length","_id","newPictures","filter","p","newAlbum","Object","assign","removeAlbum","history","push","changeState","obj","editedPicture","find","pinput","value","name","ptextarea","text","editedAlbum","ainput","atextarea","description","uploadFile","file","sendFile","UPLOAD_FOTO","downloadedFoto","isVideo","doPost","FOTO_ROUTE","onImageLoad","onImageError","renderEditAlbumCard","renderImages","map","target","replaceImage","renderFileInput","renderEditCanvas","renderChangeFotoTextInfoDialog","i","t","renderChangeAlbumTextInfoDialog","renderDeleteDialog","render"],"mappings":"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","file":"0.61984b03ea463fd8699b.hot-update.js","sourcesContent":["import React from 'react';\nimport './editAlbum.less';\nimport FileInput from \"../fileInput/FileInput\";\nimport {CrossIcon, SaveIcon} from \"../Icons\";\nimport Card from \"./Card\";\nimport http from '../../HttpService';\nimport connect from \"react-redux/es/connect/connect\";\nimport {\n    deleteAlbum, deleteFotoFromAlbum, saveAlbumDescription,\n    saveFotoDescription, saveItemsOrder\n} from \"../../actions/albumActions\";\nimport Dialog from \"../dialog/Dialog\";\nimport EditCanvas from \"./EditCanvas\";\nimport {isVideo} from \"../../utils/index\";\nimport * as styles from \"../../constants/styles\";\nconst routesModule = require('../../constants/routes');\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\n\n@connect(store => ({}), {\n    deleteFotoFromAlbum,\n    saveFotoDescription,\n    saveAlbumDescription,\n    deleteAlbum,\n    saveItemsOrder\n})\nclass EditAlbum extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dragStarted: false,\n            dragFrom: null,\n            dragFromEl: null,\n            dragObj: null,\n            openPicture: null,\n            openedAlbum: false,\n            album: null,\n            openedDialog: false,\n            imageDownloaded: false,\n            imageLoading: true\n        }\n    }\n\n    componentDidMount() {\n        this.loadAlbum();\n    }\n\n    loadAlbum() {\n        http.doGet(routesModule.routes.GET_ALBUM(this.props.match.params.id))\n            .then(result => {\n                result.images.sort((x, y) => x.order - y.order);\n                result.images.forEach(image => image.src = image.src + '?forceUpdate=' + new Date().toISOString())\n                this.setState({album: result})\n            });\n    }\n\n    openDetails(picture) {\n        this.setState({openPicture: picture});\n    }\n\n    openAlbumDetails() {\n        this.setState({openedAlbum: true});\n    }\n\n    onCrossClick() {\n        this.setState({openPicture: null, openedAlbum: false});\n    }\n\n    deleteItem(picture) {\n        if (this.state.album.images.length == 1) {\n            this.setState({openedDialog: true});\n            return;\n        }\n\n        this.props.deleteFotoFromAlbum(picture._id);\n        const newPictures = this.state.album.images.filter(p => p._id != picture._id);\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        })\n        this.setState({album: newAlbum});\n    }\n\n    removeAlbum() {\n        this.props.deleteAlbum(this.state.album._id);\n        this.props.history.push('/');\n    }\n\n    changeState(obj) {\n        this.setState(obj);\n    }\n\n    saveFotoDescription(picture) {\n        const newPictures = [...this.state.album.images];\n        const editedPicture = this.state.album.images.find(p => p._id == picture._id);\n        if (this.pinput.value) editedPicture.name = this.pinput.value;\n        if (this.ptextarea.value) editedPicture.text = this.ptextarea.value;\n\n        this.props.saveFotoDescription(this.state.album._id, editedPicture);\n\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        });\n        this.setState({album: newAlbum, openPicture: null});\n    }\n\n    saveAlbumDescription() {\n        const editedAlbum = Object.assign({}, {...this.state.album});\n        if (this.ainput.value) editedAlbum.name = this.ainput.value;\n        if (this.atextarea.value) editedAlbum.description = this.atextarea.value;\n\n        this.props.saveAlbumDescription(editedAlbum);\n\n        this.setState({album: editedAlbum, openedAlbum: false});\n    }\n\n    uploadFile(file) {\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(downloadedFoto => {\n                if (isVideo(downloadedFoto.src)) {\n                    http.doPost(routesModule.routes.FOTO_ROUTE, {\n                        src: downloadedFoto.src,\n                        album: this.state.album._id\n                    }).then(result => {\n                        const newPictures = [...this.state.album.images];\n                        newPictures.push(result);\n                        const newAlbum = Object.assign({}, {\n                            ...this.state.album,\n                            images: newPictures,\n                        });\n\n                        this.setState({\n                            //imageDownloaded: null,\n                            album: newAlbum\n                        });\n                    });\n                } else {\n                    this.setState({\n                        imageDownloaded: downloadedFoto.src\n                    });\n                }\n\n            });\n    }\n\n    onImageLoad() {\n        this.setState({imageLoading: false});\n    }\n\n    onImageError() {\n        this.setState({imageLoading: false});\n    }\n\n    renderEditAlbumCard() {\n        return <div className='edit_album_card' key=\"edit_album_card\">\n            {this.state.imageLoading ? <Loader type=\"ball-scale-multiple\"/> : isVideo(this.state.album.images[0].src)\n                ? <video className=\"album_image\"\n                         height={styles.picture_edit_height}\n                         width={styles.picture_edit_width}\n                         onLoad={() => this.onImageLoad()}\n                         onError={() => this.onImageError()}\n                         controls=\"controls\">\n                    <source src={this.state.album.images[0].src}/>\n                </video>\n                : <img className='album_image' onLoad={() => this.onImageLoad()}\n                       onError={() => this.onImageError()}\n                       src={this.state.album.images[0].src}/>}\n            <div className='album_name' onClick={() => this.openAlbumDetails()}>{this.state.album.name}</div>\n            <CrossIcon className='cross_icon' onClick={() => this.setState({openedDialog: true})}/>\n        </div>\n    }\n\n    renderImages() {\n        return this.state.album.images.sort((x, y) => x.order - y.order).map(p => <Card\n            key={p._id}\n            picture={p}\n            pictures={this.state.album.images}\n            openDetails={(p) => this.openDetails(p)}\n            deleteItem={(p) => this.deleteItem(p)}\n            replaceImage={(target) => this.replaceImage(target)}\n            openPicture={this.state.openPicture}\n            changeDragState={(obj) => this.changeState(obj)}\n            dragState={this.state}\n            updateOrder={(album) => this.props.saveItemsOrder(album)}\n            loadAlbum={() => this.loadAlbum()}\n        />)\n    }\n\n    renderFileInput() {\n        return !this.state.imageDownloaded && <FileInput className='edit_file_input'\n                                                         disabled={this.state.openPicture}\n                                                         label='Choose new foto'\n                                                         uploadFile={(file) => this.uploadFile(file)}\n            />\n    }\n\n    renderEditCanvas() {\n        return this.state.imageDownloaded && !isVideo(this.state.imageDownloaded) && <EditCanvas\n                image={this.state.imageDownloaded}\n                cleanImage={obj => this.changeState(obj)}\n                album={this.state.album}\n            />\n    }\n\n    renderChangeFotoTextInfoDialog() {\n        return this.state.openPicture &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter foto name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveFotoDescription(this.state.openPicture)}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.openPicture.name} ref={i => this.pinput = i}/>\n                    <textarea defaultValue={this.state.openPicture.text} ref={t => this.ptextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderChangeAlbumTextInfoDialog() {\n        return this.state.openedAlbum &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter album name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveAlbumDescription()}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.album.name} ref={i => this.ainput = i}/>\n                    <textarea defaultValue={this.state.album.description} ref={t => this.atextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderDeleteDialog() {\n        return this.state.openedDialog && <Dialog onClick={() => this.removeAlbum()}\n                                                  onClose={() => this.setState({openedDialog: false})}\n                                                  text=\"Do you really want to delete the album?\"/>\n    }\n\n\n    render() {\n        const {album} = this.state;\n        if (!album) {\n            return null;\n        }\n        return <React.Fragment>\n            {this.renderEditAlbumCard()}\n            {this.renderImages()}\n            {this.renderFileInput()}\n            {this.renderEditCanvas()}\n            {this.renderChangeFotoTextInfoDialog()}\n            {this.renderChangeAlbumTextInfoDialog()}\n            {this.renderDeleteDialog()}\n        </React.Fragment>;\n    }\n}\n\nexport default EditAlbum;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditAlbum.jsx"],"sourceRoot":""}