{"version":3,"sources":["webpack:///./components/editAlbum/EditAlbum.jsx"],"names":["routesModule","require","EditAlbum","connect","store","deleteFotoFromAlbum","React","Component","constructor","props","state","dragStarted","dragFrom","dragFromEl","dragObj","isTextOpen","album","componentDidMount","http","doGet","routes","GET_ALBUM","match","params","id","then","result","setState","pictures","images","openDetails","onCrossClick","deleteItem","picture","newState","filter","p","changeDragState","obj","render","sort","x","y","order","map","target","replaceImage","t","text"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMA,eAAe,mBAAAC,CAAQ,GAAR,CAArB;;IAOMC,S,WALL,uFAAAC,CAAQC,UAAU,EAAV,CAAR,EAEG;AACAC,IAAA,+FAAAA;AADA,CAFH,C,gBAKD,MAAMH,SAAN,SAAwB,6CAAAI,CAAMC,SAA9B,CAAwC;;AAEpCC,gBAAYC,KAAZ,EAAmB;AACf,cAAMA,KAAN;AACA,aAAKC,KAAL,GAAa;AACTC,yBAAa,KADJ;AAETC,sBAAU,IAFD;AAGTC,wBAAY,IAHH;AAITC,qBAAS,IAJA;AAKTC,wBAAY,KALH;AAMTC,mBAAO;AANE,SAAb;AAQH;;AAEDC,wBAAoB;AAChBC,QAAA,6DAAAA,CAAKC,KAAL,CAAWnB,aAAaoB,MAAb,CAAoBC,SAApB,CAA8B,KAAKZ,KAAL,CAAWa,KAAX,CAAiBC,MAAjB,CAAwBC,EAAtD,CAAX,EACKC,IADL,CACUC,UAAU,KAAKC,QAAL,CAAc,EAACC,UAAUF,OAAOG,MAAlB,EAAd,CADpB;AAEH;;AAEDC,kBAAc;AACV,aAAKH,QAAL,CAAc,EAACZ,YAAY,IAAb,EAAd;AACH;;AAEDgB,mBAAe;AACX,aAAKJ,QAAL,CAAc,EAACZ,YAAY,KAAb,EAAd;AACH;;AAEDiB,eAAWC,OAAX,EAAoB;AAChB,aAAKxB,KAAL,CAAWJ,mBAAX,CAA+B4B,QAAQT,EAAvC,EAA2C,KAAKd,KAAL,CAAWM,KAAX,CAAiBY,QAA5D;AACA,cAAMM,WAAW,KAAKxB,KAAL,CAAWM,KAAX,CAAiBY,QAAjB,CAA0BO,MAA1B,CAAiCC,KAAKA,EAAEZ,EAAF,IAAQS,QAAQT,EAAtD,CAAjB;AACA,aAAKG,QAAL,CAAcO,QAAd;AACH;;AAEDG,oBAAgBC,GAAhB,EAAqB;AACjB,aAAKX,QAAL,CAAcW,GAAd;AACH;;AAEDC,aAAS;AACL,cAAM,EAACxB,UAAD,EAAYC,KAAZ,KAAqB,KAAKN,KAAhC;AACA,eAAOM,SACH;AAAA;AAAA,cAAK,WAAU,gBAAf;AACK,iBAAKN,KAAL,CAAWM,KAAX,CAAiBY,QAAjB,CAA0BY,IAA1B,CAA+B,CAACC,CAAD,EAAGC,CAAH,KAASD,EAAEE,KAAF,GAAQD,EAAEC,KAAlD,EAAyDC,GAAzD,CAA6DR,KAAK,4DAAC,sDAAD;AAC/D,qBAAKA,EAAEZ,EADwD;AAE/D,yBAASY,CAFsD;AAG/D,0BAAU,KAAK1B,KAAL,CAAWM,KAAX,CAAiBY,QAHoC;AAI/D,6BAAa,MAAM,KAAKE,WAAL,EAJ4C;AAK/D,4BAAY,MAAM,KAAKE,UAAL,EAL6C;AAM/D,8BAAea,MAAD,IAAY,KAAKC,YAAL,CAAkBD,MAAlB,CANqC;AAO/D,4BAAY9B,UAPmD;AAQ/D,iCAAkBuB,GAAD,IAAS,KAAKD,eAAL,CAAqBC,GAArB,CARqC;AAS/D,2BAAW,KAAK5B;AAT+C,cAAlE,CADL;AAYI,wEAAC,qEAAD,IAAW,WAAU,WAArB,EAAiC,UAAUK,UAA3C,EAAuD,OAAM,iBAA7D,GAZJ;AAaKA,0BACD;AAAA;AAAA,kBAAK,WAAU,UAAf,EAA0B,KAAKgC,KAAK,KAAKC,IAAL,GAAYD,CAAhD;AACI,0FADJ;AAEI,6FAFJ;AAGI,4EAAC,wDAAD,IAAU,WAAU,WAApB,GAHJ;AAII,4EAAC,yDAAD,IAAW,WAAU,YAArB,EAAkC,SAAS,MAAM,KAAKhB,YAAL,EAAjD;AAJJ;AAdJ,SADJ;AAwBH;AA/DmC,C;;;AAkExC,yDAAe7B,SAAf,E","file":"0.25d44de53cc3c016d91d.hot-update.js","sourcesContent":["import React from 'react';\nimport './editAlbum.less';\nimport FileInput from \"../fileInput/FileInput\";\nimport {CrossIcon, SaveIcon} from \"../Icons\";\nimport Card from \"./Card\";\nimport http from '../../HttpService';\nimport connect from \"react-redux/es/connect/connect\";\nimport {deleteFotoFromAlbum} from \"../../actions/albumActions\";\nconst routesModule = require('../../constants/routes');\n\n@connect(store => ({\n\n}), {\n    deleteFotoFromAlbum\n})\nclass EditAlbum extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dragStarted: false,\n            dragFrom: null,\n            dragFromEl: null,\n            dragObj: null,\n            isTextOpen: false,\n            album: null\n        }\n    }\n\n    componentDidMount() {\n        http.doGet(routesModule.routes.GET_ALBUM(this.props.match.params.id))\n            .then(result => this.setState({pictures: result.images}));\n    }\n\n    openDetails() {\n        this.setState({isTextOpen: true});\n    }\n\n    onCrossClick() {\n        this.setState({isTextOpen: false});\n    }\n\n    deleteItem(picture) {\n        this.props.deleteFotoFromAlbum(picture.id, this.state.album.pictures);\n        const newState = this.state.album.pictures.filter(p => p.id != picture.id);\n        this.setState(newState);\n    }\n\n    changeDragState(obj) {\n        this.setState(obj);\n    }\n\n    render() {\n        const {isTextOpen,album} = this.state;\n        return album && (\n            <div className='edit_container'>\n                {this.state.album.pictures.sort((x,y) => x.order-y.order).map(p => <Card\n                    key={p.id}\n                    picture={p}\n                    pictures={this.state.album.pictures}\n                    openDetails={() => this.openDetails()}\n                    deleteItem={() => this.deleteItem()}\n                    replaceImage={(target) => this.replaceImage(target)}\n                    isTextOpen={isTextOpen}\n                    changeDragState={(obj) => this.changeDragState(obj)}\n                    dragState={this.state}\n                />)}\n                <FileInput className='new_image' disabled={isTextOpen} label='Choose new foto'/>\n                {isTextOpen &&\n                <div className='new_text' ref={t => this.text = t}>\n                    <input/>\n                    <textarea/>\n                    <SaveIcon className='save_icon'/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                </div>}\n\n            </div>\n        );\n    }\n}\n\nexport default EditAlbum;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditAlbum.jsx"],"sourceRoot":""}