{"version":3,"sources":["webpack:///./components/Icons.jsx","webpack:///./components/FotoSlider.jsx","webpack:///./components/Header.jsx","webpack:///./components/newAlbum/AddNewAlbum.jsx","webpack:///./components/AlbumContainer.jsx","webpack:///./components/picture/Picture.jsx","webpack:///./components/picture/PreviewImageFrame.jsx","webpack:///./actions/albumActions.js","webpack:///./components/editAlbum/EditAlbum.jsx","webpack:///./components/editAlbum/Card.jsx","webpack:///./components/dialog/Dialog.jsx","webpack:///./components/dialog/dialog.less","webpack:///./components/dialog/dialog.less?43df","webpack:///./components/editAlbum/editAlbum.less","webpack:///./components/fileInput/FileInput.jsx","webpack:///./components/editAlbum/editAlbum.less?150b"],"names":["Icon","props","theme","text","content","LeftArrowIcon","styled","RightArrowIcon","MagnifierIcon","CrossIcon","EditIcon","SaveIcon","Page","div","Content","FotoSlider","React","Component","constructor","state","addAlbumModal","createAlbum","setState","closeModal","render","HeaderContainer","HeaderMenu","MenuItem","Search","Header","connect","store","fetchAlbumsBySearch","fetchAlbums","onEnter","e","key","target","value","history","push","routesModule","require","Label","span","AddNewAlbum","modal","height","name","description","src","componentDidMount","window","addEventListener","calculateModalHeight","w","d","document","documentElement","g","getElementsByTagName","y","innerHeight","clientHeight","modalStyle","currentStyle","getComputedStyle","Math","min","parseInt","uploadFile","file","http","sendFile","routes","UPLOAD_FOTO","then","id","r","Container","AlbumContainer","albums","map","album","images","Picture","magnify","valid","click","animation","closePreview","mouseLeave","chooseAnimation","mouseEnter","fade","move","findSide","direction","clientRect","getClientRects","diffs","side","diff","abs","clientX","left","right","clientY","top","bottom","minDiff","Array","from","el","find","handleBrokenImg","main","editRoute","PreviewImageFrame","img","current","currentIndex","indexOf","imageWidth","length","setImageWidth","getImageContainerWidth","changeImageWidth","componentWillUnmount","removeEventListener","imageRect","getBoundingClientRect","width","componentDidUpdate","prevProps","prevState","setTimeout","onCrossClick","close","onArrowClick","arrow","clearAnimate","node","albumsRequest","type","REQ_ALBUMS","setAlbums","dispatch","doGet","GET_ALBUMS","result","search","GET_ALBUMS_SEARCH","deleteFotoFromAlbum","doDelete","DELETE_FOTO","deleteAlbum","DELETE_ALBUM","saveFotoDescription","image","doPut","UPDATE_FOTO","saveAlbumDescription","ALBUM_ROUTE","saveItemsOrder","UPDATE_ITEMS_ORDER","doPost","EditAlbum","dragStarted","dragFrom","dragFromEl","dragObj","openPicture","openedAlbum","openedDialog","GET_ALBUM","match","params","openDetails","picture","openAlbumDetails","deleteItem","newPictures","filter","p","newAlbum","Object","assign","removeAlbum","changeDragState","obj","editedPicture","pinput","ptextarea","editedAlbum","ainput","atextarea","FOTO_ROUTE","sort","x","order","replaceImage","i","t","Card","replaceEvent","componentWillReceiveProps","dragContainer","replaceAttached","attr","getAttribute","pictures","changePictureAndClear","onMouseDown","preventDefault","parentElement","scrollX","scrollY","style","elStartLeft","elStartTop","zIndex","onMouseMove","dragState","onMouseUp","event","Event","elementFromPoint","dispatchEvent","dragToPicture","dragFromPicture","prevOrder","updateOrder","Dialog","onClose","onClick","FileInput","onChange","files","label","disabled"],"mappings":"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","file":"0.eb6b1c1023cc9a376d70.hot-update.js","sourcesContent":["import styled from 'styled-components';\nimport LeftArrow from '../svg/left-arrow.svg';\nimport RightArrow from '../svg/right-arrow.svg';\nimport Magnifier from '../svg/magnifier.svg';\nimport Cross from '../svg/cancel.svg';\nimport Edit from '../svg/edit.svg';\nimport Save from '../svg/save-file-option.svg';\n\nconst Icon = `\n        width: 1rem;\n        height: 1rem;\n        fill: ${props => props.theme.text};\n        \n        &:hover {\n            cursor: pointer;\n            fill: ${props => props.theme.content};\n        }\n`\n\nexport const LeftArrowIcon = styled(LeftArrow)`\n  ${Icon}\n`\n\nexport const RightArrowIcon = styled(RightArrow)`\n  ${Icon}\n`\n\nexport const MagnifierIcon = styled(Magnifier)`\n   width: 3rem;\n   height: 3rem;\n   fill: rgba(255,255,255, 0.7);\n`\n\nexport const CrossIcon = styled(Cross)`\n   ${Icon}\n`\n\nexport const EditIcon = styled(Edit)`\n   ${Icon}\n`\n\nexport const SaveIcon = styled(Save)`\n   ${Icon}\n`\n\n\n// WEBPACK FOOTER //\n// ./components/Icons.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport Header from \"./Header\";\nimport AddNewAlbum from \"./newAlbum/AddNewAlbum\";\nimport AlbumContainer from \"./AlbumContainer\";\nimport Scroll from \"./scroll/Scroll\";\nimport ProgressScroll from \"./scroll/ProgressScroll\";\nimport {Route, Switch} from \"react-router-dom\";\nimport EditAlbum from \"./editAlbum/EditAlbum\";\n\nconst Page = styled.div`\n    margin: 2rem 10rem;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n    \n   font-size:2rem;\n`\n\nconst Content = styled.div`\n    background-color: black;\n`\n\nclass FotoSlider extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            addAlbumModal: false\n        }\n    }\n\n    createAlbum() {\n        this.setState({\n            addAlbumModal: true\n        });\n    }\n\n    closeModal() {\n        this.setState({\n            addAlbumModal: false\n        });\n    }\n\n    render() {\n        return (\n            <Page>\n                {this.state.addAlbumModal && <AddNewAlbum closeModal={() => this.closeModal()}/>}\n                <Content>\n                    <Header createAlbum={() => this.createAlbum()}/>\n                    <Switch>\n                        <Route exact path='/' component={AlbumContainer}/>\n                        <Route path='/edit/:id' component={EditAlbum}/>\n                    </Switch>\n                </Content>\n            </Page>\n\n        );\n    }\n}\n\nexport default FotoSlider;\n\n\n// WEBPACK FOOTER //\n// ./components/FotoSlider.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums, fetchAlbumsBySearch} from \"../actions/albumActions\";\nimport withRouter from \"react-router-dom/es/withRouter\";\n\nconst HeaderContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  color: white;\n  font-size: 1.2rem;\n`\n\nconst HeaderMenu = styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: row;\n\n`\n\nconst MenuItem = styled.div`\n  padding: 1rem;\n  cursor: pointer;\n`\n\nconst Search = styled.div`\n  padding: 1rem;\n`\n@withRouter\n@connect(store => ({}), {\n    fetchAlbumsBySearch,\n    fetchAlbums\n})\nclass Header extends React.Component {\n\n    onEnter(e) {\n        if (e.key == \"Enter\") {\n            if(e.target.value) this.props.fetchAlbumsBySearch(e.target.value);\n            else this.props.fetchAlbums();\n            this.props.history.push('/');\n        }\n    }\n\n    render() {\n        return (\n            <HeaderContainer>\n                <HeaderMenu>\n                    <MenuItem onClick={this.props.createAlbum}>new album</MenuItem>\n                </HeaderMenu>\n                <Search>Search: <input defaultValue=''\n                    onKeyPress={(e) => this.onEnter(e)}/></Search>\n            </HeaderContainer>\n        );\n    }\n}\n\nexport default Header;\n\n\n// WEBPACK FOOTER //\n// ./components/Header.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport {CrossIcon} from \"../Icons\";\nimport FileInput from \"../fileInput/FileInput\";\nimport './addNewAlbum.less';\nimport Scroll from \"../scroll/Scroll\";\nimport connect from \"react-redux/es/connect/connect\";\nconst routesModule = require('../../constants/routes');\nimport http from '../../HttpService';\nimport {\n    createAlbum\n} from \"../../actions/albumActions\";\n\nconst Label = styled.span`\n  width: 100%;\n  margin-bottom: 0.25rem;\n`\n\n@connect(store => ({}), {\n    createAlbum\n})\nclass AddNewAlbum extends React.Component {\n    constructor(props) {\n        super(props);\n        this.modal = null;\n        this.state = {\n            height: '100%',\n            name: '',\n            description: '',\n            src: null\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', () => this.calculateModalHeight())\n        this.calculateModalHeight();\n    }\n\n    calculateModalHeight() {\n        var w = window,\n            d = document,\n            e = d.documentElement,\n            g = d.getElementsByTagName('body')[0],\n            y = w.innerHeight || e.clientHeight || g.clientHeight;\n\n        if (this.modal) {\n            const modalStyle = this.modal.currentStyle || window.getComputedStyle(this.modal);\n            const height = Math.min(parseInt(y), parseInt(modalStyle.height)) + 'px';\n            this.setState({\n                height\n            });\n        }\n    }\n\n    uploadFile(file) {\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(id => {\n                this.setState({src: id.src});\n            });\n    }\n\n    createAlbum() {\n        const {name, description, src} = this.state;\n        if (name && description && src) {\n            this.props.createAlbum({\n                name, description, src\n            });\n            this.props.closeModal();\n        }\n\n    }\n\n    render() {\n        const {name, description, src, height} = this.state;\n\n        return <div className='add_album'>\n            {/*<Scroll width='40%' height={height} className='scroll_container'>*/}\n            <div className='add_album_modal' ref={r => this.modal = r}>\n\n                <CrossIcon onClick={this.props.closeModal}/>\n                <Label>Name</Label>\n                <input value={name} onChange={(e) => this.setState({name: e.target.value})}/>\n                <Label>Title image:</Label>\n                {src ? <img src={src}/> :\n                    <FileInput label='Choose main foto'\n                               uploadFile={(file) => this.uploadFile(file)}/>}\n                <Label>Description</Label>\n                <textarea value={description} onChange={(e) => this.setState({description: e.target.value})}/>\n                <button onClick={() => this.createAlbum()}>ok</button>\n\n            </div>\n        {/*</Scroll>*/}\n        </div>\n\n    }\n}\n\nexport default AddNewAlbum;\n\n\n// WEBPACK FOOTER //\n// ./components/newAlbum/AddNewAlbum.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport Picture from \"./picture/Picture\";\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums} from \"../actions/albumActions\";\n\n// overrides picture styles\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex-wrap: wrap;\n  padding: 2rem;\n\n  &>div {\n     padding: 1rem;\n        \n     .image {\n        height: 15rem;\n        width: 20rem;\n        object-fit: cover;\n      }\n\n      .image_wrapper .overlay .overlay_bottom_text {\n         font-size: 1rem;\n      }\n  }\n`\n@connect(store => ({\n    albums: store.albums\n}), {\n    fetchAlbums\n})\nclass AlbumContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props.fetchAlbums();\n    }\n\n    render() {\n        return (\n            <Container>\n                {this.props.albums.map(album => <Picture main={album.images[0]}\n                                                         key={album.id}\n                                                         animation='fade'\n                                                         editRoute={`/edit/${album.id}`}\n                                                         images={album.images}/>)}\n\n            </Container>\n        );\n    }\n}\n\nexport default AlbumContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/AlbumContainer.jsx","import React from \"react\";\nimport {MagnifierIcon} from \"../Icons\";\nimport \"./picture.less\";\nimport Preview from \"./Preview\";\n\nclass Picture extends React.Component {\n    // animation: fade, move\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            magnify: '',\n            valid: true\n        };\n    }\n\n    click() {\n        this.setState({\n            magnify: 'magnify',\n            animation: ''\n        });\n    };\n\n    closePreview() {\n        this.setState({\n            magnify: ''\n        });\n    }\n\n    mouseLeave(e) {\n        !this.state.magnify && this.chooseAnimation(e, 'fade_out', 'from');\n    };\n\n    mouseEnter(e) {\n        !this.state.magnify && this.chooseAnimation(e, 'fade_in', 'to');\n    };\n\n    chooseAnimation(e, fade, move) {\n        switch (this.props.animation) {\n            case 'fade':\n                this.setState({\n                    animation: fade\n                });\n                break;\n            case 'move':\n                this.setState({\n                    animation: this.findSide(e, move)\n                });\n        }\n    }\n\n    findSide(e, direction) {\n        const clientRect = e.target.getClientRects()[0];\n        const diffs = [\n            {\n                side: `move_${direction}_right`,\n                diff: Math.abs(e.clientX - clientRect.left)\n            }, {\n                side: `move_${direction}_left`,\n                diff: Math.abs(e.clientX - clientRect.right)\n            }, {\n                side: `move_${direction}_bottom`,\n                diff: Math.abs(e.clientY - clientRect.top)\n            }, {\n                side: `move_${direction}_top`,\n                diff: Math.abs(e.clientY - clientRect.bottom)\n            }\n        ];\n\n        const minDiff = Math.min(...Array.from(diffs, el => el.diff));\n        return diffs.find(el => el.diff == minDiff).side;\n    }\n\n    handleBrokenImg(e) {\n        this.setState({\n            valid: false\n        })\n    }\n\n    render() {\n        const {main} = this.props;\n        const {animation, magnify} = this.state;\n        return this.state.valid && <div>\n                <div\n                    className={`image_wrapper ${animation} ${magnify}`}\n                    onMouseLeave={(e) => this.mouseLeave(e)}\n                    onMouseEnter={(e) => this.mouseEnter(e)}\n                    onClick={(e) => this.click(e)}\n                >\n                    <img className='image'\n                         onError={(e) => this.handleBrokenImg(e)}\n                         src={main.src}\n                         alt=\"something wrong happens\"/>\n                    <div className={'overlay'}>\n                        <div className={`overlay_top`}>\n                            <MagnifierIcon/>\n                        </div>\n                        <div className={`overlay_bottom`}>\n                            <div className='overlay_bottom_text'>{main.text}</div>\n                        </div>\n                    </div>\n                </div>\n                {magnify &&\n                <Preview main={main}\n                         close={() => this.closePreview()}\n                         editRoute={this.props.editRoute}\n                         images={this.props.images}/>}\n            </div>;\n    }\n}\n\nexport default Picture;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Picture.jsx","import React from \"react\";\nimport {CrossIcon, EditIcon, LeftArrowIcon, RightArrowIcon} from \"../Icons\";\nimport \"./preview.less\";\nimport {Link} from \"react-router-dom\";\n\nclass PreviewImageFrame extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.img = null;\n\n    const current = props.images.find(img => img === props.src);\n    const currentIndex = props.images.indexOf(current);\n\n    this.state = {\n      imageWidth: 0,\n      main: props.main,\n      left: currentIndex > 0,\n      right: currentIndex < (props.images.length - 1)\n    };\n  }\n\n  componentDidMount() {\n    this.props.setImageWidth(this.getImageContainerWidth());\n    window.addEventListener('resize', () => this.changeImageWidth());\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', () => this.changeImageWidth());\n  }\n\n  getImageContainerWidth() {\n    const img = this.img;\n    if (!img) return 0;\n    const imageRect = img.getBoundingClientRect();\n    return imageRect.width;\n  }\n\n  changeImageWidth() {\n    this.props.setImageWidth(this.getImageContainerWidth());\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.main != this.state.main) {\n      // in order to make sure width will be recalculated\n      window.setTimeout(() => this.changeImageWidth(), 100);\n    }\n  }\n\n  onCrossClick() {\n    this.props.close();\n  }\n\n  onArrowClick(arrow) {\n    const {images} = this.props;\n    //const current = images.find(img => img === this.state.main);\n    const currentIndex = images.indexOf(this.state.main);\n    let main;\n\n    if (arrow === 'left' && currentIndex > 0) {\n      main = images[currentIndex - 1];\n      this.setState({\n        main,\n        left: (currentIndex - 1) > 0,\n        right: (currentIndex - 1) < (images.length - 1)\n      });\n    }\n\n    if (arrow === 'right' && currentIndex < (images.length - 1)) {\n        main = images[currentIndex + 1];\n        this.setState({\n        main,\n        left: (currentIndex + 1) > 0,\n        right: (currentIndex + 1) < (images.length - 1)\n      })\n    }\n\n    this.props.clearAnimate(main);\n  }\n\n  render() {\n    const {main, left, right} = this.state;\n    const {images, editRoute} = this.props;\n\n    return (<div className='magnify_modal_img_frame_container'>\n        <CrossIcon className='cross' onClick={() => this.onCrossClick()}/>\n            {editRoute && <Link to={this.props.editRoute}><EditIcon className='edit'/></Link>}\n        {left && <div className='left_arrow'>\n          <LeftArrowIcon onClick={() => this.onArrowClick('left')}/>\n        </div>}\n        {right && <div className='right_arrow'>\n          <RightArrowIcon onClick={() => this.onArrowClick('right')}/>\n        </div>}\n        <div className='counter_container'>\n          <div className='counter'>{`${(images.indexOf(main) + 1)} of ${images.length}`}</div>\n        </div>\n        <img src={main.src} className='image_preview' ref={node => this.img = node}/>\n      </div>\n    );\n  }\n}\n\nexport default PreviewImageFrame;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/PreviewImageFrame.jsx","import * as types from '../constants/ActionTypes';\nimport http from '../HttpService';\nconst routesModule = require('../constants/routes');\n\nexport function albumsRequest() {\n    return {\n        type: types.REQ_ALBUMS\n    };\n}\n\nexport function setAlbums(albums) {\n    return {\n        type: types.SET_ALBUMS,\n        albums\n    };\n}\n\nexport function fetchAlbums() {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS)\n            .then(result => dispatch(setAlbums(result)));\n    }\n}\n\nexport function fetchAlbumsBySearch(search) {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS_SEARCH(search))\n            .then(result => dispatch(setAlbums(result)));\n    }\n}\n\n// export function deleteFotoRequest() {\n//     return {\n//         type: types.REQ_ALBUMS\n//     };\n// }\n\nexport function deleteFotoFromAlbum(id, album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_FOTO(id, album))\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function deleteAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_ALBUM(id))\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveFotoDescription(album, image) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_FOTO(album), image)\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveAlbumDescription(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.ALBUM_ROUTE, album)\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveItemsOrder(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_ITEMS_ORDER, album)\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function createAlbum(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPost(routesModule.routes.ALBUM_ROUTE, album)\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./actions/albumActions.js","import React from 'react';\nimport './editAlbum.less';\nimport FileInput from \"../fileInput/FileInput\";\nimport {CrossIcon, SaveIcon} from \"../Icons\";\nimport Card from \"./Card\";\nimport http from '../../HttpService';\nimport connect from \"react-redux/es/connect/connect\";\nimport {\n    deleteAlbum, deleteFotoFromAlbum, fetchAlbums, saveAlbumDescription,\n    saveFotoDescription, saveItemsOrder\n} from \"../../actions/albumActions\";\nimport Dialog from \"../dialog/Dialog\";\nconst routesModule = require('../../constants/routes');\n\n@connect(store => ({}), {\n    deleteFotoFromAlbum,\n    saveFotoDescription,\n    saveAlbumDescription,\n    deleteAlbum,\n    fetchAlbums,\n    saveItemsOrder\n})\nclass EditAlbum extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dragStarted: false,\n            dragFrom: null,\n            dragFromEl: null,\n            dragObj: null,\n            openPicture: null,\n            openedAlbum: false,\n            album: null,\n            openedDialog: false\n        }\n    }\n\n    componentDidMount() {\n        http.doGet(routesModule.routes.GET_ALBUM(this.props.match.params.id))\n            .then(result => this.setState({album: result}));\n    }\n\n    openDetails(picture) {\n        this.setState({openPicture: picture});\n    }\n\n    openAlbumDetails() {\n        this.setState({openedAlbum: true});\n    }\n\n    onCrossClick() {\n        this.setState({openPicture: null, openedAlbum: false});\n    }\n\n    deleteItem(picture) {\n        this.props.deleteFotoFromAlbum(picture.id, this.state.album.id);\n        const newPictures = this.state.album.images.filter(p => p.id != picture.id);\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        })\n        this.setState({album: newAlbum});\n    }\n\n    removeAlbum() {\n        this.props.deleteAlbum(this.state.album.id);\n        this.props.history.push('/');\n    }\n\n    changeDragState(obj) {\n        this.setState(obj);\n    }\n\n    saveFotoDescription(picture) {\n        const newPictures = [...this.state.album.images];\n        const editedPicture = this.state.album.images.find(p => p.id == picture.id);\n        if (this.pinput.value) editedPicture.name = this.pinput.value;\n        if (this.ptextarea.value) editedPicture.text = this.ptextarea.value;\n\n        this.props.saveFotoDescription(this.state.album.id, editedPicture);\n\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        });\n        this.setState({album: newAlbum, openPicture: null});\n    }\n\n    saveAlbumDescription() {\n        const editedAlbum = Object.assign({}, {...this.state.album});\n        if (this.ainput.value) editedAlbum.name = this.ainput.value;\n        if (this.atextarea.value) editedAlbum.description = this.atextarea.value;\n\n        this.props.saveAlbumDescription(editedAlbum);\n\n        this.setState({album: editedAlbum, openedAlbum: false});\n    }\n\n    uploadFile(file) {\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n               .then(id => {\n                   http.doPost(routesModule.routes.FOTO_ROUTE, id)\n                       .then(result => {\n                           const newPictures = [...this.state.album.images];\n                           newPictures.push(result);\n                           const newAlbum = Object.assign({}, {\n                               ...this.state.album,\n                               images: newPictures,\n                           });\n                           this.setState({album: newAlbum});\n                           this.props.fetchAlbums();\n                       });\n               });\n    }\n\n    render() {\n        const {openPicture, album, openedAlbum, openedDialog} = this.state;\n        return album && (\n                    <div className='edit_container'>\n                        <div className='edit_album_card'>\n                            <img className='album_image' src={album.images[0].src}/>\n                            <div className='album_name' onClick={() => this.openAlbumDetails()}>{album.name}</div>\n                            <CrossIcon className='cross_icon' onClick={() => this.setState({openedDialog: true})}/>\n                        </div>\n                        {album.images.sort((x, y) => x.order - y.order).map(p => <Card\n                            key={p.id}\n                            picture={p}\n                            pictures={album.images}\n                            openDetails={(p) => this.openDetails(p)}\n                            deleteItem={(p) => this.deleteItem(p)}\n                            replaceImage={(target) => this.replaceImage(target)}\n                            openPicture={openPicture}\n                            changeDragState={(obj) => this.changeDragState(obj)}\n                            dragState={this.state}\n                            updateOrder={(album) => this.props.saveItemsOrder(album)}\n                        />)}\n                        <FileInput className='new_image'\n                                   disabled={openPicture}\n                                   label='Choose new foto'\n                                   uploadFile={(file) => this.uploadFile(file)}\n                        />\n                        {openPicture &&\n                        <div className='new_text'>\n                            <input defaultValue={openPicture.name} ref={i => this.pinput = i}/>\n                            <textarea defaultValue={openPicture.text} ref={t => this.ptextarea = t}/>\n                            <SaveIcon className='save_icon' onClick={() => this.saveFotoDescription(openPicture)}/>\n                            <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                        </div>}\n                        {openedAlbum &&\n                        <div className='new_text'>\n                            <input defaultValue={album.name} ref={i => this.ainput = i}/>\n                            <textarea defaultValue={album.description} ref={t => this.atextarea = t}/>\n                            <SaveIcon className='save_icon' onClick={() => this.saveAlbumDescription()}/>\n                            <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                        </div>}\n                        {openedDialog && <Dialog onClick={() => this.removeAlbum()}\n                        onClose={() => this.setState({openedDialog: false})}/>}\n                    </div>\n            );\n    }\n}\n\nexport default EditAlbum;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditAlbum.jsx","import React from 'react';\nimport './editAlbum.less';\nimport {CrossIcon, EditIcon} from \"../Icons\";\n\nclass Card extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.replaceEvent = 'replace';\n    }\n\n    componentWillReceiveProps() {\n        if (this.dragContainer && !this.replaceAttached) {\n            this.replaceAttached = true;\n            this.dragContainer.addEventListener(this.replaceEvent, e => this.replaceImage(e.target));\n        }\n    }\n\n    replaceImage(target) {\n\n        const attr = target.getAttribute('imgid');\n        const picture = this.props.pictures.find(p => p.id == attr);\n\n        this.changePictureAndClear(picture);\n    }\n\n    onMouseDown(e, picture) {\n        e.preventDefault();\n\n        const target = e.target.parentElement;\n\n        const x = e.clientX + window.scrollX;\n        const y = e.clientY + window.scrollY;\n\n        const style = target.currentStyle || window.getComputedStyle(target);\n\n        const elStartLeft = parseInt(style.left, 10);\n        const elStartTop = parseInt(style.top, 10);\n        const dragObj = {\n            x, y, elStartLeft, elStartTop\n        }\n        this.props.changeDragState({dragStarted: true, dragFrom: picture, dragObj, dragFromEl: target});\n        target.style.zIndex = 10;\n    }\n\n    onMouseMove(e, picture) {\n        e.preventDefault();\n        const {dragFrom, dragStarted, dragObj} = this.props.dragState;\n        const target = e.target.parentElement;\n        if (dragStarted && dragFrom == picture) {\n            const x = e.clientX + window.scrollX;\n            const y = e.clientY + window.scrollY;\n            target.style.top = (dragObj.elStartTop + y - dragObj.y) + 'px';\n            target.style.left = (dragObj.elStartLeft + x - dragObj.x) + 'px';\n        }\n    }\n\n    onMouseUp(e, picture) {\n        e.preventDefault();\n\n        const {dragFrom, dragFromEl} = this.props.dragState;\n        const target = e.target.parentElement;\n\n        dragFromEl.style.top = '0px';\n        dragFromEl.style.left = '0px';\n\n        target.style.top = '0px';\n        target.style.left = '0px';\n\n        dragFromEl.style.zIndex = 0;\n\n        if (picture == dragFrom) {\n            const event = new Event(this.replaceEvent);\n            document.elementFromPoint(e.clientX + window.scrollX, e.clientY + window.scrollY)\n                .parentElement\n                .dispatchEvent(event);\n            return;\n        }\n\n        this.changePictureAndClear(picture);\n    }\n\n    changePictureAndClear(picture) {\n        const {dragFrom, album} = this.props.dragState;\n\n        const newPictures = [...album.images];\n\n        const dragToPicture = album.images.find(p => p.id == picture.id);\n       // editedPicture.order = prevOrder;\n        const dragFromPicture = album.images.find(p => p.id == dragFrom.id);\n\n        const prevOrder = dragFromPicture.order;\n        dragFromPicture.order = dragToPicture.order;\n        dragToPicture.order = prevOrder;\n\n        newPictures.sort((x, y) => x.order - y.order);\n\n        const newAlbum = Object.assign({}, {\n            ...album,\n            images: newPictures,\n        });\n\n        this.props.updateOrder(newAlbum);\n        this.props.changeDragState({dragStarted: false, dragFrom: null, dragObj: null, dragFromEl: null, album: newAlbum});\n    }\n\n    render() {\n        const {picture, openPicture} = this.props;\n        return openPicture\n            ? <div className='drag_container'\n                   imgid={picture.id}>\n                <img className='drag_image'\n                     src={picture.src}\n                     draggable={false}/>\n            </div>\n            : <div className='drag_container'\n                   ref={r => this.dragContainer = r}\n                   imgid={picture.id}\n                   draggable={true}\n                   onMouseDown={e => this.onMouseDown(e, picture)}\n                   onMouseUp={e => this.onMouseUp(e, picture)}\n                   onMouseMove={e => this.onMouseMove(e, picture)}>\n                <img className='drag_image' src={picture.src}/>\n                <CrossIcon className='cross_icon' onClick={() => this.props.deleteItem(picture)}/>\n                <EditIcon className='edit_icon' onClick={() => this.props.openDetails(picture)}/>\n                <div className='text_description' onClick={() => this.props.openDetails(picture)}>{picture.name}</div>\n            </div>\n    }\n}\n\nexport default Card;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/Card.jsx","import React from 'react';\nimport {CrossIcon} from \"../Icons\";\nimport './dialog.less';\n\n\nclass Dialog extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n\n    render() {\n        return <div className=\"Dialog\">\n                <CrossIcon className=\"cross\" onClick={this.props.onClose}/>\n                <button onClick={this.props.onClick}>ok</button>\n            </div>\n    }\n}\n\nexport default Dialog;\n\n\n\n// WEBPACK FOOTER //\n// ./components/dialog/Dialog.jsx","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".Dialog {\\n  position: absolute;\\n  width: 30rem;\\n  height: 20rem;\\n  background-color: black;\\n  box-shadow: 0 0 0.3rem 0.1rem white;\\n}\\n.Dialog .cross {\\n  position: absolute;\\n  width: 2rem;\\n  height: 2rem;\\n  top: 0;\\n  right: 0;\\n  fill: white;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/autoprefixer-loader!./node_modules/less-loader/dist/cjs.js!./node_modules/js-to-styles-var-loader!./components/dialog/dialog.less\n// module id = 190\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./dialog.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./dialog.less\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./dialog.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/dialog/dialog.less\n// module id = 191\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".edit_container {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n  padding: 2rem;\\n  position: relative;\\n}\\n.edit_container .drag_container {\\n  position: relative;\\n  left: 0;\\n  top: 0;\\n  width: 300px;\\n  height: 200px;\\n  margin: 0.5rem;\\n  z-index: 0;\\n}\\n.edit_container .drag_container .cross_icon,\\n.edit_container .drag_container .edit_icon {\\n  position: absolute;\\n  fill: white;\\n  width: 1rem;\\n  height: 1rem;\\n  top: 0.2rem;\\n}\\n.edit_container .drag_container .cross_icon {\\n  right: 0.2rem;\\n}\\n.edit_container .drag_container .edit_icon {\\n  right: 1.5rem;\\n}\\n.edit_container .drag_container .text_description {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  padding: 0 0.3rem;\\n  font-size: 16px;\\n  background-color: rgba(0, 0, 0, 0.4);\\n  color: white;\\n}\\n.edit_container .drag_image {\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  width: 100%;\\n  height: 100%;\\n}\\n.edit_container .file_input_wrapper {\\n  width: 300px;\\n  height: 200px;\\n  margin: 0.5rem;\\n}\\n.edit_container .edit_album_card {\\n  position: relative;\\n  width: 300px;\\n  height: 200px;\\n  margin: 0.5rem;\\n  color: white;\\n  box-shadow: 0 0 0.3rem 0.1rem white;\\n}\\n.edit_container .edit_album_card .album_image {\\n  width: 100%;\\n  height: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n.edit_container .edit_album_card .album_name {\\n  position: absolute;\\n  bottom: 0.3rem;\\n  left: 0.3rem;\\n  cursor: pointer;\\n  background-color: rgba(0, 0, 0, 0.4);\\n}\\n.edit_container .edit_album_card .cross_icon {\\n  position: absolute;\\n  width: 3rem;\\n  height: 3rem;\\n  fill: white;\\n  top: 0.3rem;\\n  right: 0.3rem;\\n}\\n.edit_container .new_text {\\n  position: absolute;\\n  width: 70%;\\n  height: 50%;\\n}\\n.edit_container .new_text .save_icon,\\n.edit_container .new_text .cross_icon {\\n  position: absolute;\\n  fill: white;\\n  width: 2rem;\\n  height: 2rem;\\n  top: -2.2rem;\\n}\\n.edit_container .new_text .cross_icon {\\n  right: 0;\\n}\\n.edit_container .new_text .save_icon {\\n  right: 3rem;\\n}\\n.edit_container .new_text textarea,\\n.edit_container .new_text input {\\n  background-color: #232326;\\n  border-radius: 0.3rem;\\n  font-size: 1.5rem;\\n  color: white;\\n  padding: 0.5rem;\\n  line-height: 2rem;\\n  border: white solid 1px;\\n  overflow-x: hidden;\\n  resize: none;\\n  width: 100%;\\n}\\n.edit_container .new_text textarea:focus,\\n.edit_container .new_text input:focus {\\n  outline: none;\\n  background-color: #54545b;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/autoprefixer-loader!./node_modules/less-loader/dist/cjs.js!./node_modules/js-to-styles-var-loader!./components/editAlbum/editAlbum.less\n// module id = 38\n// module chunks = 0","import React from 'react';\nimport {MagnifierIcon} from \"../Icons\";\nimport './fileInput.less';\n\nclass FileInput extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            file: null\n        }\n    }\n\n    onChange({target}) {\n        this.setState({\n            file: target.files[0]\n        })\n        this.props.uploadFile(target.files[0]);\n    }\n\n    render() {\n        return <div className='file_input_wrapper'>\n            <button>{this.props.label}</button>\n            <div className='file_input_area'>\n                <MagnifierIcon/>\n            </div>\n            <input type=\"file\" disabled={this.props.disabled || false}\n                   onChange={(e) => this.onChange(e)}/>\n        </div>\n    }\n}\n\nexport default FileInput;\n\n\n\n// WEBPACK FOOTER //\n// ./components/fileInput/FileInput.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./editAlbum.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./editAlbum.less\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/autoprefixer-loader/index.js!../../node_modules/less-loader/dist/cjs.js!../../node_modules/js-to-styles-var-loader/index.js!./editAlbum.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/editAlbum/editAlbum.less\n// module id = 72\n// module chunks = 0"],"sourceRoot":""}