{"version":3,"sources":["webpack:///./components/picture/Preview.jsx","webpack:///./components/picture/PreviewImageFrame.jsx"],"names":["BottomSection","styled","div","props","imageWidth","Modal","animationTime","Preview","React","Component","constructor","state","animate","setImageWidth","width","setState","close","window","setTimeout","componentDidMount","render","images","src","PreviewImageFrame","img","current","find","currentIndex","indexOf","left","right","length","getImageContainerWidth","addEventListener","resize","componentWillUnmount","removeEventListener","imageRect","getBoundingClientRect","style","currentStyle","getComputedStyle","componentDidUpdate","prevProps","prevState","onCrossClick","onArrowClick","arrow","node"],"mappings":"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","file":"0.18c2082d3eb38d69f4a4.hot-update.js","sourcesContent":["import React from \"react\";\nimport styled from 'styled-components';\nimport {CrossIcon, LeftArrowIcon, RightArrowIcon} from \"../Icons\";\nimport './preview.less';\nimport PreviewImageFrame from \"./PreviewImageFrame\";\n\nconst BottomSection = styled.div`\n   width: ${props => props.imageWidth};\n`\n\nconst Modal = styled.div`\n\n@keyframes increase {\n  0% {\n      height: 0;\n      width: 0;\n  }\n  50% {\n      height: 90%;\n      width: ${props => props.imageWidth};\n  }\n}\n\n&.increase {\n  \n   animation: fade_in_overlay ${props => props.animationTime}s ease;\n\n  .magnify_modal_img_frame {\n    animation: increase ${props => props.animationTime}s ease;\n  }\n  .cross {\n     animation: fade_in_cross ${props => props.animationTime}s ease;\n  }\n  .left_arrow, .right_arrow {\n     animation: fade_in_arrow_container ${props => props.animationTime}s ease;\n     \n     svg {\n          animation: fade_in_arrow ${props => props.animationTime}s ease;\n     }\n  }\n  .counter {\n     animation: fade_in_counter ${props => props.animationTime}s ease;\n  }\n  .magnify_modal_img_frame_bottom_caption {\n    animation: fade_in_text_caption ${props => props.animationTime}s ease;\n  }\n  .magnify_modal_img_frame_bottom_text {\n      animation: fade_in_text ${props => props.animationTime}s ease;\n  }\n   \n}\n\n@keyframes decrease {\n  50% {\n      height: 90%;\n      width: ${props => props.imageWidth};\n  }\n  100% {\n      height: 0;\n      width: 0;\n  }\n}\n\n\n&.decrease {\n\n  animation: fade_out_overlay ${props => props.animationTime}s ease;\n\n  .magnify_modal_img_frame {\n    animation: decrease ${props => props.animationTime}s ease;\n  }\n  .cross {\n     animation: fade_out_cross ${props => props.animationTime}s ease;\n  }\n  .left_arrow, .right_arrow {\n     animation: fade_out_arrow_container ${props => props.animationTime}s ease;\n     svg {\n          animation: fade_out_arrow ${props => props.animationTime}s ease;\n     }\n  }\n  .counter {\n     animation: fade_out_counter ${props => props.animationTime}s ease;\n  }\n  .magnify_modal_img_frame_bottom_caption {\n      animation: fade_out_text_caption ${props => props.animationTime}s ease;\n  }\n  .magnify_modal_img_frame_bottom_text {\n    animation: fade_out_text_desc ${props => props.animationTime}s ease;\n  }\n}\n`\n\n\n\nclass Preview extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.animationTime = 4;\n\n    this.state = {\n      imageWidth: 0,\n      animate: ''\n    };\n  }\n\n  setImageWidth(width) {\n    this.setState({\n      imageWidth: width,\n    });\n  }\n\n  close() {\n    if (!(this.state.animate === 'decrease')) {\n      this.setState({\n        animate: 'decrease'\n      });\n      window.setTimeout(this.props.close, this.animationTime * 1000);\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      animate: 'increase'\n    });\n  }\n\n  render() {\n    const {animate, imageWidth} = this.state;\n    const {images, src} = this.props;\n\n    return (\n        <Modal className={`magnify_modal ${animate}`}  imageWidth={imageWidth} animationTime={this.animationTime}>\n          <div className='magnify_modal_img_frame'>\n            <PreviewImageFrame src={src}\n                               images={images}\n                               setImageWidth={(width) => {this.setImageWidth(width)}}\n                               close={() => this.close()}\n            />\n            <BottomSection className='magnify_modal_img_frame_bottom' imageWidth={imageWidth}>\n              <div className='magnify_modal_img_frame_bottom_caption'>Caption</div>\n              <div className='magnify_modal_img_frame_bottom_text'>Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason.</div>\n            </BottomSection>\n          </div>\n        </Modal>\n    );\n  }\n}\n\nexport default Preview;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Preview.jsx","import React from \"react\";\nimport {CrossIcon, LeftArrowIcon, RightArrowIcon} from \"../Icons\";\nimport \"./preview.less\";\n\nclass PreviewImageFrame extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.img = null;\n\n    const current = props.images.find(img => img === props.src);\n    const currentIndex = props.images.indexOf(current);\n\n    this.state = {\n      imageWidth: 0,\n      src: props.src,\n      left: currentIndex > 0,\n      right: currentIndex < (props.images.length - 1)\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      imageWidth: this.getImageContainerWidth()\n    });\n    window.addEventListener('resize', () => this.resize());\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', () => this.resize());\n  }\n\n  getImageContainerWidth() {\n    const img = this.img;\n    if (!img) return 0;\n    const imageRect = img.getBoundingClientRect();\n    const style = img.currentStyle || window.getComputedStyle(img);\n    //const margin = parseFloat(style.borderLeft) + parseFloat(style.borderRight);\n    return imageRect.width;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.src != this.state.src) {\n      window.setTimeout(this.setState({\n        imageWidth: this.getImageContainerWidth(),\n        animate: ''\n      }), 1000);\n\n    }\n  }\n\n  onCrossClick() {\n    if (!(this.state.animate === 'decrease')) {\n      window.setTimeout(this.setState({\n        animate: 'decrease'\n      }), 1000);\n      window.setTimeout(this.props.close, this.animationTime * 1000);\n    }\n  }\n\n  onArrowClick(arrow) {\n    const {images} = this.props;\n    const current = images.find(img => img === this.state.src);\n    const currentIndex = images.indexOf(current);\n\n    if (current && arrow === 'left' && currentIndex > 0) {\n      this.setState({\n        src: images[currentIndex - 1],\n        left: (currentIndex - 1) > 0,\n        right: (currentIndex - 1) < (images.length - 1)\n      });\n    }\n\n    if (current && arrow === 'right' && currentIndex < (images.length - 1)) {\n      this.setState({\n        src: images[currentIndex + 1],\n        left: (currentIndex + 1) > 0,\n        right: (currentIndex + 1) < (images.length - 1)\n      })\n    }\n\n  }\n\n  resize() {\n    this.setState({\n      imageWidth: this.getImageContainerWidth()\n    });\n  }\n\n  render() {\n    const {src, left, right, imageWidth} = this.state;\n    const {images} = this.props;\n\n    return (<div className='magnify_modal_img_frame_container'>\n        <CrossIcon className='cross' onClick={() => this.onCrossClick()}/>\n        {left && <div className='left_arrow'>\n          <LeftArrowIcon onClick={() => this.onArrowClick('left')}/>\n        </div>}\n        {right && <div className='right_arrow'>\n          <RightArrowIcon onClick={() => this.onArrowClick('right')}/>\n        </div>}\n        <div className='counter_container'>\n          <div className='counter'>{`${(images.indexOf(src) + 1)} of ${images.length}`}</div>\n        </div>\n        <img src={src} className='image_preview' ref={node => this.img = node}/>\n      </div>\n    );\n  }\n}\n\nexport default PreviewImageFrame;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/PreviewImageFrame.jsx"],"sourceRoot":""}