{"version":3,"sources":["webpack:///./components/picture/Picture.jsx","webpack:///./components/picture/Preview.jsx"],"names":["Picture","React","Component","constructor","props","state","magnify","click","setState","animation","closePreview","mouseLeave","e","chooseAnimation","mouseEnter","fade","move","findSide","direction","clientRect","target","getClientRects","diffs","side","diff","Math","abs","clientX","left","right","clientY","top","bottom","minDiff","min","Array","from","el","find","render","src","images","BottomSection","styled","div","imageWidth","Modal","Preview","current","img","currentIndex","indexOf","animate","length","componentDidMount","getImageContainerWidth","refs","imageRect","style","currentStyle","window","getComputedStyle","margin","parseFloat","marginLeft","marginRight","width","onCrossClick","setTimeout","close","onArrowClick","arrow"],"mappings":"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","file":"0.4b4b0644d3270e4b53cf.hot-update.js","sourcesContent":["import React from \"react\";\nimport {MagnifierIcon} from \"../Icons\";\nimport \"./picture.less\";\nimport Preview from \"./Preview\";\n\nclass Picture extends React.Component {\n  // animation: fade, move\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      magnify: ''\n    };\n  }\n\n  click() {\n    this.setState({\n      magnify: 'magnify',\n      animation: ''\n    });\n  };\n\n  closePreview() {\n    this.setState({\n      magnify: ''\n    });\n  }\n\n  mouseLeave(e)  {\n    !this.state.magnify && this.chooseAnimation(e, 'fade_out', 'from');\n  };\n\n  mouseEnter(e)  {\n    !this.state.magnify && this.chooseAnimation(e, 'fade_in', 'to');\n  };\n\n  chooseAnimation(e, fade, move) {\n    switch (this.props.animation) {\n      case 'fade':\n        this.setState({\n          animation: fade\n        });\n        break;\n      case 'move':\n        this.setState({\n          animation: this.findSide(e, move)\n        });\n    }\n  }\n\n  findSide (e, direction) {\n    const clientRect = e.target.getClientRects()[0];\n    const diffs = [\n      {\n        side: `move_${direction}_right`,\n        diff: Math.abs(e.clientX - clientRect.left)\n      }, {\n        side: `move_${direction}_left`,\n        diff: Math.abs(e.clientX - clientRect.right)\n      }, {\n        side: `move_${direction}_bottom`,\n        diff: Math.abs(e.clientY - clientRect.top)\n      }, {\n        side: `move_${direction}_top`,\n        diff: Math.abs(e.clientY - clientRect.bottom)\n      }\n    ];\n\n    const minDiff = Math.min(...Array.from(diffs, el => el.diff));\n    return diffs.find(el => el.diff == minDiff).side;\n  }\n\n  render() {\n    const {src} = this.props;\n    const {animation, magnify} = this.state;\n    return (\n      <div>\n      <div\n        className={`image_wrapper ${animation} ${magnify}`}\n        onMouseLeave={(e) => this.mouseLeave(e)}\n        onMouseEnter={(e) => this.mouseEnter(e)}\n        onClick={(e) => this.click(e)}\n      >\n        <img className='image' src={src}/>\n        <div className={'overlay'}>\n          <div className={`overlay_top`}>\n            <MagnifierIcon/>\n          </div>\n          <div className={`overlay_bottom`}>\n            <div className='overlay_bottom_text'>some beautiful picture</div>\n          </div>\n        </div>\n      </div>\n        {magnify && <Preview src={src} close={() => this.closePreview()} images={this.props.images || [this.props.src]}/>}\n      </div>\n    );\n  }\n}\n\nexport default Picture;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Picture.jsx","import React from \"react\";\nimport styled from 'styled-components';\nimport {CrossIcon, LeftArrowIcon, RightArrowIcon} from \"../Icons\";\n\nconst BottomSection = styled.div`\n   width: ${props => props.imageWidth};\n    \n`\n\nconst Modal = styled.div`\n\n@keyframes fade_text_caption {\n  0% {\n      color: rgba(255, 255, 255, 0);\n  }\n  50% {\n      color: rgba(255, 255, 255, 0);\n  }\n  \n  100% {\n    color: rgba(255, 255, 255, 1);\n  }\n}\n\n\n@keyframes fade_text_desc {\n  0% {\n      color: rgba(255, 255, 255, 0);\n  }\n  50% {\n      color: rgba(255, 255, 255, 0);\n  }\n  \n  100% {\n    color: rgba(255, 255, 255, 0.7);\n  }\n}\n\n@keyframes increase {\n  from {\n      height: 0;\n      width: 0;\n  }\n  to {\n      height: 85%;\n      width: ${props => props.imageWidth};\n  }\n}\n\n&.increase {\n\n  animation-name: increase;\n  animation-duration: 4s;\n  animation-timing-function: ease;\n  \n  .magnify_modal_img_frame_bottom_caption {\n  \n    animation-name: fade_text_caption;\n    animation-duration: 8s;\n    animation-timing-function: ease;\n  \n  }\n \n  .magnify_modal_img_frame_bottom_text {\n  \n    animation-name: fade_text_desc;\n    animation-duration: 8s;\n    animation-timing-function: ease;\n  }\n   \n}\n\n@keyframes fade_out_text_caption {\n  0% {\n      color: rgba(255, 255, 255, 1);\n  }\n  50% {\n      color: rgba(255, 255, 255, 0);\n  }\n  100% {\n    color: rgba(255, 255, 255, 0);\n  }\n}\n\n\n@keyframes fade_out_text_desc {\n  0% {\n      color: rgba(255, 255, 255, 0.7);\n  }\n  50% {\n      color: rgba(255, 255, 255, 0);\n  }\n  \n  100% {\n    color: rgba(255, 255, 255, 0);\n  }\n}\n\n@keyframes decrease {\n  0% {\n      height: 85%;\n      width: ${props => props.imageWidth};\n  }\n  50% {\n      height: 85%;\n      width: ${props => props.imageWidth};\n  }\n  100% {\n      height: 0;\n      width: 0;\n  }\n}\n\n\n&.decrease {\n\n  animation-name: decrease;\n  animation-duration: 8s;\n  animation-timing-function: ease;\n  \n  .magnify_modal_img_frame_bottom_caption {\n  \n    animation-name: fade_out_text_caption;\n    animation-duration: 8s;\n    animation-timing-function: ease;\n  \n  }\n \n  .magnify_modal_img_frame_bottom_text {\n  \n    animation-name: fade_out_text_desc;\n    animation-duration: 8s;\n    animation-timing-function: ease;\n  }\n   \n}\n\n\n`\n\nclass Preview extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    const current = props.images.find(img => img === props.src);\n    const currentIndex = props.images.indexOf(current);\n\n    this.state = {\n      imageWidth: 0,\n      animate: '',\n      src: props.src,\n      left: currentIndex > 0,\n      right: currentIndex < (props.images.length + 1)\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      imageWidth: this.getImageContainerWidth(),\n      animate: 'increase'\n    });\n  }\n\n  getImageContainerWidth() {\n    const img = this.refs.img;\n    const imageRect = img.getClientRects()[0];\n    const style = img.currentStyle || window.getComputedStyle(img);\n    const margin = parseFloat(style.marginLeft) + parseFloat(style.marginRight);\n    return imageRect.width + margin;\n  }\n\n  onCrossClick() {\n    if (!(this.state.animate === 'decrease')) {\n      this.setState({\n        imageWidth: this.getImageContainerWidth(),\n        animate: 'decrease'\n      });\n      window.setTimeout(this.props.close, 8000);\n    }\n  }\n\n  onArrowClick(arrow) {\n    const current = this.props.images.find(img => img === src);\n    const currentIndex = this.props.images.indexOf(current);\n\n    if (current && arrow === 'left' && currentIndex > 0) {\n      this.setState({\n        src: this.props.images[currentIndex - 1],\n        left: (currentIndex - 1) > 0,\n        right: (currentIndex - 1) < (props.images.length + 1)\n      })\n    }\n\n    if (current && arrow === 'right' && currentIndex < (this.props.images.length + 1)) {\n      this.setState({\n        src: this.props.images[currentIndex + 1],\n        left: (currentIndex + 1) > 0,\n        right: (currentIndex + 1) < (props.images.length + 1)\n      })\n    }\n\n  }\n\n  render() {\n    const {src, left, right, animate, imageWidth} = this.state;\n    const {images} = this.props;\n\n    return (\n        <div className='magnify_modal'>\n          <Modal className={`magnify_modal_img_frame ${animate}`} imageWidth={imageWidth}>\n            <div className='magnify_modal_img_frame_container'>\n              <CrossIcon className='cross' onClick={() => this.onCrossClick()}/>\n              {left && <div className='left_arrow'>\n                <LeftArrowIcon onClick={() => this.onArrowClick('left')}/>\n              </div>}\n              {right && <div className='right_arrow'>\n                <RightArrowIcon onClick={() => this.onArrowClick('right')}/>\n              </div>}\n              <div className='counter_container'>\n                <div className='counter'>{`${(images.indexOf(src) + 1)} of ${images.length}`}</div>\n              </div>\n              <img src={src} className='image_preview' ref='img'/>\n            </div>\n            <BottomSection className='magnify_modal_img_frame_bottom' imageWidth={imageWidth}>\n              <div className='magnify_modal_img_frame_bottom_caption'>Caption</div>\n              <div className='magnify_modal_img_frame_bottom_text'>Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason.</div>\n            </BottomSection>\n          </Modal>\n        </div>\n    );\n  }\n}\n\nexport default Preview;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Preview.jsx"],"sourceRoot":""}