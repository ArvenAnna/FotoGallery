{"version":3,"sources":["webpack:///./components/Header.jsx","webpack:///./components/newAlbum/AddNewAlbum.jsx","webpack:///./components/AlbumContainer.jsx","webpack:///./components/editAlbum/EditAlbum.jsx","webpack:///./reducers/AlbumReducer.js","webpack:///./actions/albumActions.js"],"names":["Header","connect","store","fetchAlbumsBySearch","fetchAlbums","React","Component","onEnter","e","key","target","value","props","history","push","render","createAlbum","routesModule","require","Label","styled","span","AddNewAlbum","constructor","modal","state","height","name","description","src","fileUploading","componentDidMount","setTimeout","scrollbars","forceUpdate","calculateModalHeight","w","window","d","document","documentElement","g","getElementsByTagName","y","innerHeight","clientHeight","modalStyle","currentStyle","getComputedStyle","Math","min","parseInt","setState","uploadFile","file","http","sendFile","routes","UPLOAD_FOTO","then","id","catch","closeModal","r","isVideo","AlbumContainer","albums","isLoadingAlbums","itemCount","perPages","handlePageClick","data","selected","offset","ceil","pictures","map","album","_id","EditAlbum","deleteFotoFromAlbum","saveFotoDescription","saveAlbumDescription","deleteAlbum","saveItemsOrder","dragStarted","dragFrom","dragFromEl","dragObj","openPicture","openedAlbum","openedDialog","imageDownloaded","imageLoading","imageLoadStarted","albumLoading","loadAlbum","doGet","GET_ALBUM","match","params","result","images","sort","x","order","forEach","image","Date","toISOString","Alert","error","response","openDetails","picture","openAlbumDetails","onCrossClick","deleteItem","length","newPictures","filter","p","newAlbum","Object","assign","removeAlbum","changeState","obj","editedPicture","find","pinput","ptextarea","text","editedAlbum","ainput","atextarea","downloadedFoto","doPost","FOTO_ROUTE","onImageLoad","onImageError","loadImage","imageObj","Image","onload","bind","onerror","renderEditAlbumCard","renderImages","replaceImage","renderFileInput","renderEditCanvas","renderChangeFotoTextInfoDialog","i","t","renderChangeAlbumTextInfoDialog","renderDeleteDialog","albumReducer","action","type","sortedAlbums","loaderReducer","countReducer","count","AlbumReducer","PAGE_ITEMS","albumsRequest","REQ_ALBUMS","setAlbums","perPage","pagesOffset","itemsPerPage","dispatch","GET_ALBUMS_PAGINATE","search","GET_ALBUMS_SEARCH","doDelete","DELETE_FOTO","success","DELETE_ALBUM","doPut","UPDATE_FOTO","ALBUM_ROUTE","UPDATE_ITEMS_ORDER"],"mappings":"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","file":"0.76480d12ad2bb4bd5da0.hot-update.js","sourcesContent":["import React from 'react';\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums, fetchAlbumsBySearch} from \"../actions/albumActions\";\nimport withRouter from \"react-router-dom/es/withRouter\";\nimport {NavLink} from 'react-router-dom';\n\n@withRouter\n@connect(store => ({}), {\n    fetchAlbumsBySearch,\n    fetchAlbums\n})\nclass Header extends React.Component {\n\n    onEnter(e) {\n        if (e.key == \"Enter\") {\n            if(e.target.value) this.props.fetchAlbumsBySearch(e.target.value);\n            else this.props.fetchAlbums();\n            this.props.history.push('/');\n        }\n    }\n\n    render() {\n        return (\n                [<div key=\"header_menu\" className=\"header_menu\">\n                    <div className=\"menu_item\" onClick={this.props.createAlbum}>new album</div>\n                    <div className=\"menu_item\"><NavLink to='/'>album's list</NavLink></div>\n                </div>,\n                <div className=\"search_menu\" key=\"search\">Search: <input className=\"search_input\" defaultValue=''\n                    onKeyPress={(e) => this.onEnter(e)}/>\n                </div>]\n        );\n    }\n}\n\nexport default Header;\n\n\n// WEBPACK FOOTER //\n// ./components/Header.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport {CrossIcon} from \"../Icons\";\nimport FileInput from \"../fileInput/FileInput\";\nimport './addNewAlbum.less';\nimport connect from \"react-redux/es/connect/connect\";\nimport {isVideo} from \"../../utils/index\";\nimport {Scrollbars} from \"react-custom-scrollbars\";\nconst routesModule = require('../../constants/routes');\nimport http from '../../HttpService';\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\nimport {\n    createAlbum\n} from \"../../actions/albumActions\";\n\nconst Label = styled.span`\n  width: 100%;\n  margin-bottom: 0.25rem;\n`\n\n@connect(store => ({}), {\n    createAlbum\n})\nclass AddNewAlbum extends React.Component {\n    constructor(props) {\n        super(props);\n        this.modal = null;\n        this.state = {\n            height: '100%',\n            name: '',\n            description: '',\n            src: null,\n            fileUploading: false\n        }\n    }\n\n    componentDidMount() {\n        setTimeout(() => this.scrollbars.forceUpdate(), 100);\n\n        // window.addEventListener('resize', () => this.calculateModalHeight())\n        this.calculateModalHeight();\n    }\n\n    calculateModalHeight() {\n        var w = window,\n            d = document,\n            e = d.documentElement,\n            g = d.getElementsByTagName('body')[0],\n            y = w.innerHeight || e.clientHeight || g.clientHeight;\n\n        if (this.modal) {\n            const modalStyle = this.modal.currentStyle || window.getComputedStyle(this.modal);\n            const height = Math.min(parseInt(y), parseInt(modalStyle.height)) + 'px';\n            this.setState({\n                height\n            });\n        }\n    }\n\n    uploadFile(file) {\n        this.setState({fileUploading: true});\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(id => {\n                this.setState({src: id.src, fileUploading: false});\n            })\n            .catch(e => this.setState({fileUploading: false}));\n    }\n\n    createAlbum() {\n        const {name, description, src} = this.state;\n        if (name && description && src) {\n            this.props.createAlbum({\n                name, description, src\n            });\n            this.props.closeModal();\n        }\n\n    }\n\n    render() {\n        const {name, description, src, fileUploading, height} = this.state;\n\n        return <div className='add_album'>\n            <Scrollbars\n                hideTracksWhenNotNeeded={true}\n                className=\"scroll_bar\"\n                // renderTrackVertical={({ style, ...props }) =>\n                        //     <div {...props} style={{ ...style, backgroundColor: 'blue' }}/>}\n                         // renderTrackVertical={props => <div {...props} className=\"track-vertical\"/>}\n                         // renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}\n                        ref={(scrollbars) => this.scrollbars = scrollbars}\n            >\n            <div className='add_album_modal' ref={r => this.modal = r}>\n\n                <CrossIcon className=\"cross_icon\" onClick={this.props.closeModal}/>\n                <Label>Name</Label>\n                <input value={name} onChange={(e) => this.setState({name: e.target.value})}/>\n                <Label>Title image:</Label>\n                {fileUploading\n                    ? <Loader type=\"ball-scale-multiple\"/>\n                    : src\n                    ? (isVideo(src) ? <video controls=\"controls\"><source src={src}/></video> : <img src={src}/>)\n                    :\n                    <FileInput label='Choose main foto'\n                               uploadFile={(file) => this.uploadFile(file)}/>}\n                <Label>Description</Label>\n                <textarea value={description} onChange={(e) => this.setState({description: e.target.value})}/>\n                {src && !isVideo(src) && <div className=\"warning\">You will be able to rotate your foto in the edit mode after album creation.</div>}\n                <button className=\"ok_button\" onClick={() => this.createAlbum()}>ok</button>\n\n            </div>\n            </Scrollbars>\n        </div>\n\n\n    }\n}\n\nexport default AddNewAlbum;\n\n\n// WEBPACK FOOTER //\n// ./components/newAlbum/AddNewAlbum.jsx","import React from 'react';\nimport Picture from \"./picture/Picture\";\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums, PAGE_ITEMS} from \"../actions/albumActions\";\nimport Loader from 'react-loaders';\nimport './albumContainer.less';\nimport 'loaders.css/src/animations/ball-grid-pulse.scss';\nimport ReactPaginate from 'react-paginate';\n\n\n@connect(store => ({\n    albums: store.albums,\n    isLoadingAlbums: store.isLoadingAlbums,\n    itemCount: store.itemCount\n}), {\n    fetchAlbums\n})\nclass AlbumContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.perPages = 3;\n        this.props.fetchAlbums();\n    }\n\n    handlePageClick(data) {\n        let selected = data.selected;\n        let offset = Math.ceil(selected * PAGE_ITEMS);\n        this.props.fetchAlbums(offset);\n    }\n\n\n    render() {\n        if(!this.props.albums) return <Loader type=\"ball-grid-pulse\" className='Data_loader'/>;\n        const pictures = this.props.albums.map(album => <Picture key={album._id}\n                                                                 animation='fade'\n                                                                 album={album}/>);\n        return <React.Fragment>\n            {pictures}\n            <div key=\"paginate\" className=\"pagination_container\"><ReactPaginate\n                           previousLabel={\"previous\"}\n                           nextLabel={\"next\"}\n                           breakLabel={<a href=\"\">...</a>}\n                           breakClassName={\"break-me\"}\n                           pageCount={this.props.itemCount}\n                           marginPagesDisplayed={2}\n                           pageRangeDisplayed={5}\n                           onPageChange={(data) => this.handlePageClick(data)}\n                           containerClassName={\"pagination\"}\n                           subContainerClassName={\"pages pagination\"}\n                           activeClassName={\"active\"}/></div>\n        </React.Fragment>;\n    }\n}\n\nexport default AlbumContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/AlbumContainer.jsx","import React from 'react';\nimport './editAlbum.less';\nimport FileInput from \"../fileInput/FileInput\";\nimport {CrossIcon, SaveIcon} from \"../Icons\";\nimport Card from \"./Card\";\nimport http from '../../HttpService';\nimport connect from \"react-redux/es/connect/connect\";\nimport {\n    deleteAlbum, deleteFotoFromAlbum, saveAlbumDescription,\n    saveFotoDescription, saveItemsOrder\n} from \"../../actions/albumActions\";\nimport Dialog from \"../dialog/Dialog\";\nimport EditCanvas from \"./EditCanvas\";\nimport {isVideo} from \"../../utils/index\";\nimport * as styles from \"../../constants/styles\";\nconst routesModule = require('../../constants/routes');\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\nimport 'loaders.css/src/animations/ball-grid-pulse.scss';\nimport Alert from 'react-s-alert';\n\n\n@connect(store => ({}), {\n    deleteFotoFromAlbum,\n    saveFotoDescription,\n    saveAlbumDescription,\n    deleteAlbum,\n    saveItemsOrder\n})\nclass EditAlbum extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dragStarted: false,\n            dragFrom: null,\n            dragFromEl: null,\n            dragObj: null,\n            openPicture: null,\n            openedAlbum: false,\n            album: null,\n            openedDialog: false,\n            imageDownloaded: false,\n            imageLoading: true,\n            imageLoadStarted: false,\n            albumLoading: false\n        }\n    }\n\n    componentDidMount() {\n        this.loadAlbum();\n    }\n\n    loadAlbum() {\n        this.setState({albumLoading: true});\n        http.doGet(routesModule.routes.GET_ALBUM(this.props.match.params.id))\n            .then(result => {\n                result.images.sort((x, y) => x.order - y.order);\n                result.images.forEach(image => image.src = image.src + '?forceUpdate=' + new Date().toISOString())\n                this.setState({album: result, albumLoading: false});\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n\n    openDetails(picture) {\n        this.setState({openPicture: picture});\n    }\n\n    openAlbumDetails() {\n        this.setState({openedAlbum: true});\n    }\n\n    onCrossClick() {\n        this.setState({openPicture: null, openedAlbum: false});\n    }\n\n    deleteItem(picture) {\n        if (this.state.album.images.length == 1) {\n            this.setState({openedDialog: true});\n            return;\n        }\n\n        this.props.deleteFotoFromAlbum(picture._id);\n        const newPictures = this.state.album.images.filter(p => p._id != picture._id);\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        })\n        this.setState({album: newAlbum});\n    }\n\n    removeAlbum() {\n        this.props.deleteAlbum(this.state.album._id);\n        this.props.history.push('/');\n    }\n\n    changeState(obj) {\n        this.setState(obj);\n    }\n\n    saveFotoDescription(picture) {\n        const newPictures = [...this.state.album.images];\n        const editedPicture = this.state.album.images.find(p => p._id == picture._id);\n        if (this.pinput.value) editedPicture.name = this.pinput.value;\n        if (this.ptextarea.value) editedPicture.text = this.ptextarea.value;\n\n        this.props.saveFotoDescription(this.state.album._id, editedPicture);\n\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        });\n        this.setState({album: newAlbum, openPicture: null});\n    }\n\n    saveAlbumDescription() {\n        const editedAlbum = Object.assign({}, {...this.state.album});\n        if (this.ainput.value) editedAlbum.name = this.ainput.value;\n        if (this.atextarea.value) editedAlbum.description = this.atextarea.value;\n\n        this.props.saveAlbumDescription(editedAlbum);\n\n        this.setState({album: editedAlbum, openedAlbum: false});\n    }\n\n    uploadFile(file) {\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(downloadedFoto => {\n                if (isVideo(downloadedFoto.src)) {\n                    http.doPost(routesModule.routes.FOTO_ROUTE, {\n                        src: downloadedFoto.src,\n                        album: this.state.album._id\n                    }).then(result => {\n                        const newPictures = [...this.state.album.images];\n                        newPictures.push(result);\n                        const newAlbum = Object.assign({}, {\n                            ...this.state.album,\n                            images: newPictures,\n                        });\n\n                        this.setState({\n                            //imageDownloaded: null,\n                            album: newAlbum\n                        });\n                    }).catch(e => Alert.error(e.response.data.error, {}));\n                } else {\n                    this.setState({\n                        imageDownloaded: downloadedFoto.src\n                    });\n                }\n\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n\n    onImageLoad() {\n        this.setState({imageLoading: false, });\n    }\n\n    onImageError() {\n        Alert.error(\"Image for name {\" + this.state.album.images[0].name + \"} loading failed\", {});\n        this.setState({imageLoading: false});\n    }\n\n    loadImage(src) {\n        this.setState({imageLoadStarted: true});\n        const imageObj = new Image()\n        imageObj.onload = this.onImageLoad.bind(this);\n        imageObj.onerror = this.onImageError.bind(this);\n        imageObj.src = src;\n    }\n\n    renderEditAlbumCard() {\n        if(!this.state.imageLoadStarted) this.loadImage(this.state.album.images[0].src);\n        return <div className='edit_album_card' key=\"edit_album_card\">\n            {this.state.imageLoading ? <Loader type=\"ball-scale-multiple\"/> : isVideo(this.state.album.images[0].src)\n                ? <video className=\"album_image\"\n                         height={styles.picture_edit_height}\n                         width={styles.picture_edit_width}\n                         controls=\"controls\">\n                    <source src={this.state.album.images[0].src}/>\n                </video>\n                : <img className='album_image'\n                       src={this.state.album.images[0].src}/>}\n            <div className='album_name' onClick={() => this.openAlbumDetails()}>{this.state.album.name}</div>\n            <CrossIcon className='cross_icon' onClick={() => this.setState({openedDialog: true})}/>\n        </div>\n    }\n\n    renderImages() {\n        return this.state.album.images.sort((x, y) => x.order - y.order).map(p => <Card\n            key={p._id}\n            picture={p}\n            pictures={this.state.album.images}\n            openDetails={(p) => this.openDetails(p)}\n            deleteItem={(p) => this.deleteItem(p)}\n            replaceImage={(target) => this.replaceImage(target)}\n            openPicture={this.state.openPicture}\n            changeDragState={(obj) => this.changeState(obj)}\n            dragState={this.state}\n            updateOrder={(album) => this.props.saveItemsOrder(album)}\n            loadAlbum={() => this.loadAlbum()}\n        />)\n    }\n\n    renderFileInput() {\n        return !this.state.imageDownloaded && <FileInput className='edit_file_input'\n                                                         disabled={this.state.openPicture}\n                                                         label='Choose new foto'\n                                                         uploadFile={(file) => this.uploadFile(file)}\n            />\n    }\n\n    renderEditCanvas() {\n        return this.state.imageDownloaded && !isVideo(this.state.imageDownloaded) && <EditCanvas\n                image={this.state.imageDownloaded}\n                cleanImage={obj => this.changeState(obj)}\n                album={this.state.album}\n            />\n    }\n\n    renderChangeFotoTextInfoDialog() {\n        return this.state.openPicture &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter foto name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveFotoDescription(this.state.openPicture)}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.openPicture.name} ref={i => this.pinput = i}/>\n                    <textarea defaultValue={this.state.openPicture.text} ref={t => this.ptextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderChangeAlbumTextInfoDialog() {\n        return this.state.openedAlbum &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter album name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveAlbumDescription()}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.album.name} ref={i => this.ainput = i}/>\n                    <textarea defaultValue={this.state.album.description} ref={t => this.atextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderDeleteDialog() {\n        return this.state.openedDialog && <Dialog onClick={() => this.removeAlbum()}\n                                                  onClose={() => this.setState({openedDialog: false})}\n                                                  text=\"Do you really want to delete the album?\"/>\n    }\n\n\n    render() {\n        const {album, albumLoading} = this.state;\n        if(albumLoading) return <Loader type=\"ball-grid-pulse\" className='Data_loader'/>;\n        if (!album) return null;\n\n        return <React.Fragment>\n            {this.renderEditAlbumCard()}\n            {this.renderImages()}\n            {this.renderFileInput()}\n            {this.renderEditCanvas()}\n            {this.renderChangeFotoTextInfoDialog()}\n            {this.renderChangeAlbumTextInfoDialog()}\n            {this.renderDeleteDialog()}\n        </React.Fragment>;\n    }\n}\n\nexport default EditAlbum;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditAlbum.jsx","import {REQ_ALBUMS, REQ_ALBUMS_ERROR, SET_ALBUMS} from \"../constants/ActionTypes\";\n\nconst albums = [];\nconst isLoadingAlbums = false;\n\nconst albumReducer = (state = albums, action) => {\n    switch (action.type) {\n        case SET_ALBUMS:\n            const sortedAlbums = action.result.albums;\n            sortedAlbums.forEach(album => {\n                album.images.sort((x, y) => x.order - y.order);\n            });\n            return sortedAlbums;\n        default:\n            return state;\n    }\n}\n\nconst loaderReducer = (state = isLoadingAlbums, action) => {\n    switch (action.type) {\n        case REQ_ALBUMS:\n            return true;\n        case SET_ALBUMS:\n            return false;\n        case REQ_ALBUMS_ERROR:\n            return false;\n        default:\n            return state;\n    }\n}\n\nconst countReducer = (state = 0, action) => {\n    switch (action.type) {\n        case SET_ALBUMS:\n            return action.result.count;\n        default:\n            return state;\n    }\n}\n\nconst AlbumReducer = {\n    albums: albumReducer,\n    isLoadingAlbums: loaderReducer,\n    itemCount: countReducer\n}\n\nexport default AlbumReducer;\n\n\n// WEBPACK FOOTER //\n// ./reducers/AlbumReducer.js","import * as types from '../constants/ActionTypes';\nimport http from '../HttpService';\nconst routesModule = require('../constants/routes');\nimport Alert from 'react-s-alert';\n\nexport const PAGE_ITEMS = 3;\n\nexport function albumsRequest() {\n    return {\n        type: types.REQ_ALBUMS\n    };\n}\n\nexport function setAlbums(result) {\n    return {\n        type: types.SET_ALBUMS,\n        result: result\n    };\n}\n\nexport function fetchAlbums(offset, perPage) {\n    const pagesOffset = offset | 0;\n    const itemsPerPage = perPage | PAGE_ITEMS;\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS_PAGINATE(pagesOffset, itemsPerPage))\n            .then(result => dispatch(setAlbums(result)))\n            .catch(e => {\n                Alert.error(e.response.data.error, {});\n                dispatch({type: types.REQ_ALBUMS_ERROR});\n            });\n    }\n}\n\nexport function fetchAlbumsBySearch(search) {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS_SEARCH(search))\n            .then(result => {\n                dispatch(setAlbums(result));\n                dispatch({type: types.REQ_ALBUMS_ERROR});\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\nexport function deleteFotoFromAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_FOTO(id))\n            .then(result => Alert.success('Album deleted', {}))\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function deleteAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_ALBUM(id))\n            .then(result => dispatch(fetchAlbums()))\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\nexport function saveFotoDescription(album, image) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_FOTO(album), image)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveAlbumDescription(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.ALBUM_ROUTE, album)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveItemsOrder(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_ITEMS_ORDER, album)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function createAlbum(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPost(routesModule.routes.ALBUM_ROUTE, album)\n            .then(result => {\n                Alert.success('Album created', {});\n                dispatch(fetchAlbums());\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./actions/albumActions.js"],"sourceRoot":""}