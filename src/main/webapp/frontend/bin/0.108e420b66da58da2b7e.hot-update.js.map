{"version":3,"sources":["webpack:///./components/editAlbum/EditAlbum.jsx","webpack:///./components/editAlbum/Card.jsx","webpack:///./components/editAlbum/editAlbum.less"],"names":["routesModule","require","EditAlbum","connect","store","deleteFotoFromAlbum","saveFotoDescription","React","Component","constructor","props","state","dragStarted","dragFrom","dragFromEl","dragObj","openPicture","openedAlbum","album","componentDidMount","http","doGet","routes","GET_ALBUM","match","params","id","then","result","setState","openDetails","picture","openAlbumDetails","onCrossClick","deleteItem","newPictures","images","filter","p","newAlbum","Object","assign","changeDragState","obj","editedPicture","find","pinput","value","name","ptextarea","text","saveAlbumDescription","editedAlbum","ainput","atextarea","description","render","console","dir","src","sort","x","y","order","map","target","replaceImage","i","t","Card","replaceEvent","componentWillReceiveProps","dragContainer","replaceAttached","addEventListener","e","attr","getAttribute","pictures","changePictureAndClear","onMouseDown","preventDefault","parentElement","clientX","window","scrollX","clientY","scrollY","style","currentStyle","getComputedStyle","elStartLeft","parseInt","left","elStartTop","top","zIndex","onMouseMove","dragState","onMouseUp","event","Event","document","elementFromPoint","dispatchEvent","dragToPicture","dragFromPicture","prevOrder","r"],"mappings":"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","file":"0.108e420b66da58da2b7e.hot-update.js","sourcesContent":["import React from 'react';\nimport './editAlbum.less';\nimport FileInput from \"../fileInput/FileInput\";\nimport {CrossIcon, SaveIcon} from \"../Icons\";\nimport Card from \"./Card\";\nimport http from '../../HttpService';\nimport connect from \"react-redux/es/connect/connect\";\nimport {deleteFotoFromAlbum, saveFotoDescription} from \"../../actions/albumActions\";\nconst routesModule = require('../../constants/routes');\n\n@connect(store => ({}), {\n    deleteFotoFromAlbum,\n    saveFotoDescription\n})\nclass EditAlbum extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dragStarted: false,\n            dragFrom: null,\n            dragFromEl: null,\n            dragObj: null,\n            openPicture: null,\n            openedAlbum: false,\n            album: null\n        }\n    }\n\n    componentDidMount() {\n        http.doGet(routesModule.routes.GET_ALBUM(this.props.match.params.id))\n            .then(result => this.setState({album: result}));\n    }\n\n    openDetails(picture) {\n        this.setState({openPicture: picture});\n    }\n\n    openAlbumDetails() {\n        this.setState({openedAlbum: true});\n    }\n\n    onCrossClick() {\n        this.setState({openPicture: null, openedAlbum: false});\n    }\n\n    deleteItem(picture) {\n        this.props.deleteFotoFromAlbum(picture.id, this.state.album.id);\n        const newPictures = this.state.album.images.filter(p => p.id != picture.id);\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        })\n        this.setState({album: newAlbum});\n    }\n\n    changeDragState(obj) {\n        this.setState(obj);\n    }\n\n    saveFotoDescription(picture) {\n        const newPictures = [...this.state.album.images];\n        const editedPicture = this.state.album.images.find(p => p.id == picture.id);\n        if (this.pinput.value) editedPicture.name = this.pinput.value;\n        if (this.ptextarea.value) editedPicture.text = this.ptextarea.value;\n\n        this.props.saveFotoDescription(this.state.album.id, editedPicture);\n\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        });\n        this.setState({album: newAlbum, openPicture: null});\n    }\n\n    saveAlbumDescription() {\n        const editedAlbum = Object.assign({}, {...this.state.album});\n        if (this.ainput.value) editedAlbum.name = this.ainput.value;\n        if (this.atextarea.value) editedAlbum.description = this.atextarea.value;\n\n        //this.props.saveAlbumDescription(this.state.album.id, editedPicture);\n\n        this.setState({album: editedAlbum, openedAlbum: false});\n    }\n\n    render() {\n        const {openPicture, album, openedAlbum} = this.state;\n        if(album) {\n            console.dir(album.images);\n\n        }\n        return album && (\n                    <div className='edit_container'>\n                        <div className='edit_album_card'>\n                            <img className='album_image' src={album.images[0].src}/>\n                            <div className='album_name' onClick={() => this.openAlbumDetails()}>{album.name}</div>\n                        </div>\n                        {album.images.sort((x, y) => x.order - y.order).map(p => <Card\n                            key={p.id}\n                            picture={p}\n                            pictures={album.images}\n                            openDetails={(p) => this.openDetails(p)}\n                            deleteItem={(p) => this.deleteItem(p)}\n                            replaceImage={(target) => this.replaceImage(target)}\n                            openPicture={openPicture}\n                            changeDragState={(obj) => this.changeDragState(obj)}\n                            dragState={this.state}\n                        />)}\n                        <FileInput className='new_image' disabled={openPicture} label='Choose new foto'/>\n                        {openPicture &&\n                        <div className='new_text'>\n                            <input defaultValue={openPicture.name} ref={i => this.pinput = i}/>\n                            <textarea defaultValue={openPicture.text} ref={t => this.ptextarea = t}/>\n                            <SaveIcon className='save_icon' onClick={() => this.saveFotoDescription(openPicture)}/>\n                            <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                        </div>}\n                        {openedAlbum &&\n                        <div className='new_text'>\n                            <input defaultValue={album.name} ref={i => this.ainput = i}/>\n                            <textarea defaultValue={album.description} ref={t => this.atextarea = t}/>\n                            <SaveIcon className='save_icon' onClick={() => this.saveAlbumDescription()}/>\n                            <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                        </div>}\n                    </div>\n            );\n    }\n}\n\nexport default EditAlbum;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditAlbum.jsx","import React from 'react';\nimport './editAlbum.less';\nimport {CrossIcon, EditIcon} from \"../Icons\";\n\nclass Card extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.replaceEvent = 'replace';\n    }\n\n    componentWillReceiveProps() {\n        if (this.dragContainer && !this.replaceAttached) {\n            this.replaceAttached = true;\n            this.dragContainer.addEventListener(this.replaceEvent, e => this.replaceImage(e.target));\n        }\n    }\n\n    replaceImage(target) {\n\n        const attr = target.getAttribute('imgid');\n        const picture = this.props.pictures.find(p => p.id == attr);\n\n        this.changePictureAndClear(picture);\n    }\n\n    onMouseDown(e, picture) {\n        e.preventDefault();\n\n        const target = e.target.parentElement;\n\n        const x = e.clientX + window.scrollX;\n        const y = e.clientY + window.scrollY;\n\n        const style = target.currentStyle || window.getComputedStyle(target);\n\n        const elStartLeft = parseInt(style.left, 10);\n        const elStartTop = parseInt(style.top, 10);\n        const dragObj = {\n            x, y, elStartLeft, elStartTop\n        }\n        this.props.changeDragState({dragStarted: true, dragFrom: picture, dragObj, dragFromEl: target});\n        target.style.zIndex = 10;\n    }\n\n    onMouseMove(e, picture) {\n        e.preventDefault();\n        const {dragFrom, dragStarted, dragObj} = this.props.dragState;\n        const target = e.target.parentElement;\n        if (dragStarted && dragFrom == picture) {\n            const x = e.clientX + window.scrollX;\n            const y = e.clientY + window.scrollY;\n            target.style.top = (dragObj.elStartTop + y - dragObj.y) + 'px';\n            target.style.left = (dragObj.elStartLeft + x - dragObj.x) + 'px';\n        }\n    }\n\n    onMouseUp(e, picture) {\n        e.preventDefault();\n\n        const {dragFrom, dragFromEl} = this.props.dragState;\n        const target = e.target.parentElement;\n\n        dragFromEl.style.top = '0px';\n        dragFromEl.style.left = '0px';\n\n        target.style.top = '0px';\n        target.style.left = '0px';\n\n        dragFromEl.style.zIndex = 0;\n\n        if (picture == dragFrom) {\n            const event = new Event(this.replaceEvent);\n            document.elementFromPoint(e.clientX + window.scrollX, e.clientY + window.scrollY)\n                .parentElement\n                .dispatchEvent(event);\n            return;\n        }\n\n        this.changePictureAndClear(picture);\n    }\n\n    changePictureAndClear(picture) {\n        const {dragFrom, album} = this.props.dragState;\n\n        const newPictures = [...album.images];\n\n        const dragToPicture = album.images.find(p => p.id == picture.id);\n       // editedPicture.order = prevOrder;\n        const dragFromPicture = album.images.find(p => p.id == dragFrom.id);\n\n        const prevOrder = dragFromPicture.order;\n        dragFromPicture.order = dragToPicture.order;\n        dragToPicture.order = prevOrder;\n\n        const newAlbum = Object.assign({}, {\n            ...album,\n            images: newPictures,\n        });\n\n        this.props.changeDragState({dragStarted: false, dragFrom: null, dragObj: null, dragFromEl: null, album: newAlbum});\n        console.dir(newAlbum);\n    }\n\n    render() {\n        const {picture, openPicture} = this.props;\n        return openPicture\n            ? <div className='drag_container'\n                   imgid={picture.id}>\n                <img className='drag_image'\n                     src={picture.src}\n                     draggable={false}/>\n            </div>\n            : <div className='drag_container'\n                   ref={r => this.dragContainer = r}\n                   imgid={picture.id}\n                   draggable={true}\n                   onMouseDown={e => this.onMouseDown(e, picture)}\n                   onMouseUp={e => this.onMouseUp(e, picture)}\n                   onMouseMove={e => this.onMouseMove(e, picture)}>\n                <img className='drag_image' src={picture.src}/>\n                <CrossIcon className='cross_icon' onClick={() => this.props.deleteItem(picture)}/>\n                <EditIcon className='edit_icon' onClick={() => this.props.openDetails(picture)}/>\n                <div className='text_description' onClick={() => this.props.openDetails(picture)}>{picture.name}</div>\n            </div>\n    }\n}\n\nexport default Card;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/Card.jsx","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".edit_container {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n  padding: 2rem;\\n  position: relative;\\n}\\n.edit_container .drag_container {\\n  position: relative;\\n  left: 0;\\n  top: 0;\\n  width: 300px;\\n  height: 200px;\\n  margin: 0.5rem;\\n  z-index: 0;\\n}\\n.edit_container .drag_container .cross_icon,\\n.edit_container .drag_container .edit_icon {\\n  position: absolute;\\n  fill: white;\\n  width: 1rem;\\n  height: 1rem;\\n  top: 0.2rem;\\n}\\n.edit_container .drag_container .cross_icon {\\n  right: 0.2rem;\\n}\\n.edit_container .drag_container .edit_icon {\\n  right: 1.5rem;\\n}\\n.edit_container .drag_container .text_description {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  padding: 0 0.3rem;\\n  font-size: 16px;\\n  background-color: rgba(0, 0, 0, 0.4);\\n  color: white;\\n}\\n.edit_container .drag_image {\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  width: 100%;\\n  height: 100%;\\n}\\n.edit_container .file_input_wrapper {\\n  width: 300px;\\n  height: 200px;\\n  margin: 0.5rem;\\n}\\n.edit_container .edit_album_card {\\n  position: relative;\\n  width: 300px;\\n  height: 200px;\\n  margin: 0.5rem;\\n  color: white;\\n  box-shadow: 0 0 0.3rem 0.1rem white;\\n}\\n.edit_container .edit_album_card .album_image {\\n  width: 100%;\\n  height: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n.edit_container .edit_album_card .album_name {\\n  position: absolute;\\n  bottom: 0.3rem;\\n  left: 0.3rem;\\n  cursor: pointer;\\n  background-color: rgba(0, 0, 0, 0.4);\\n}\\n.edit_container .new_text {\\n  position: absolute;\\n  width: 70%;\\n  height: 50%;\\n}\\n.edit_container .new_text .save_icon,\\n.edit_container .new_text .cross_icon {\\n  position: absolute;\\n  fill: white;\\n  width: 2rem;\\n  height: 2rem;\\n  top: -2.2rem;\\n}\\n.edit_container .new_text .cross_icon {\\n  right: 0;\\n}\\n.edit_container .new_text .save_icon {\\n  right: 3rem;\\n}\\n.edit_container .new_text textarea,\\n.edit_container .new_text input {\\n  background-color: #232326;\\n  border-radius: 0.3rem;\\n  font-size: 1.5rem;\\n  color: white;\\n  padding: 0.5rem;\\n  line-height: 2rem;\\n  border: white solid 1px;\\n  overflow-x: hidden;\\n  resize: none;\\n  width: 100%;\\n}\\n.edit_container .new_text textarea:focus,\\n.edit_container .new_text input:focus {\\n  outline: none;\\n  background-color: #54545b;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/autoprefixer-loader!./node_modules/less-loader/dist/cjs.js!./node_modules/js-to-styles-var-loader!./components/editAlbum/editAlbum.less\n// module id = 38\n// module chunks = 0"],"sourceRoot":""}