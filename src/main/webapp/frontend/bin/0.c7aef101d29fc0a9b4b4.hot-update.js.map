{"version":3,"sources":["webpack:///./components/AlbumContainer.jsx","webpack:///./reducers/AlbumReducer.js","webpack:///./actions/albumActions.js"],"names":["AlbumContainer","connect","store","albums","isLoadingAlbums","fetchAlbums","React","Component","constructor","props","render","pictures","map","album","_id","albumsLoadingError","albumReducer","state","action","type","sortedAlbums","forEach","images","sort","x","y","order","loaderReducer","AlbumReducer","routesModule","require","albumsRequest","REQ_ALBUMS","setAlbums","dispatch","http","doGet","routes","GET_ALBUMS","then","result","catch","e","Alert","error","response","data","fetchAlbumsBySearch","search","GET_ALBUMS_SEARCH","deleteFotoFromAlbum","id","doDelete","DELETE_FOTO","success","deleteAlbum","DELETE_ALBUM","saveFotoDescription","image","doPut","UPDATE_FOTO","saveAlbumDescription","ALBUM_ROUTE","saveItemsOrder","UPDATE_ITEMS_ORDER","createAlbum","doPost"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;IAQMA,c,WANL,uFAAAC,CAAQC,UAAU;AACfC,YAAQD,MAAMC,MADC;AAEfC,qBAAiBF,MAAME;AAFR,CAAV,CAAR,EAGG;AACAC,IAAA,uFAAAA;AADA,CAHH,C,gBAMD,MAAML,cAAN,SAA6B,6CAAAM,CAAMC,SAAnC,CAA6C;AACzCC,gBAAYC,KAAZ,EAAmB;AACf,cAAMA,KAAN;AACA,aAAKA,KAAL,CAAWJ,WAAX;AACH;;AAGDK,aAAS;AACL,YAAG,CAAC,KAAKD,KAAL,CAAWN,MAAf,EAAuB,OAAO,4DAAC,qDAAD,IAAQ,MAAK,iBAAb,EAA+B,WAAU,aAAzC,GAAP;AACvB,cAAMQ,WAAW,KAAKF,KAAL,CAAWN,MAAX,CAAkBS,GAAlB,CAAsBC,SAAS,4DAAC,iEAAD,IAAS,KAAKA,MAAMC,GAApB;AACS,uBAAU,MADnB;AAES,mBAAOD,KAFhB,GAA/B,CAAjB;AAGA,eAAOF,QAAP;AACH;AAbwC,C;;;AAgB7C,yDAAeX,cAAf,E;;;;;;;;;AC9BA;;AAEA,MAAMG,SAAS,EAAf;AACA,MAAMC,kBAAkB,KAAxB;AACA,MAAMW,qBAAqB,IAA3B;;AAEA,MAAMC,eAAe,CAACC,QAAQd,MAAT,EAAiBe,MAAjB,KAA4B;AAC7C,YAAQA,OAAOC,IAAf;AACI,aAAK,0EAAL;AACI,kBAAMC,eAAeF,OAAOf,MAA5B;AACAiB,yBAAaC,OAAb,CAAqBR,SAAS;AAC1BA,sBAAMS,MAAN,CAAaC,IAAb,CAAkB,CAACC,CAAD,EAAIC,CAAJ,KAAUD,EAAEE,KAAF,GAAUD,EAAEC,KAAxC;AACH,aAFD;AAGA,mBAAON,YAAP;AACJ;AACI,mBAAOH,KAAP;AARR;AAUH,CAXD;;AAaA,MAAMU,gBAAgB,CAACV,QAAQb,eAAT,EAA0Bc,MAA1B,KAAqC;AACvD,YAAQA,OAAOC,IAAf;AACI,aAAK,0EAAL;AACI,mBAAO,IAAP;AACJ,aAAK,0EAAL;AACI,mBAAO,KAAP;AACJ,aAAK,gFAAL;AACI,mBAAO,KAAP;AACJ;AACI,mBAAOF,KAAP;AARR;AAUH,CAXD;;AAaA,MAAMW,eAAe;AACjBzB,YAAQa,YADS;AAEjBZ,qBAAiBuB;AAFA,CAArB;;AAKA,yDAAeC,YAAf,E;;;;;;;;;;;;;;;;;;;;;;ACrCA;AACA;AACA,MAAMC,eAAe,mBAAAC,CAAQ,EAAR,CAArB;AACA;;AAEO,SAASC,aAAT,GAAyB;AAC5B,WAAO;AACHZ,cAAM,0EAAMa;AADT,KAAP;AAGH;;AAEM,SAASC,SAAT,CAAmB9B,MAAnB,EAA2B;AAC9B,WAAO;AACHgB,cAAM,0EADH;AAEHhB;AAFG,KAAP;AAIH;;AAEM,SAASE,WAAT,GAAuB;AAC1B,WAAO6B,YAAY;AACfA,iBAASH,eAAT;AACA,eAAO,6DAAAI,CACFC,KADE,CACIP,aAAaQ,MAAb,CAAoBC,UADxB,EAEFC,IAFE,CAEGC,UAAUN,SAASD,UAAUO,MAAV,CAAT,CAFb,EAGFC,KAHE,CAGIC,KAAK,qDAAAC,CAAMC,KAAN,CAAYF,EAAEG,QAAF,CAAWC,IAAX,CAAgBF,KAA5B,EAAmC,EAAnC,CAHT,CAAP;AAIH,KAND;AAOH;;AAEM,SAASG,mBAAT,CAA6BC,MAA7B,EAAqC;AACxC,WAAOd,YAAY;AACfA,iBAASH,eAAT;AACA,eAAO,6DAAAI,CACFC,KADE,CACIP,aAAaQ,MAAb,CAAoBY,iBAApB,CAAsCD,MAAtC,CADJ,EAEFT,IAFE,CAEGC,UAAUN,SAASD,UAAUO,MAAV,CAAT,CAFb,EAGFC,KAHE,CAGIC,KAAK,qDAAAC,CAAMC,KAAN,CAAYF,EAAEG,QAAF,CAAWC,IAAX,CAAgBF,KAA5B,EAAmC,EAAnC,CAHT,CAAP;AAIH,KAND;AAOH;;AAED;AACA;AACA;AACA;AACA;;AAEO,SAASM,mBAAT,CAA6BC,EAA7B,EAAiC;AACpC,WAAOjB,YAAY;AACf;AACA,eAAO,6DAAAC,CACFiB,QADE,CACOvB,aAAaQ,MAAb,CAAoBgB,WAApB,CAAgCF,EAAhC,CADP,EAEFZ,IAFE,CAEGC,UAAU,qDAAAG,CAAMW,OAAN,CAAc,eAAd,EAA+B,EAA/B,CAFb,EAGFb,KAHE,CAGIC,KAAK,qDAAAC,CAAMC,KAAN,CAAYF,EAAEG,QAAF,CAAWC,IAAX,CAAgBF,KAA5B,EAAmC,EAAnC,CAHT,CAAP;AAII;AACP,KAPD;AAQH;;AAEM,SAASW,WAAT,CAAqBJ,EAArB,EAAyB;AAC5B,WAAOjB,YAAY;AACf;AACA,eAAO,6DAAAC,CACFiB,QADE,CACOvB,aAAaQ,MAAb,CAAoBmB,YAApB,CAAiCL,EAAjC,CADP,EAEFZ,IAFE,CAEGC,UAAUN,SAAS7B,aAAT,CAFb,EAGFoC,KAHE,CAGIC,KAAK,qDAAAC,CAAMC,KAAN,CAAYF,EAAEG,QAAF,CAAWC,IAAX,CAAgBF,KAA5B,EAAmC,EAAnC,CAHT,CAAP;AAIH,KAND;AAOH;;AAEM,SAASa,mBAAT,CAA6B5C,KAA7B,EAAoC6C,KAApC,EAA2C;AAC9C,WAAOxB,YAAY;AACf;AACA,eAAO,6DAAAC,CACFwB,KADE,CACI9B,aAAaQ,MAAb,CAAoBuB,WAApB,CAAgC/C,KAAhC,CADJ,EAC4C6C,KAD5C,EAEFjB,KAFE,CAEIC,KAAK,qDAAAC,CAAMC,KAAN,CAAYF,EAAEG,QAAF,CAAWC,IAAX,CAAgBF,KAA5B,EAAmC,EAAnC,CAFT,CAAP;AAGI;AACP,KAND;AAOH;;AAEM,SAASiB,oBAAT,CAA8BhD,KAA9B,EAAqC;AACxC,WAAOqB,YAAY;AACf;AACA,eAAO,6DAAAC,CACFwB,KADE,CACI9B,aAAaQ,MAAb,CAAoByB,WADxB,EACqCjD,KADrC,EAEF4B,KAFE,CAEIC,KAAK,qDAAAC,CAAMC,KAAN,CAAYF,EAAEG,QAAF,CAAWC,IAAX,CAAgBF,KAA5B,EAAmC,EAAnC,CAFT,CAAP;AAGI;AACP,KAND;AAOH;;AAEM,SAASmB,cAAT,CAAwBlD,KAAxB,EAA+B;AAClC,WAAOqB,YAAY;AACf;AACA,eAAO,6DAAAC,CACFwB,KADE,CACI9B,aAAaQ,MAAb,CAAoB2B,kBADxB,EAC4CnD,KAD5C,EAEF4B,KAFE,CAEIC,KAAK,qDAAAC,CAAMC,KAAN,CAAYF,EAAEG,QAAF,CAAWC,IAAX,CAAgBF,KAA5B,EAAmC,EAAnC,CAFT,CAAP;AAGI;AACP,KAND;AAOH;;AAEM,SAASqB,WAAT,CAAqBpD,KAArB,EAA4B;AAC/B,WAAOqB,YAAY;AACf;AACA,eAAO,6DAAAC,CACF+B,MADE,CACKrC,aAAaQ,MAAb,CAAoByB,WADzB,EACsCjD,KADtC,EAEF0B,IAFE,CAEGC,UAAU;AACZG,YAAA,qDAAAA,CAAMW,OAAN,CAAc,eAAd,EAA+B,EAA/B;AACApB,qBAAS7B,aAAT;AACH,SALE,EAMFoC,KANE,CAMIC,KAAK,qDAAAC,CAAMC,KAAN,CAAYF,EAAEG,QAAF,CAAWC,IAAX,CAAgBF,KAA5B,EAAmC,EAAnC,CANT,CAAP;AAOH,KATD;AAUH,C","file":"0.c7aef101d29fc0a9b4b4.hot-update.js","sourcesContent":["import React from 'react';\nimport Picture from \"./picture/Picture\";\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums} from \"../actions/albumActions\";\nimport Loader from 'react-loaders';\nimport './albumContainer.less';\nimport 'loaders.css/src/animations/ball-grid-pulse.scss';\n\n@connect(store => ({\n    albums: store.albums,\n    isLoadingAlbums: store.isLoadingAlbums\n}), {\n    fetchAlbums\n})\nclass AlbumContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props.fetchAlbums();\n    }\n\n\n    render() {\n        if(!this.props.albums) return <Loader type=\"ball-grid-pulse\" className='Data_loader'/>;\n        const pictures = this.props.albums.map(album => <Picture key={album._id}\n                                                                 animation='fade'\n                                                                 album={album}/>);\n        return pictures;\n    }\n}\n\nexport default AlbumContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/AlbumContainer.jsx","import {REQ_ALBUMS, REQ_ALBUMS_ERROR, SET_ALBUMS} from \"../constants/ActionTypes\";\n\nconst albums = [];\nconst isLoadingAlbums = false;\nconst albumsLoadingError = null;\n\nconst albumReducer = (state = albums, action) => {\n    switch (action.type) {\n        case SET_ALBUMS:\n            const sortedAlbums = action.albums;\n            sortedAlbums.forEach(album => {\n                album.images.sort((x, y) => x.order - y.order);\n            });\n            return sortedAlbums;\n        default:\n            return state;\n    }\n}\n\nconst loaderReducer = (state = isLoadingAlbums, action) => {\n    switch (action.type) {\n        case REQ_ALBUMS:\n            return true;\n        case SET_ALBUMS:\n            return false;\n        case REQ_ALBUMS_ERROR:\n            return false;\n        default:\n            return state;\n    }\n}\n\nconst AlbumReducer = {\n    albums: albumReducer,\n    isLoadingAlbums: loaderReducer\n}\n\nexport default AlbumReducer;\n\n\n// WEBPACK FOOTER //\n// ./reducers/AlbumReducer.js","import * as types from '../constants/ActionTypes';\nimport http from '../HttpService';\nconst routesModule = require('../constants/routes');\nimport Alert from 'react-s-alert';\n\nexport function albumsRequest() {\n    return {\n        type: types.REQ_ALBUMS\n    };\n}\n\nexport function setAlbums(albums) {\n    return {\n        type: types.SET_ALBUMS,\n        albums\n    };\n}\n\nexport function fetchAlbums() {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS)\n            .then(result => dispatch(setAlbums(result)))\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\nexport function fetchAlbumsBySearch(search) {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS_SEARCH(search))\n            .then(result => dispatch(setAlbums(result)))\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\n// export function deleteFotoRequest() {\n//     return {\n//         type: types.REQ_ALBUMS\n//     };\n// }\n\nexport function deleteFotoFromAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_FOTO(id))\n            .then(result => Alert.success('Album deleted', {}))\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function deleteAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_ALBUM(id))\n            .then(result => dispatch(fetchAlbums()))\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\nexport function saveFotoDescription(album, image) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_FOTO(album), image)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveAlbumDescription(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.ALBUM_ROUTE, album)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveItemsOrder(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_ITEMS_ORDER, album)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function createAlbum(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPost(routesModule.routes.ALBUM_ROUTE, album)\n            .then(result => {\n                Alert.success('Album created', {});\n                dispatch(fetchAlbums());\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./actions/albumActions.js"],"sourceRoot":""}