{"version":3,"sources":["webpack:///./components/picture/Picture.jsx","webpack:///./components/picture/Preview.jsx"],"names":["Picture","React","Component","constructor","props","state","magnify","click","setState","animation","closePreview","mouseLeave","e","chooseAnimation","mouseEnter","fade","move","findSide","direction","clientRect","target","getClientRects","x","clientX","y","clientY","diffs","side","diff","Math","abs","left","right","top","bottom","minDiff","min","Array","from","el","find","render","src","BottomSection","styled","div","imageWidth","Modal","Preview","componentDidMount","imageRect","refs","img","width","close"],"mappings":"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","file":"0.b3d8d0a201c7cd8cd948.hot-update.js","sourcesContent":["import React from \"react\";\nimport {MagnifierIcon} from \"../Icons\";\nimport \"./picture.less\";\nimport Preview from \"./Preview\";\n\nclass Picture extends React.Component {\n  // animation: fade, move\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      magnify: ''\n    };\n  }\n\n  click() {\n    this.setState({\n      magnify: 'magnify',\n      animation: ''\n    });\n  };\n\n  closePreview() {\n    this.setState({\n      magnify: ''\n    });\n  }\n\n  mouseLeave(e)  {\n    !this.state.magnify && this.chooseAnimation(e, 'fade_out', 'from');\n  };\n\n  mouseEnter(e)  {\n    !this.state.magnify && this.chooseAnimation(e, 'fade_in', 'to');\n  };\n\n  chooseAnimation(e, fade, move) {\n    switch (this.props.animation) {\n      case 'fade':\n        this.setState({\n          animation: fade\n        });\n        break;\n      case 'move':\n        this.setState({\n          animation: this.findSide(e, move)\n        });\n    }\n  }\n\n  findSide (e, direction) {\n    const clientRect = e.target.getClientRects()[0];\n    const x = e.clientX;\n    const y = e.clientY;\n    const diffs = [\n      {\n        side: `move_${direction}_right`,\n        diff: Math.abs(x - clientRect.left)\n      }, {\n        side: `move_${direction}_left`,\n        diff: Math.abs(x - clientRect.right)\n      }, {\n        side: `move_${direction}_bottom`,\n        diff: Math.abs(y - clientRect.top)\n      }, {\n        side: `move_${direction}_top`,\n        diff: Math.abs(y - clientRect.bottom)\n      }\n    ];\n\n    const minDiff = Math.min(...Array.from(diffs, el => el.diff));\n    return diffs.find(el => el.diff == minDiff).side;\n  }\n\n  render() {\n    const {src} = this.props;\n    const {animation, magnify} = this.state;\n    return (\n      <div\n        className={`image_wrapper ${animation} ${magnify}`}\n        onMouseLeave={(e) => this.mouseLeave(e)}\n        onMouseEnter={(e) => this.mouseEnter(e)}\n        onClick={(e) => this.click(e)}\n      >\n        <img className='image' src={src}/>\n        <div className={'overlay'}>\n          <div className={`overlay_top`}>\n            <MagnifierIcon/>\n          </div>\n          <div className={`overlay_bottom`}>\n            <div className='overlay_bottom_text'>some beautiful picture</div>\n          </div>\n        </div>\n        {magnify && <Preview src={src} close={() => this.closePreview}/>}\n      </div>\n    );\n  }\n}\n\nexport default Picture;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Picture.jsx","import React from \"react\";\nimport styled from 'styled-components';\nimport {CrossIcon, LeftArrowIcon, RightArrowIcon} from \"../Icons\";\n\nconst BottomSection = styled.div`\n    width: ${props => props.imageWidth}\n    \n`\n\nconst Modal = styled.div`\n\n@keyframes increase {\n  from {\n      height: 0;\n      width: 0;\n  }\n  to {\n      height: 85%;\n      width: auto;\n  }\n}\n\n  animation-name: increase;\n  animation-duration: 4s;\n  animation-timing-function: ease;\n\n`\n\nclass Preview extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      imageWidth: 0\n    };\n  }\n\n  componentDidMount() {\n    const imageRect = this.refs.img.getClientRects()[0];\n    this.setState({\n      imageWidth: imageRect.width\n    });\n    //const clientRect = el.getClientRects()[0];\n  }\n\n\n  // click(e) {\n  //   const clientRect = e.target.getClientRects()[0];\n  //\n  //   this.setState({\n  //     magnify: 'magnify',\n  //     animation: ''\n  //   });\n  // };\n\n  // mouseLeave(e)  {\n  //   !this.state.magnify && this.chooseAnimation(e, 'fade_out', 'from');\n  // };\n  //\n  // mouseEnter(e)  {\n  //   !this.state.magnify && this.chooseAnimation(e, 'fade_in', 'to');\n  // };\n\n  render() {\n    const {src} = this.props;\n    return (\n        <div className='magnify_modal'>\n          <Modal className='magnify_modal_img_frame'>\n            <div className='magnify_modal_img_frame_container'>\n              <CrossIcon className='cross' onClick={this.props.close}/>\n              <div className='left_arrow'>\n                <LeftArrowIcon/>\n              </div>\n              <div className='right_arrow'>\n                <RightArrowIcon/>\n              </div>\n              <div className='counter_container'>\n                <div className='counter'>1 of 52</div>\n              </div>\n              <img src={src} className='image_preview' ref='img'/>\n            </div>\n            <BottomSection className='magnify_modal_img_frame_bottom' imageWidth={this.state.imageWidth}>\n              <div className='magnify_modal_img_frame_bottom_caption'>Caption</div>\n              <div className='magnify_modal_img_frame_bottom_text'>Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason.</div>\n            </BottomSection>\n          </Modal>\n        </div>\n    );\n  }\n}\n\nexport default Preview;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Preview.jsx"],"sourceRoot":""}