{"version":3,"sources":["webpack:///./components/newAlbum/AddNewAlbum.jsx","webpack:///./components/picture/Picture.jsx","webpack:///./components/picture/PreviewImageFrame.jsx","webpack:///./components/editAlbum/EditAlbum.jsx","webpack:///./components/editAlbum/Card.jsx","webpack:///./components/dialog/Dialog.jsx","webpack:///./components/editAlbum/EditCanvas.jsx","webpack:///./components/picture/preview.less","webpack:///./components/fileInput/FileInput.jsx","webpack:///./components/Icons.jsx"],"names":["routesModule","require","Label","styled","span","AddNewAlbum","connect","store","createAlbum","React","Component","constructor","props","modal","state","height","name","description","src","fileUploading","componentDidMount","setTimeout","scrollbars","forceUpdate","calculateModalHeight","w","window","d","document","e","documentElement","g","getElementsByTagName","y","innerHeight","clientHeight","modalStyle","currentStyle","getComputedStyle","Math","min","parseInt","setState","uploadFile","file","http","sendFile","routes","UPLOAD_FOTO","then","id","catch","closeModal","render","r","target","value","isVideo","Picture","imageLoadStarted","magnify","valid","loading","click","animation","closePreview","mouseLeave","chooseAnimation","mouseEnter","fade","move","findSide","direction","clientRect","getClientRects","diffs","side","diff","abs","clientX","left","right","clientY","top","bottom","minDiff","Array","from","el","find","handleBrokenImg","Alert","error","album","images","onLoad","loadImage","url","image","Image","onload","bind","onerror","main","_id","PreviewImageFrame","img","current","currentIndex","indexOf","imageWidth","length","index","getContainerHeight","addEventListener","recalculateWidth","cont","containerStyle","parseFloat","componentWillUnmount","removeEventListener","naturalWidth","naturalHeight","width","constants","preview_border_width","innerWidth","style","setImageWidth","newImages","loaded","onCrossClick","close","onArrowClick","arrow","clearAnimate","loadImageURL","imageURL","imageObj","onLoadFailure","onEarthClick","editRoute","node","EditAlbum","deleteFotoFromAlbum","saveFotoDescription","saveAlbumDescription","deleteAlbum","saveItemsOrder","dragStarted","dragFrom","dragFromEl","dragObj","openPicture","openedAlbum","openedDialog","imageDownloaded","imageLoading","albumLoading","loadAlbum","doGet","GET_ALBUM","match","params","result","sort","x","order","forEach","Date","toISOString","response","data","openDetails","picture","openAlbumDetails","deleteItem","newPictures","filter","p","newAlbum","Object","assign","removeAlbum","history","push","changeState","obj","editedPicture","pinput","ptextarea","text","editedAlbum","ainput","atextarea","downloadedFoto","doPost","FOTO_ROUTE","onImageLoad","onImageError","renderEditAlbumCard","renderImages","map","replaceImage","renderFileInput","renderEditCanvas","renderChangeFotoTextInfoDialog","i","t","renderChangeAlbumTextInfoDialog","renderDeleteDialog","Card","replaceEvent","componentWillReceiveProps","dragContainer","replaceAttached","body","onUpBody","elementAtPoint","elementFromPoint","scrollX","scrollY","parentElement","classList","contains","changeDragState","attr","getAttribute","pictures","changePictureAndClear","onMouseDown","preventDefault","elStartLeft","elStartTop","zIndex","onMouseMove","dragState","onMouseUp","event","Event","dispatchEvent","dragToPicture","dragFromPicture","prevOrder","updateOrder","Dialog","onClose","onClick","EditCanvas","angle","getEditedImage","avatar","getImage","toBlob","split","File","cleanImage","rotateImage","newAngle","calculateParameters","newState","imgInfo","onImageFailure","closeImage","ae","FileInput","onChange","files","classNames","className","label","disabled","Icon","theme","content","LeftArrowIcon","RightArrowIcon","MagnifierIcon","CrossIcon","EditIcon","SaveIcon","RotateIcon","EarthIcon"],"mappings":"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","file":"0.f964a28bdf51acd6fa86.hot-update.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport {CrossIcon} from \"../Icons\";\nimport FileInput from \"../fileInput/FileInput\";\nimport './addNewAlbum.less';\nimport connect from \"react-redux/es/connect/connect\";\nimport {isVideo} from \"../../utils/index\";\nimport {Scrollbars} from \"react-custom-scrollbars\";\nconst routesModule = require('../../constants/routes');\nimport http from '../../HttpService';\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\nimport {\n    createAlbum\n} from \"../../actions/albumActions\";\n\nconst Label = styled.span`\n  width: 100%;\n  margin-bottom: 0.25rem;\n`\n\n@connect(store => ({}), {\n    createAlbum\n})\nclass AddNewAlbum extends React.Component {\n    constructor(props) {\n        super(props);\n        this.modal = null;\n        this.state = {\n            height: '100%',\n            name: '',\n            description: '',\n            src: null,\n            fileUploading: false\n        }\n    }\n\n    componentDidMount() {\n        setTimeout(() => this.scrollbars.forceUpdate(), 100);\n\n        // window.addEventListener('resize', () => this.calculateModalHeight())\n        this.calculateModalHeight();\n    }\n\n    calculateModalHeight() {\n        var w = window,\n            d = document,\n            e = d.documentElement,\n            g = d.getElementsByTagName('body')[0],\n            y = w.innerHeight || e.clientHeight || g.clientHeight;\n\n        if (this.modal) {\n            const modalStyle = this.modal.currentStyle || window.getComputedStyle(this.modal);\n            const height = Math.min(parseInt(y), parseInt(modalStyle.height)) + 'px';\n            this.setState({\n                height\n            });\n        }\n    }\n\n    uploadFile(file) {\n        this.setState({fileUploading: true});\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(id => {\n                this.setState({src: id.src, fileUploading: false});\n            })\n            .catch(e => this.setState({fileUploading: false}));\n    }\n\n    createAlbum() {\n        const {name, description, src} = this.state;\n        if (name && description && src) {\n            this.props.createAlbum({\n                name, description, src\n            });\n            this.props.closeModal();\n        }\n\n    }\n\n    render() {\n        const {name, description, src, fileUploading, height} = this.state;\n\n        return <div className='add_album'>\n            <Scrollbars\n                hideTracksWhenNotNeeded={true}\n                className=\"scroll_bar\"\n                // renderTrackVertical={({ style, ...props }) =>\n                        //     <div {...props} style={{ ...style, backgroundColor: 'blue' }}/>}\n                         // renderTrackVertical={props => <div {...props} className=\"track-vertical\"/>}\n                         // renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}\n                        ref={(scrollbars) => this.scrollbars = scrollbars}\n            >\n            <div className='add_album_modal' ref={r => this.modal = r}>\n\n                <CrossIcon className=\"cross_icon\" onClick={this.props.closeModal}/>\n                <Label>Name</Label>\n                <input value={name} onChange={(e) => this.setState({name: e.target.value})}/>\n                <Label>Title image:</Label>\n                {fileUploading\n                    ? <Loader type=\"ball-scale-multiple\"/>\n                    : src\n                    ? (isVideo(src) ? <video controls=\"controls\"><source src={src}/></video> : <img src={src}/>)\n                    :\n                    <FileInput label='Choose main foto'\n                               uploadFile={(file) => this.uploadFile(file)}/>}\n                <Label>Description</Label>\n                <textarea value={description} onChange={(e) => this.setState({description: e.target.value})}/>\n                {src && !isVideo(src) && <div className=\"warning\">You will be able to rotate your foto in the edit mode after album creation.</div>}\n                <button className=\"ok_button\" onClick={() => this.createAlbum()}>ok</button>\n\n            </div>\n            </Scrollbars>\n        </div>\n\n\n    }\n}\n\nexport default AddNewAlbum;\n\n\n// WEBPACK FOOTER //\n// ./components/newAlbum/AddNewAlbum.jsx","import React from \"react\";\nimport {MagnifierIcon} from \"../Icons\";\nimport \"./picture.less\";\nimport Preview from \"./Preview\";\nimport {isVideo} from \"../../utils/index\";\nimport Loader from 'react-loaders';\nimport * as styles from \"../../constants/styles\";\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\nimport Alert from 'react-s-alert';\n\nclass Picture extends React.Component {\n    // animation: fade, move\n\n    constructor(props) {\n        super(props);\n        this.imageLoadStarted = false;\n\n        this.state = {\n            magnify: '',\n            valid: true,\n            loading: true,\n        };\n    }\n\n    click() {\n        this.setState({\n            magnify: 'magnify',\n            animation: ''\n        });\n    };\n\n    closePreview() {\n        this.setState({\n            magnify: ''\n        });\n    }\n\n    mouseLeave(e) {\n        !this.state.magnify && this.chooseAnimation(e, 'fade_out', 'from');\n    };\n\n    mouseEnter(e) {\n        !this.state.magnify && this.chooseAnimation(e, 'fade_in', 'to');\n    };\n\n    chooseAnimation(e, fade, move) {\n        switch (this.props.animation) {\n            case 'fade':\n                this.setState({\n                    animation: fade\n                });\n                break;\n            case 'move':\n                this.setState({\n                    animation: this.findSide(e, move)\n                });\n        }\n    }\n\n    findSide(e, direction) {\n        const clientRect = e.target.getClientRects()[0];\n        const diffs = [\n            {\n                side: `move_${direction}_right`,\n                diff: Math.abs(e.clientX - clientRect.left)\n            }, {\n                side: `move_${direction}_left`,\n                diff: Math.abs(e.clientX - clientRect.right)\n            }, {\n                side: `move_${direction}_bottom`,\n                diff: Math.abs(e.clientY - clientRect.top)\n            }, {\n                side: `move_${direction}_top`,\n                diff: Math.abs(e.clientY - clientRect.bottom)\n            }\n        ];\n\n        const minDiff = Math.min(...Array.from(diffs, el => el.diff));\n        return diffs.find(el => el.diff == minDiff).side;\n    }\n\n    handleBrokenImg() {\n        Alert.error(\"Image for name {\" + this.props.album.images[0].name + \"} loading failed\", {});\n        this.imageLoadStarted = true;\n        this.setState({\n            loading: false,\n            valid: false\n        })\n    }\n\n    onLoad() {\n        this.imageLoadStarted = true;\n        this.setState({loading: false});\n    }\n\n    loadImage(url) {\n        let image = new Image();\n        image.onload = this.onLoad.bind(this);\n        image.onerror = this.handleBrokenImg.bind(this);\n        image.src = url;\n    }\n\n    render() {\n        const {album} = this.props;\n        const main = album.images[0];\n        const {animation, magnify, loading} = this.state;\n        if (!this.imageLoadStarted) this.loadImage(main.src);\n\n        return this.state.valid && <div className=\"image_main_wrapper\">\n                <div\n                    className={`image_wrapper ${animation} ${magnify}`}\n                    onMouseLeave={(e) => this.mouseLeave(e)}\n                    onMouseEnter={(e) => this.mouseEnter(e)}\n                    onClick={(e) => this.click(e)}\n                >\n                    {loading\n                        ? <Loader type=\"ball-scale-multiple\" className=\"image_loader\"/>\n                        : isVideo(main.src)\n                            ? <video height={styles.picture_height}\n                                     width={styles.picture_width}\n                                     className=\"video\">\n                                <source src={main.src}/>\n                            </video>\n                            : <img className='image'\n                                   src={main.src}\n                                   alt=\"something wrong happens\"/>}\n                    <div className={'overlay'}>\n                        <div className={`overlay_top`}>\n                            <MagnifierIcon/>\n                        </div>\n                        <div className={`overlay_bottom`}>\n                            <div className='overlay_bottom_text'>{album.name}</div>\n                        </div>\n                    </div>\n                </div>\n                {magnify && [<div key=\"preview_overlay\" className=\"preview_overlay\"/>,\n                <Preview main={main}\n                         key=\"preview\"\n                         close={() => this.closePreview()}\n                         editRoute={`/edit/${album._id}`}\n                         images={album.images}/>]}\n            </div>;\n    }\n}\n\nexport default Picture;\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Picture.jsx","import React from \"react\";\nimport {CrossIcon, EditIcon, LeftArrowIcon, RightArrowIcon, EarthIcon} from \"../Icons\";\nimport \"./preview.less\";\nimport {Link} from \"react-router-dom\";\nimport {isVideo} from \"../../utils/index\";\nimport constants from '../../constants/styles';\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\nimport Alert from 'react-s-alert';\n\nclass PreviewImageFrame extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.img = null;\n\n    const current = props.images.find(img => img.src === props.main.src);\n    const currentIndex = props.images.indexOf(current);\n\n    this.state = {\n      imageWidth: 0,\n      main: props.main,\n      left: currentIndex > 0,\n      right: currentIndex < (props.images.length - 1),\n      images: props.images,\n      index: currentIndex\n    };\n  }\n\n  componentDidMount() {\n    this.height = this.getContainerHeight();\n    window.addEventListener('resize', () => this.recalculateWidth());\n  }\n\n  getContainerHeight() {\n    if (this.cont) {\n        const containerStyle = this.cont.currentStyle || window.getComputedStyle(this.cont);\n        return parseFloat(containerStyle.height);\n    }\n    return 0;\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', () => this.recalculateWidth());\n  }\n\n  recalculateWidth() {\n    const naturalWidth = this.state.images[this.state.index].naturalWidth;\n    const naturalHeight = this.state.images[this.state.index].naturalHeight;\n\n    if (naturalWidth && naturalHeight &&  this.cont) {\n        this.height = this.getContainerHeight();\n        let width = naturalWidth * this.height/ naturalHeight;\n        if((width + parseFloat(constants.preview_border_width) * 2) > window.innerWidth) {\n            width  = window.innerWidth - parseFloat(constants.preview_border_width) * 2;\n            const height = naturalHeight * width / naturalWidth;\n            this.cont.style.height = height;\n        }\n        this.cont.style.width = width;\n        this.props.setImageWidth(width);\n    }\n\n  }\n\n  onLoad(e) {\n    let width = e.target.naturalWidth * this.height / e.target.naturalHeight;\n    let newImages = [...this.state.images];\n    newImages[this.state.index].naturalWidth = e.target.naturalWidth;\n    newImages[this.state.index].naturalHeight = e.target.naturalHeight;\n    newImages[this.state.index].loaded = true;\n      if((width + parseFloat(constants.preview_border_width) * 2) > window.innerWidth) {\n          width  = window.innerWidth - parseFloat(constants.preview_border_width) * 2;\n          const height = e.target.naturalHeight * width / e.target.naturalWidth;\n          this.cont.style.height = height;\n\n      }\n    this.cont.style.width = width;\n    this.setState({images: newImages});\n    this.props.setImageWidth(width);\n  }\n\n  onCrossClick() {\n    this.props.close();\n  }\n\n  onArrowClick(arrow) {\n    const {images} = this.props;\n    const currentIndex = images.indexOf(this.state.main);\n    let main;\n\n    if (arrow === 'left' && currentIndex > 0) {\n      main = images[currentIndex - 1];\n      this.setState({\n        main,\n        left: (currentIndex - 1) > 0,\n        right: (currentIndex - 1) < (images.length - 1),\n        index: currentIndex - 1\n      }, this.recalculateWidth);\n    }\n\n    if (arrow === 'right' && currentIndex < (images.length - 1)) {\n        main = images[currentIndex + 1];\n        this.setState({\n        main,\n        left: (currentIndex + 1) > 0,\n        right: (currentIndex + 1) < (images.length - 1),\n        index: currentIndex + 1\n      }, this.recalculateWidth)\n    }\n\n    this.props.clearAnimate(main);\n  }\n\n  loadImageURL (imageURL) {\n        const imageObj = new Image();\n        imageObj.onload = this.onLoad.bind(this);\n        imageObj.onerror = this.onLoadFailure.bind(this);\n        imageObj.src = imageURL;\n  }\n\n  onLoadFailure() {\n      Alert.error(\"Image loading failed\", {});\n      let newImages = [...this.state.images];\n      newImages[this.state.index].loaded = true;\n      this.setState({images: newImages});\n  }\n\n    onEarthClick() {\n\n    }\n\n  render() {\n    const {main, left, right, images, index} = this.state;\n    const {editRoute} = this.props;\n    if(!images[index].loaded) this.loadImageURL(images[index].src);\n\n    return (<div className='magnify_modal_img_frame_container' ref={cont => this.cont = cont}>\n        <CrossIcon className='cross' onClick={() => this.onCrossClick()}/>\n            {editRoute && <Link to={this.props.editRoute}><EditIcon className='edit'/></Link>}\n        <EarthIcon className='earth' onClick={() => this.onEarthClick()}/>\n        {left && <div className='left_arrow'>\n          <LeftArrowIcon onClick={() => this.onArrowClick('left')}/>\n        </div>}\n        {right && <div className='right_arrow'>\n          <RightArrowIcon onClick={() => this.onArrowClick('right')}/>\n        </div>}\n        <div className='counter_container'>\n          <div className='counter'>{`${(images.indexOf(main) + 1)} of ${images.length}`}</div>\n        </div>\n        {!images[index].loaded ? <Loader type=\"ball-scale-multiple\"/> : isVideo(main.src)\n            ? <video controls=\"controls\"\n                     ref={node => this.img = node}\n                     className=\"image_preview\"\n                     >\n              <source src={main.src}/>\n            </video>\n            :<img src={main.src} className='image_preview'\n                  ref={node => this.img = node}/>}\n      </div>\n    );\n  }\n}\n\nexport default PreviewImageFrame;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/PreviewImageFrame.jsx","import React from 'react';\nimport './editAlbum.less';\nimport FileInput from \"../fileInput/FileInput\";\nimport {CrossIcon, SaveIcon} from \"../Icons\";\nimport Card from \"./Card\";\nimport http from '../../HttpService';\nimport connect from \"react-redux/es/connect/connect\";\nimport {\n    deleteAlbum, deleteFotoFromAlbum, saveAlbumDescription,\n    saveFotoDescription, saveItemsOrder\n} from \"../../actions/albumActions\";\nimport Dialog from \"../dialog/Dialog\";\nimport EditCanvas from \"./EditCanvas\";\nimport {isVideo} from \"../../utils/index\";\nimport * as styles from \"../../constants/styles\";\nconst routesModule = require('../../constants/routes');\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\nimport 'loaders.css/src/animations/ball-grid-pulse.scss';\nimport Alert from 'react-s-alert';\n\n\n@connect(store => ({}), {\n    deleteFotoFromAlbum,\n    saveFotoDescription,\n    saveAlbumDescription,\n    deleteAlbum,\n    saveItemsOrder\n})\nclass EditAlbum extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dragStarted: false,\n            dragFrom: null,\n            dragFromEl: null,\n            dragObj: null,\n            openPicture: null,\n            openedAlbum: false,\n            album: null,\n            openedDialog: false,\n            imageDownloaded: false,\n            imageLoading: true,\n            imageLoadStarted: false,\n            albumLoading: false\n        }\n    }\n\n    componentDidMount() {\n        this.loadAlbum();\n    }\n\n    loadAlbum() {\n        this.setState({albumLoading: true});\n        http.doGet(routesModule.routes.GET_ALBUM(this.props.match.params.id))\n            .then(result => {\n                result.images.sort((x, y) => x.order - y.order);\n                result.images.forEach(image => image.src = image.src + '?forceUpdate=' + new Date().toISOString())\n                this.setState({album: result, albumLoading: false});\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n\n    openDetails(picture) {\n        this.setState({openPicture: picture});\n    }\n\n    openAlbumDetails() {\n        this.setState({openedAlbum: true});\n    }\n\n    onCrossClick() {\n        this.setState({openPicture: null, openedAlbum: false});\n    }\n\n    deleteItem(picture) {\n        if (this.state.album.images.length == 1) {\n            this.setState({openedDialog: true});\n            return;\n        }\n\n        this.props.deleteFotoFromAlbum(picture._id);\n        const newPictures = this.state.album.images.filter(p => p._id != picture._id);\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        })\n        this.setState({album: newAlbum});\n    }\n\n    removeAlbum() {\n        this.props.deleteAlbum(this.state.album._id);\n        this.props.history.push('/');\n    }\n\n    changeState(obj) {\n        this.setState(obj);\n    }\n\n    saveFotoDescription(picture) {\n        const newPictures = [...this.state.album.images];\n        const editedPicture = this.state.album.images.find(p => p._id == picture._id);\n        if (this.pinput.value) editedPicture.name = this.pinput.value;\n        if (this.ptextarea.value) editedPicture.text = this.ptextarea.value;\n\n        this.props.saveFotoDescription(this.state.album._id, editedPicture);\n\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        });\n        this.setState({album: newAlbum, openPicture: null});\n    }\n\n    saveAlbumDescription() {\n        const editedAlbum = Object.assign({}, {...this.state.album});\n        if (this.ainput.value) editedAlbum.name = this.ainput.value;\n        if (this.atextarea.value) editedAlbum.description = this.atextarea.value;\n\n        this.props.saveAlbumDescription(editedAlbum);\n\n        this.setState({album: editedAlbum, openedAlbum: false});\n    }\n\n    uploadFile(file) {\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(downloadedFoto => {\n                if (isVideo(downloadedFoto.src)) {\n                    http.doPost(routesModule.routes.FOTO_ROUTE, {\n                        src: downloadedFoto.src,\n                        album: this.state.album._id\n                    }).then(result => {\n                        const newPictures = [...this.state.album.images];\n                        newPictures.push(result);\n                        const newAlbum = Object.assign({}, {\n                            ...this.state.album,\n                            images: newPictures,\n                        });\n\n                        this.setState({\n                            //imageDownloaded: null,\n                            album: newAlbum\n                        });\n                    }).catch(e => Alert.error(e.response.data.error, {}));\n                } else {\n                    this.setState({\n                        imageDownloaded: downloadedFoto.src\n                    });\n                }\n\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n\n    onImageLoad() {\n        this.setState({imageLoading: false, });\n    }\n\n    onImageError() {\n        Alert.error(\"Image for name {\" + this.state.album.images[0].name + \"} loading failed\", {});\n        this.setState({imageLoading: false});\n    }\n\n    loadImage(src) {\n        this.setState({imageLoadStarted: true});\n        const imageObj = new Image()\n        imageObj.onload = this.onImageLoad.bind(this);\n        imageObj.onerror = this.onImageError.bind(this);\n        imageObj.src = src;\n    }\n\n    renderEditAlbumCard() {\n        if(!this.state.imageLoadStarted) this.loadImage(this.state.album.images[0].src);\n        return <div className='edit_album_card' key=\"edit_album_card\">\n            {this.state.imageLoading ? <Loader type=\"ball-scale-multiple\"/> : isVideo(this.state.album.images[0].src)\n                ? <video className=\"album_image\"\n                         height={styles.picture_edit_height}\n                         width={styles.picture_edit_width}\n                         controls=\"controls\">\n                    <source src={this.state.album.images[0].src}/>\n                </video>\n                : <img className='album_image'\n                       src={this.state.album.images[0].src}/>}\n            <div className='album_name' onClick={() => this.openAlbumDetails()}>{this.state.album.name}</div>\n            <CrossIcon className='cross_icon' onClick={() => this.setState({openedDialog: true})}/>\n        </div>\n    }\n\n    renderImages() {\n        return this.state.album.images.sort((x, y) => x.order - y.order).map(p => <Card\n            key={p._id}\n            picture={p}\n            pictures={this.state.album.images}\n            openDetails={(p) => this.openDetails(p)}\n            deleteItem={(p) => this.deleteItem(p)}\n            replaceImage={(target) => this.replaceImage(target)}\n            openPicture={this.state.openPicture}\n            changeDragState={(obj) => this.changeState(obj)}\n            dragState={this.state}\n            updateOrder={(album) => this.props.saveItemsOrder(album)}\n            loadAlbum={() => this.loadAlbum()}\n        />)\n    }\n\n    renderFileInput() {\n        return !this.state.imageDownloaded && <FileInput className='edit_file_input'\n                                                         disabled={this.state.openPicture}\n                                                         label='Choose new foto'\n                                                         uploadFile={(file) => this.uploadFile(file)}\n            />\n    }\n\n    renderEditCanvas() {\n        return this.state.imageDownloaded && !isVideo(this.state.imageDownloaded) && <EditCanvas\n                image={this.state.imageDownloaded}\n                cleanImage={obj => this.changeState(obj)}\n                album={this.state.album}\n            />\n    }\n\n    renderChangeFotoTextInfoDialog() {\n        return this.state.openPicture &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter foto name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveFotoDescription(this.state.openPicture)}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.openPicture.name} ref={i => this.pinput = i}/>\n                    <textarea defaultValue={this.state.openPicture.text} ref={t => this.ptextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderChangeAlbumTextInfoDialog() {\n        return this.state.openedAlbum &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter album name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveAlbumDescription()}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.album.name} ref={i => this.ainput = i}/>\n                    <textarea defaultValue={this.state.album.description} ref={t => this.atextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderDeleteDialog() {\n        return this.state.openedDialog && <Dialog onClick={() => this.removeAlbum()}\n                                                  onClose={() => this.setState({openedDialog: false})}\n                                                  text=\"Do you really want to delete the album?\"/>\n    }\n\n\n    render() {\n        const {album, albumLoading} = this.state;\n        if(albumLoading) return <Loader type=\"ball-grid-pulse\" className='Data_loader'/>;\n        if (!album) return null;\n\n        return <React.Fragment>\n            {this.renderEditAlbumCard()}\n            {this.renderImages()}\n            {this.renderFileInput()}\n            {this.renderEditCanvas()}\n            {this.renderChangeFotoTextInfoDialog()}\n            {this.renderChangeAlbumTextInfoDialog()}\n            {this.renderDeleteDialog()}\n        </React.Fragment>;\n    }\n}\n\nexport default EditAlbum;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditAlbum.jsx","import React from 'react';\nimport './editAlbum.less';\nimport {CrossIcon, EditIcon} from \"../Icons\";\nimport {isVideo} from \"../../utils/index\";\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\nimport * as styles from \"../../constants/styles\";\nimport Alert from 'react-s-alert';\n\nclass Card extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.replaceEvent = 'replace';\n        this.state = {\n            imageLoading: true,\n            imageLoadStarted: false\n        }\n    }\n\n\n    componentWillReceiveProps() {\n        if (this.dragContainer && !this.replaceAttached) {\n            this.replaceAttached = true;\n            this.dragContainer.addEventListener(this.replaceEvent, e => this.replaceImage(e.target));\n            document.body.addEventListener('mouseup', e => this.onUpBody(e));\n        }\n    }\n\n    onUpBody(e) {\n        const elementAtPoint = document.elementFromPoint(e.clientX + window.scrollX, e.clientY + window.scrollY)\n            .parentElement;\n        if (!elementAtPoint.classList.contains('drag_container')) {\n            this.props.changeDragState({dragStarted: false, dragFrom: null, dragObj: null, dragFromEl: null});\n        }\n    }\n\n    replaceImage(target) {\n        const attr = target.getAttribute('imgid');\n        const picture = this.props.pictures.find(p => p._id == attr);\n\n        this.changePictureAndClear(picture);\n    }\n\n    onMouseDown(e, picture) {\n        e.preventDefault();\n\n        const target = e.target.parentElement;\n\n        const x = e.clientX + window.scrollX;\n        const y = e.clientY + window.scrollY;\n\n        const style = target.currentStyle || window.getComputedStyle(target);\n\n        const elStartLeft = parseInt(style.left, 10);\n        const elStartTop = parseInt(style.top, 10);\n        const dragObj = {\n            x, y, elStartLeft, elStartTop\n        }\n        target.style.zIndex = 10;\n        this.props.changeDragState({dragStarted: true, dragFrom: picture, dragObj, dragFromEl: target});\n        target.style.zIndex = 10;\n    }\n\n    onMouseMove(e, picture) {\n        e.preventDefault();\n        const {dragFrom, dragStarted, dragObj} = this.props.dragState;\n        const target = e.target.parentElement;\n        if (dragStarted && dragFrom == picture) {\n            const x = e.clientX + window.scrollX;\n            const y = e.clientY + window.scrollY;\n            target.style.top = (dragObj.elStartTop + y - dragObj.y) + 'px';\n            target.style.left = (dragObj.elStartLeft + x - dragObj.x) + 'px';\n        }\n    }\n\n    onMouseUp(e, picture) {\n        e.preventDefault();\n\n        const {dragFrom, dragFromEl} = this.props.dragState;\n        const target = e.target.parentElement;\n\n        if(!dragFromEl) {\n            return;\n        }\n\n        dragFromEl.style.top = '0px';\n        dragFromEl.style.left = '0px';\n\n        target.style.top = '0px';\n        target.style.left = '0px';\n\n        dragFromEl.style.zIndex = 0;\n\n        if (picture == dragFrom) {\n            const event = new Event(this.replaceEvent);\n            const elementAtPoint = document.elementFromPoint(e.clientX + window.scrollX, e.clientY + window.scrollY)\n                .parentElement;\n            if (elementAtPoint.classList.contains('drag_container')) {\n                elementAtPoint.dispatchEvent(event);\n            } else {\n                this.props.changeDragState({dragStarted: false, dragFrom: null, dragObj: null, dragFromEl: null});\n            }\n\n            return;\n        }\n\n        this.changePictureAndClear(picture);\n    }\n\n    changePictureAndClear(picture) {\n        const {dragFrom, album} = this.props.dragState;\n\n        const newPictures = [...album.images];\n\n        const dragToPicture = album.images.find(p => p._id == picture._id);\n       // editedPicture.order = prevOrder;\n        const dragFromPicture = album.images.find(p => p._id == dragFrom._id);\n\n        const prevOrder = dragFromPicture.order;\n        dragFromPicture.order = dragToPicture.order;\n        dragToPicture.order = prevOrder;\n\n        newPictures.sort((x, y) => x.order - y.order);\n\n        const newAlbum = Object.assign({}, {\n            ...album,\n            images: newPictures,\n        });\n\n        this.props.updateOrder(newAlbum);\n        this.props.changeDragState({dragStarted: false, dragFrom: null, dragObj: null, dragFromEl: null, album: newAlbum});\n    }\n\n    onImageLoad() {\n        this.setState({imageLoading: false});\n    }\n\n    onImageError() {\n        Alert.error(\"Image for name {\" + this.props.picture.name + \"} loading failed\", {});\n        this.setState({imageLoading: false});\n    }\n\n    loadImage(src) {\n        this.setState({imageLoadStarted: true});\n        const imageObj = new Image();\n        imageObj.onload = this.onImageLoad.bind(this);\n        imageObj.onerror = this.onImageError.bind(this);\n        imageObj.src = src;\n    }\n\n    render() {\n        const {picture, openPicture} = this.props;\n        const {imageLoading, imageLoadStarted} = this.state;\n        if (!imageLoadStarted && picture) this.loadImage(picture.src);\n        return openPicture\n            ? <div className='drag_container'\n                   imgid={picture._id}>\n                <img className='drag_image'\n                     src={picture.src}\n                     draggable={false}/>\n            </div>\n            : <div className='drag_container'\n                   ref={r => this.dragContainer = r}\n                   imgid={picture._id}\n                   draggable={true}\n                   onMouseDown={e => this.onMouseDown(e, picture)}\n                   onMouseUp={e => this.onMouseUp(e, picture)}\n                   onMouseMove={e => this.onMouseMove(e, picture)}>\n                {imageLoading ? <Loader type=\"ball-scale-multiple\"/> : isVideo(picture.src)\n                    ? <video height={styles.picture_edit_height}\n                             controls=\"controls\"\n                             className='drag_image'>\n                    <source src={picture.src}/>\n                </video>\n                    : <img className='drag_image' src={picture.src}/>}\n                <CrossIcon className='cross_icon' onClick={() => this.props.deleteItem(picture)}/>\n                <EditIcon className='edit_icon' onClick={() => this.props.openDetails(picture)}/>\n                <div className='text_description' onClick={() => this.props.openDetails(picture)}>{picture.name}</div>\n            </div>\n    }\n}\n\nexport default Card;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/Card.jsx","import React from 'react';\nimport {CrossIcon} from \"../Icons\";\nimport './dialog.less';\n\n\nclass Dialog extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n\n    render() {\n        return <div className=\"Dialog\">\n                <CrossIcon className=\"cross\" onClick={this.props.onClose}/>\n                <div className=\"Dialog_text\">{this.props.text}</div>\n                <button className=\"Dialog_ok_button\" onClick={this.props.onClick}>ok</button>\n            </div>\n    }\n}\n\nexport default Dialog;\n\n\n\n// WEBPACK FOOTER //\n// ./components/dialog/Dialog.jsx","import React from 'react';\nimport './editCanvas.less';\nimport {CrossIcon, RotateIcon, SaveIcon} from \"../Icons\";\nimport AvatarEditor from \"./ImageRotater\";\nimport * as styles from \"../../constants/styles\";\nconst routesModule = require('../../constants/routes');\nimport http from '../../HttpService';\nimport Alert from 'react-s-alert';\n\nclass EditCanvas extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            angle: 0,\n            width: parseInt(styles.picture_edit_width),\n            height: parseInt(styles.picture_edit_height),\n            imageLoading: true\n        }\n    }\n\n    getEditedImage() {\n        const {album, image} = this.props;\n        this.avatar.getImage().toBlob(img => {\n            let name = image.split('/');\n            name = name[name.length - 1];\n            const file = new File([img], name);\n\n            http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n                .then(downloadedFoto => {\n                    http.doPost(routesModule.routes.FOTO_ROUTE, {\n                        src: downloadedFoto.src,\n                        album: album._id\n                    }).then(result => {\n                            const newPictures = [...album.images];\n                            newPictures.push(result);\n                            const newAlbum = Object.assign({}, {\n                                ...album,\n                                images: newPictures,\n                            });\n\n                            this.props.cleanImage({\n                                imageDownloaded: null,\n                                album: newAlbum\n                            });\n                        })\n                        .catch(e => Alert.error(e.response.data.error, {}));;\n                })\n                .catch(e => Alert.error(e.response.data.error, {}));\n        });\n    }\n\n    rotateImage() {\n        const newAngle = this.state.angle + 90;\n        this.calculateParameters(newAngle);\n    }\n\n    calculateParameters(newAngle) {\n        const newState = {\n            height: parseInt(styles.picture_edit_height),\n            angle : newAngle\n        };\n        newState.width = newAngle % 180 == 0\n            ? parseInt(this.naturalWidth * this.state.height / this.naturalHeight)\n            : parseInt(this.naturalHeight * this.state.height / this.naturalWidth);\n        this.setState(newState);\n    }\n\n    onLoad(imgInfo) {\n        this.setState({imageLoading: false});\n        this.naturalWidth = imgInfo.naturalWidth;\n        this.naturalHeight = imgInfo.naturalHeight;\n\n        this.calculateParameters(this.state.angle);\n    }\n\n    onImageFailure() {\n        Alert.error(\"Image loading failed\", {});\n        this.setState({imageLoading: false});\n    }\n\n    closeImage() {\n        this.props.cleanImage({imageDownloaded: false});\n    }\n\n    render() {\n        const {image} = this.props;\n        const {angle, width, height, imageLoading} = this.state;\n        return <div className=\"Edit_canvas\">\n            <AvatarEditor\n                ref={ae => this.avatar = ae}\n                image={image}\n                rotate={angle}\n                width={width}\n                height={height}\n                onLoadSuccess={(imgInfo) => this.onLoad(imgInfo)}\n                onLoadFailure={() => this.onImageFailure()}\n                loading={imageLoading}\n            />\n            <RotateIcon className='rotate_icon' onClick={() => this.rotateImage()}/>\n            <SaveIcon className='save_icon' onClick={() => this.getEditedImage()}/>\n            <CrossIcon className='cross_icon' onClick={() => this.closeImage()}/>\n        </div>\n    }\n}\n\nexport default EditCanvas;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditCanvas.jsx","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"@-webkit-keyframes fade_in_preview_bottom {\\n  0% {\\n    background-color: transparent;\\n    border-bottom: 1rem solid transparent;\\n    overflow: hidden;\\n  }\\n  50% {\\n    background-color: transparent;\\n    border-bottom: 1rem solid transparent;\\n    overflow: visible;\\n  }\\n  100% {\\n    background-color: black;\\n    border-bottom: 1rem solid black;\\n    overflow: visible;\\n  }\\n}\\n@keyframes fade_in_preview_bottom {\\n  0% {\\n    background-color: transparent;\\n    border-bottom: 1rem solid transparent;\\n    overflow: hidden;\\n  }\\n  50% {\\n    background-color: transparent;\\n    border-bottom: 1rem solid transparent;\\n    overflow: visible;\\n  }\\n  100% {\\n    background-color: black;\\n    border-bottom: 1rem solid black;\\n    overflow: visible;\\n  }\\n}\\n@-webkit-keyframes fade_in_text_caption {\\n  0% {\\n    color: transparent;\\n  }\\n  50% {\\n    color: transparent;\\n  }\\n  100% {\\n    color: #ffffff;\\n  }\\n}\\n@keyframes fade_in_text_caption {\\n  0% {\\n    color: transparent;\\n  }\\n  50% {\\n    color: transparent;\\n  }\\n  100% {\\n    color: #ffffff;\\n  }\\n}\\n@-webkit-keyframes fade_in_text {\\n  0% {\\n    color: transparent;\\n  }\\n  50% {\\n    color: transparent;\\n  }\\n  100% {\\n    color: rgba(255, 255, 255, 0.7);\\n  }\\n}\\n@keyframes fade_in_text {\\n  0% {\\n    color: transparent;\\n  }\\n  50% {\\n    color: transparent;\\n  }\\n  100% {\\n    color: rgba(255, 255, 255, 0.7);\\n  }\\n}\\n@-webkit-keyframes fade_in_cross {\\n  0% {\\n    fill: transparent;\\n  }\\n  50% {\\n    fill: transparent;\\n  }\\n  100% {\\n    fill: rgba(0, 0, 0, 0.5);\\n  }\\n}\\n@keyframes fade_in_cross {\\n  0% {\\n    fill: transparent;\\n  }\\n  50% {\\n    fill: transparent;\\n  }\\n  100% {\\n    fill: rgba(0, 0, 0, 0.5);\\n  }\\n}\\n@-webkit-keyframes fade_in_arrow_container {\\n  0% {\\n    background-color: transparent;\\n  }\\n  50% {\\n    background-color: transparent;\\n  }\\n  100% {\\n    background-color: rgba(0, 0, 0, 0.5);\\n  }\\n}\\n@keyframes fade_in_arrow_container {\\n  0% {\\n    background-color: transparent;\\n  }\\n  50% {\\n    background-color: transparent;\\n  }\\n  100% {\\n    background-color: rgba(0, 0, 0, 0.5);\\n  }\\n}\\n@-webkit-keyframes fade_in_arrow {\\n  0% {\\n    fill: transparent;\\n  }\\n  50% {\\n    fill: transparent;\\n  }\\n  100% {\\n    fill: rgba(255, 255, 255, 0.2);\\n  }\\n}\\n@keyframes fade_in_arrow {\\n  0% {\\n    fill: transparent;\\n  }\\n  50% {\\n    fill: transparent;\\n  }\\n  100% {\\n    fill: rgba(255, 255, 255, 0.2);\\n  }\\n}\\n@-webkit-keyframes fade_in_counter {\\n  0% {\\n    background-color: transparent;\\n    color: transparent;\\n    box-shadow: 0.3rem 0.3rem 0.1rem 0.05rem transparent;\\n  }\\n  50% {\\n    background-color: transparent;\\n    color: transparent;\\n    box-shadow: 0.3rem 0.3rem 0.1rem 0.05rem transparent;\\n  }\\n  100% {\\n    background-color: rgba(0, 0, 0, 0.5);\\n    color: rgba(255, 255, 255, 0.7);\\n    box-shadow: 0.3rem 0.3rem 0.1rem 0.05rem rgba(0, 0, 0, 0.7);\\n  }\\n}\\n@keyframes fade_in_counter {\\n  0% {\\n    background-color: transparent;\\n    color: transparent;\\n    box-shadow: 0.3rem 0.3rem 0.1rem 0.05rem transparent;\\n  }\\n  50% {\\n    background-color: transparent;\\n    color: transparent;\\n    box-shadow: 0.3rem 0.3rem 0.1rem 0.05rem transparent;\\n  }\\n  100% {\\n    background-color: rgba(0, 0, 0, 0.5);\\n    color: rgba(255, 255, 255, 0.7);\\n    box-shadow: 0.3rem 0.3rem 0.1rem 0.05rem rgba(0, 0, 0, 0.7);\\n  }\\n}\\n@-webkit-keyframes fade_in_overlay {\\n  0% {\\n    background-color: transparent;\\n  }\\n  50% {\\n    background-color: transparent;\\n  }\\n  100% {\\n    background-color: rgba(0, 0, 0, 0.7);\\n  }\\n}\\n@keyframes fade_in_overlay {\\n  0% {\\n    background-color: transparent;\\n  }\\n  50% {\\n    background-color: transparent;\\n  }\\n  100% {\\n    background-color: rgba(0, 0, 0, 0.7);\\n  }\\n}\\n@-webkit-keyframes fade_in_scroll_track {\\n  0% {\\n    background-color: transparent;\\n  }\\n  50% {\\n    background-color: transparent;\\n  }\\n  100% {\\n    background-color: black;\\n  }\\n}\\n@keyframes fade_in_scroll_track {\\n  0% {\\n    background-color: transparent;\\n  }\\n  50% {\\n    background-color: transparent;\\n  }\\n  100% {\\n    background-color: black;\\n  }\\n}\\n@-webkit-keyframes fade_in_scroll {\\n  0% {\\n    background: transparent;\\n  }\\n  50% {\\n    background: transparent;\\n  }\\n  100% {\\n    background: linear-gradient(0deg, black, white);\\n  }\\n}\\n@keyframes fade_in_scroll {\\n  0% {\\n    background: transparent;\\n  }\\n  50% {\\n    background: transparent;\\n  }\\n  100% {\\n    background: linear-gradient(0deg, black, white);\\n  }\\n}\\n@-webkit-keyframes fade_out_preview_bottom {\\n  0% {\\n    background-color: black;\\n    border-bottom: 1rem solid black;\\n    overflow: visible;\\n  }\\n  50% {\\n    background-color: transparent;\\n    border-bottom: 1rem solid transparent;\\n    overflow: hidden;\\n  }\\n  100% {\\n    background-color: transparent;\\n    border-bottom: 1rem solid transparent;\\n    overflow: hidden;\\n  }\\n}\\n@keyframes fade_out_preview_bottom {\\n  0% {\\n    background-color: black;\\n    border-bottom: 1rem solid black;\\n    overflow: visible;\\n  }\\n  50% {\\n    background-color: transparent;\\n    border-bottom: 1rem solid transparent;\\n    overflow: hidden;\\n  }\\n  100% {\\n    background-color: transparent;\\n    border-bottom: 1rem solid transparent;\\n    overflow: hidden;\\n  }\\n}\\n@-webkit-keyframes fade_out_text_caption {\\n  0% {\\n    color: #ffffff;\\n  }\\n  50% {\\n    color: transparent;\\n  }\\n  100% {\\n    color: transparent;\\n  }\\n}\\n@keyframes fade_out_text_caption {\\n  0% {\\n    color: #ffffff;\\n  }\\n  50% {\\n    color: transparent;\\n  }\\n  100% {\\n    color: transparent;\\n  }\\n}\\n@-webkit-keyframes fade_out_text_desc {\\n  0% {\\n    color: rgba(255, 255, 255, 0.7);\\n  }\\n  50% {\\n    color: transparent;\\n  }\\n  100% {\\n    color: transparent;\\n  }\\n}\\n@keyframes fade_out_text_desc {\\n  0% {\\n    color: rgba(255, 255, 255, 0.7);\\n  }\\n  50% {\\n    color: transparent;\\n  }\\n  100% {\\n    color: transparent;\\n  }\\n}\\n@-webkit-keyframes fade_out_cross {\\n  0% {\\n    fill: rgba(0, 0, 0, 0.5);\\n  }\\n  50% {\\n    fill: transparent;\\n  }\\n  100% {\\n    fill: transparent;\\n  }\\n}\\n@keyframes fade_out_cross {\\n  0% {\\n    fill: rgba(0, 0, 0, 0.5);\\n  }\\n  50% {\\n    fill: transparent;\\n  }\\n  100% {\\n    fill: transparent;\\n  }\\n}\\n@-webkit-keyframes fade_out_arrow_container {\\n  0% {\\n    background-color: rgba(0, 0, 0, 0.5);\\n  }\\n  50% {\\n    background-color: transparent;\\n  }\\n  100% {\\n    background-color: transparent;\\n  }\\n}\\n@keyframes fade_out_arrow_container {\\n  0% {\\n    background-color: rgba(0, 0, 0, 0.5);\\n  }\\n  50% {\\n    background-color: transparent;\\n  }\\n  100% {\\n    background-color: transparent;\\n  }\\n}\\n@-webkit-keyframes fade_out_arrow {\\n  0% {\\n    fill: rgba(255, 255, 255, 0.2);\\n  }\\n  50% {\\n    fill: transparent;\\n  }\\n  100% {\\n    fill: transparent;\\n  }\\n}\\n@keyframes fade_out_arrow {\\n  0% {\\n    fill: rgba(255, 255, 255, 0.2);\\n  }\\n  50% {\\n    fill: transparent;\\n  }\\n  100% {\\n    fill: transparent;\\n  }\\n}\\n@-webkit-keyframes fade_out_counter {\\n  0% {\\n    background-color: rgba(0, 0, 0, 0.5);\\n    color: rgba(255, 255, 255, 0.7);\\n    box-shadow: 0.3rem 0.3rem 0.1rem 0.05rem rgba(0, 0, 0, 0.7);\\n  }\\n  50% {\\n    background-color: transparent;\\n    color: transparent;\\n    box-shadow: 0.3rem 0.3rem 0.1rem 0.05rem transparent;\\n  }\\n  100% {\\n    background-color: transparent;\\n    color: transparent;\\n    box-shadow: 0.3rem 0.3rem 0.1rem 0.05rem transparent;\\n  }\\n}\\n@keyframes fade_out_counter {\\n  0% {\\n    background-color: rgba(0, 0, 0, 0.5);\\n    color: rgba(255, 255, 255, 0.7);\\n    box-shadow: 0.3rem 0.3rem 0.1rem 0.05rem rgba(0, 0, 0, 0.7);\\n  }\\n  50% {\\n    background-color: transparent;\\n    color: transparent;\\n    box-shadow: 0.3rem 0.3rem 0.1rem 0.05rem transparent;\\n  }\\n  100% {\\n    background-color: transparent;\\n    color: transparent;\\n    box-shadow: 0.3rem 0.3rem 0.1rem 0.05rem transparent;\\n  }\\n}\\n@-webkit-keyframes fade_out_overlay {\\n  0% {\\n    background-color: rgba(0, 0, 0, 0.7);\\n  }\\n  50% {\\n    background-color: transparent;\\n  }\\n  100% {\\n    background-color: transparent;\\n  }\\n}\\n@keyframes fade_out_overlay {\\n  0% {\\n    background-color: rgba(0, 0, 0, 0.7);\\n  }\\n  50% {\\n    background-color: transparent;\\n  }\\n  100% {\\n    background-color: transparent;\\n  }\\n}\\n@-webkit-keyframes fade_out_scroll_track {\\n  0% {\\n    background-color: black;\\n  }\\n  50% {\\n    background-color: transparent;\\n  }\\n  100% {\\n    background-color: transparent;\\n  }\\n}\\n@keyframes fade_out_scroll_track {\\n  0% {\\n    background-color: black;\\n  }\\n  50% {\\n    background-color: transparent;\\n  }\\n  100% {\\n    background-color: transparent;\\n  }\\n}\\n@-webkit-keyframes fade_out_scroll {\\n  0% {\\n    background: linear-gradient(0deg, black, white);\\n  }\\n  50% {\\n    background: transparent;\\n  }\\n  100% {\\n    background: transparent;\\n  }\\n}\\n@keyframes fade_out_scroll {\\n  0% {\\n    background: linear-gradient(0deg, black, white);\\n  }\\n  50% {\\n    background: transparent;\\n  }\\n  100% {\\n    background: transparent;\\n  }\\n}\\n@-webkit-keyframes preview_overlay_remove {\\n  0% {\\n    background-color: #000000;\\n  }\\n  100% {\\n    z-index: 50;\\n    background-color: rgba(0, 0, 0, 0);\\n  }\\n}\\n@keyframes preview_overlay_remove {\\n  0% {\\n    background-color: #000000;\\n  }\\n  100% {\\n    z-index: 50;\\n    background-color: rgba(0, 0, 0, 0);\\n  }\\n}\\n.preview_overlay {\\n  display: block;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  z-index: 200;\\n  width: 100%;\\n  height: 100%;\\n  background-color: black;\\n  -webkit-animation-name: preview_overlay_remove;\\n          animation-name: preview_overlay_remove;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: linear;\\n          animation-timing-function: linear;\\n  -webkit-animation-fill-mode: forwards;\\n          animation-fill-mode: forwards;\\n}\\n.magnify_modal {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  z-index: 100;\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.7);\\n}\\n.magnify_modal_img_frame {\\n  height: 90%;\\n  border-radius: 0.3rem;\\n  background-color: black;\\n  border: 10px solid black;\\n}\\n.magnify_modal_img_frame_container {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  position: relative;\\n  height: 80%;\\n}\\n.magnify_modal_img_frame_container .counter_container {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  position: absolute;\\n  top: 1.5rem;\\n  width: 100%;\\n}\\n@media screen and (max-height: 600px), screen and (max-width: 600px) {\\n  .magnify_modal_img_frame_container .counter_container {\\n    top: 0.2rem;\\n  }\\n}\\n.magnify_modal_img_frame_container .counter_container .counter {\\n  padding: 0.2rem 1rem;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  border-radius: 1rem;\\n  box-shadow: 0.3rem 0.3rem 0.1rem 0.05rem rgba(0, 0, 0, 0.7);\\n  color: rgba(255, 255, 255, 0.7);\\n  font-size: 1rem;\\n}\\n@media screen and (max-height: 600px), screen and (max-width: 600px) {\\n  .magnify_modal_img_frame_container .counter_container .counter {\\n    font-size: 0.7rem;\\n    font-weight: 600;\\n  }\\n}\\n.magnify_modal_img_frame_container .cross,\\n.magnify_modal_img_frame_container .edit,\\n.magnify_modal_img_frame_container .earth {\\n  position: absolute;\\n  top: 1rem;\\n  z-index: 1;\\n  width: 2rem;\\n  height: 2rem;\\n  fill: white;\\n  background-color: rgba(0, 0, 0, 0.7);\\n  padding: 3px;\\n}\\n@media screen and (max-height: 600px), screen and (max-width: 600px) {\\n  .magnify_modal_img_frame_container .cross,\\n  .magnify_modal_img_frame_container .edit,\\n  .magnify_modal_img_frame_container .earth {\\n    width: 1rem;\\n    height: 1rem;\\n    fill: white;\\n    top: 0.2rem;\\n  }\\n}\\n.magnify_modal_img_frame_container .cross:hover,\\n.magnify_modal_img_frame_container .edit:hover,\\n.magnify_modal_img_frame_container .earth:hover {\\n  fill: #000000;\\n}\\n.magnify_modal_img_frame_container .cross {\\n  right: 1rem;\\n}\\n@media screen and (max-height: 600px), screen and (max-width: 600px) {\\n  .magnify_modal_img_frame_container .cross {\\n    right: 0.2rem;\\n  }\\n}\\n.magnify_modal_img_frame_container .edit {\\n  right: 3.5rem;\\n}\\n@media screen and (max-height: 600px), screen and (max-width: 600px) {\\n  .magnify_modal_img_frame_container .edit {\\n    right: 1.8rem;\\n  }\\n}\\n.magnify_modal_img_frame_container .earth {\\n  right: 5rem;\\n}\\n@media screen and (max-height: 600px), screen and (max-width: 600px) {\\n  .magnify_modal_img_frame_container .earth {\\n    right: 3.4rem;\\n  }\\n}\\n.magnify_modal_img_frame_container .left_arrow {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  position: absolute;\\n  top: 50%;\\n  left: 1rem;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  border-radius: 0.2rem;\\n  height: 5rem;\\n  z-index: 1;\\n}\\n@media screen and (max-height: 600px), screen and (max-width: 600px) {\\n  .magnify_modal_img_frame_container .left_arrow {\\n    height: 3rem;\\n  }\\n}\\n.magnify_modal_img_frame_container .left_arrow:hover {\\n  background-color: rgba(0, 0, 0, 0.7);\\n}\\n.magnify_modal_img_frame_container .left_arrow svg {\\n  width: 3rem;\\n  height: 3rem;\\n  fill: rgba(255, 255, 255, 0.2);\\n}\\n@media screen and (max-height: 600px), screen and (max-width: 600px) {\\n  .magnify_modal_img_frame_container .left_arrow svg {\\n    width: 1rem;\\n    height: 1rem;\\n    fill: rgba(255, 255, 255, 0.2);\\n  }\\n}\\n.magnify_modal_img_frame_container .left_arrow svg:hover {\\n  fill: #000000;\\n}\\n.magnify_modal_img_frame_container .right_arrow {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  position: absolute;\\n  top: 50%;\\n  right: 1rem;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  border-radius: 0.2rem;\\n  height: 5rem;\\n  z-index: 1;\\n}\\n@media screen and (max-height: 600px), screen and (max-width: 600px) {\\n  .magnify_modal_img_frame_container .right_arrow {\\n    height: 3rem;\\n  }\\n}\\n.magnify_modal_img_frame_container .right_arrow:hover {\\n  background-color: rgba(0, 0, 0, 0.7);\\n}\\n.magnify_modal_img_frame_container .right_arrow svg {\\n  width: 3rem;\\n  height: 3rem;\\n  fill: rgba(255, 255, 255, 0.2);\\n}\\n@media screen and (max-height: 600px), screen and (max-width: 600px) {\\n  .magnify_modal_img_frame_container .right_arrow svg {\\n    width: 1rem;\\n    height: 1rem;\\n    fill: rgba(255, 255, 255, 0.2);\\n  }\\n}\\n.magnify_modal_img_frame_container .right_arrow svg:hover {\\n  fill: #000000;\\n}\\n.magnify_modal_img_frame_container .image_preview {\\n  height: 100%;\\n  border-radius: 0.3rem;\\n  display: block;\\n}\\n.magnify_modal_img_frame_bottom {\\n  padding-left: calc(11px);\\n  height: 20%;\\n  box-sizing: border-box;\\n  color: #ffffff;\\n  padding-bottom: 1rem;\\n  padding-top: 1rem;\\n}\\n.magnify_modal_img_frame_bottom_caption {\\n  font-size: 4vh;\\n  padding-bottom: 1rem;\\n  box-sizing: border-box;\\n}\\n.magnify_modal_img_frame_bottom_text {\\n  font-style: italic;\\n  font-size: 2vh;\\n  color: rgba(255, 255, 255, 0.7);\\n}\\n.magnify_modal_img_frame_bottom_text.text_container .scroll_track {\\n  background-color: black;\\n  width: 6px;\\n}\\n.magnify_modal_img_frame_bottom_text.text_container .scroll_track .scroll {\\n  background: linear-gradient(0deg, black, white);\\n  width: 6px;\\n}\\n.magnify_modal.increase {\\n  -webkit-animation-name: fade_in_overlay;\\n          animation-name: fade_in_overlay;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.increase .magnify_modal_img_frame_bottom {\\n  -webkit-animation-name: fade_in_preview_bottom;\\n          animation-name: fade_in_preview_bottom;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.increase .magnify_modal_img_frame_bottom_caption {\\n  -webkit-animation-name: fade_in_text_caption;\\n          animation-name: fade_in_text_caption;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.increase .magnify_modal_img_frame_bottom_text {\\n  -webkit-animation-name: fade_in_text;\\n          animation-name: fade_in_text;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.increase .magnify_modal_img_frame_bottom_text.text_container .scroll_track {\\n  -webkit-animation-name: fade_in_scroll_track;\\n          animation-name: fade_in_scroll_track;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.increase .magnify_modal_img_frame_bottom_text.text_container .scroll_track .scroll {\\n  -webkit-animation-name: fade_in_scroll;\\n          animation-name: fade_in_scroll;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.increase .cross {\\n  -webkit-animation-name: fade_in_cross;\\n          animation-name: fade_in_cross;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.increase .edit {\\n  -webkit-animation-name: fade_in_cross;\\n          animation-name: fade_in_cross;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.increase .left_arrow,\\n.magnify_modal.increase .right_arrow {\\n  -webkit-animation-name: fade_in_arrow_container;\\n          animation-name: fade_in_arrow_container;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.increase .left_arrow svg,\\n.magnify_modal.increase .right_arrow svg {\\n  -webkit-animation-name: fade_in_arrow;\\n          animation-name: fade_in_arrow;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.increase .counter {\\n  -webkit-animation-name: fade_in_counter;\\n          animation-name: fade_in_counter;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.decrease {\\n  -webkit-animation-name: fade_out_overlay;\\n          animation-name: fade_out_overlay;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.decrease .cross {\\n  -webkit-animation-name: fade_out_cross;\\n          animation-name: fade_out_cross;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.decrease .edit {\\n  -webkit-animation-name: fade_out_cross;\\n          animation-name: fade_out_cross;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.decrease .left_arrow,\\n.magnify_modal.decrease .right_arrow {\\n  -webkit-animation-name: fade_out_arrow_container;\\n          animation-name: fade_out_arrow_container;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.decrease .left_arrow svg,\\n.magnify_modal.decrease .right_arrow svg {\\n  -webkit-animation-name: fade_out_arrow;\\n          animation-name: fade_out_arrow;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.decrease .counter {\\n  -webkit-animation-name: fade_out_counter;\\n          animation-name: fade_out_counter;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.decrease .magnify_modal_img_frame_bottom {\\n  -webkit-animation-name: fade_out_preview_bottom;\\n          animation-name: fade_out_preview_bottom;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.decrease .magnify_modal_img_frame_bottom_caption {\\n  -webkit-animation-name: fade_out_text_caption;\\n          animation-name: fade_out_text_caption;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.decrease .magnify_modal_img_frame_bottom_text {\\n  -webkit-animation-name: fade_out_text_desc;\\n          animation-name: fade_out_text_desc;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.decrease .magnify_modal_img_frame_bottom_text.text_container .scroll_track {\\n  -webkit-animation-name: fade_out_scroll_track;\\n          animation-name: fade_out_scroll_track;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n.magnify_modal.decrease .magnify_modal_img_frame_bottom_text.text_container .scroll_track .scroll {\\n  -webkit-animation-name: fade_out_scroll;\\n          animation-name: fade_out_scroll;\\n  -webkit-animation-duration: 2s;\\n          animation-duration: 2s;\\n  -webkit-animation-timing-function: ease;\\n          animation-timing-function: ease;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/autoprefixer-loader!./node_modules/less-loader/dist/cjs.js!./node_modules/js-to-styles-var-loader!./components/picture/preview.less\n// module id = 48\n// module chunks = 0","import React from 'react';\nimport {MagnifierIcon} from \"../Icons\";\nimport './fileInput.less';\n\nclass FileInput extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            file: null\n        }\n    }\n\n    onChange({target}) {\n        this.setState({\n            file: target.files[0]\n        })\n        this.props.uploadFile(target.files[0]);\n    }\n\n    render() {\n        const classNames = this.props.className\n            ? `file_input_wrapper ${this.props.className}`\n            : 'file_input_wrapper';\n        return <div className={classNames}>\n            <button>{this.props.label}</button>\n            <div className='file_input_area'>\n                <MagnifierIcon className=\"magnify_icon\"/>\n            </div>\n            <input type=\"file\" disabled={this.props.disabled || false}\n                   onChange={(e) => this.onChange(e)}/>\n        </div>\n    }\n}\n\nexport default FileInput;\n\n\n\n// WEBPACK FOOTER //\n// ./components/fileInput/FileInput.jsx","import styled from 'styled-components';\nimport LeftArrow from '../svg/left-arrow.svg';\nimport RightArrow from '../svg/right-arrow.svg';\nimport Magnifier from '../svg/magnifier.svg';\nimport Cross from '../svg/cancel.svg';\nimport Edit from '../svg/edit.svg';\nimport Save from '../svg/save-file-option.svg';\nimport Rotate from '../svg/rotate-option.svg';\nimport Earth from '../svg/grid-world.svg';\n\nconst Icon = `\n        width: 1rem;\n        height: 1rem;\n        fill: ${props => props.theme.text};\n        \n        &:hover {\n            cursor: pointer;\n            fill: ${props => props.theme.content};\n        }\n`\n\nexport const LeftArrowIcon = styled(LeftArrow)`\n  ${Icon}\n`\n\nexport const RightArrowIcon = styled(RightArrow)`\n  ${Icon}\n`\n\nexport const MagnifierIcon = styled(Magnifier)`\n   width: 3rem;\n   height: 3rem;\n   fill: rgba(255,255,255, 0.7);\n`\n\nexport const CrossIcon = styled(Cross)`\n   ${Icon}\n`\n\nexport const EditIcon = styled(Edit)`\n   ${Icon}\n`\n\nexport const SaveIcon = styled(Save)`\n   ${Icon}\n`\n\nexport const RotateIcon = styled(Rotate)`\n    ${Icon}\n`\n\nexport const EarthIcon = styled(Earth)`\n    ${Icon}\n`\n\n\n// WEBPACK FOOTER //\n// ./components/Icons.jsx"],"sourceRoot":""}