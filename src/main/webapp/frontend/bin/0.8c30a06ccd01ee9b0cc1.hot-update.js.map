{"version":3,"sources":["webpack:///./components/picture/Preview.jsx","webpack:///./components/picture/PreviewImageFrame.jsx"],"names":["BottomSection","styled","div","props","imageWidth","Modal","animationTime","Preview","React","Component","constructor","state","animate","setImageWidth","width","setState","clearAnimate","close","window","setTimeout","componentDidMount","render","images","src","PreviewImageFrame","img","current","find","currentIndex","indexOf","left","right","length","getImageContainerWidth","addEventListener","changeImageWidth","componentWillUnmount","removeEventListener","imageRect","getBoundingClientRect","style","currentStyle","getComputedStyle","componentDidUpdate","prevProps","prevState","onCrossClick","onArrowClick","arrow","node"],"mappings":"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","file":"0.8c30a06ccd01ee9b0cc1.hot-update.js","sourcesContent":["import React from \"react\";\nimport styled from 'styled-components';\nimport {CrossIcon, LeftArrowIcon, RightArrowIcon} from \"../Icons\";\nimport './preview.less';\nimport PreviewImageFrame from \"./PreviewImageFrame\";\n\nconst BottomSection = styled.div`\n   width: ${props => props.imageWidth};\n`\n\nconst Modal = styled.div`\n\n@keyframes increase {\n  0% {\n      height: 0;\n      width: 0;\n  }\n  50% {\n      height: 90%;\n      width: ${props => props.imageWidth};\n  }\n}\n\n&.increase {\n  \n   animation: fade_in_overlay ${props => props.animationTime}s ease;\n\n  .magnify_modal_img_frame {\n    animation: increase ${props => props.animationTime}s ease;\n  }\n  .cross {\n     animation: fade_in_cross ${props => props.animationTime}s ease;\n  }\n  .left_arrow, .right_arrow {\n     animation: fade_in_arrow_container ${props => props.animationTime}s ease;\n     \n     svg {\n          animation: fade_in_arrow ${props => props.animationTime}s ease;\n     }\n  }\n  .counter {\n     animation: fade_in_counter ${props => props.animationTime}s ease;\n  }\n  .magnify_modal_img_frame_bottom_caption {\n    animation: fade_in_text_caption ${props => props.animationTime}s ease;\n  }\n  .magnify_modal_img_frame_bottom_text {\n      animation: fade_in_text ${props => props.animationTime}s ease;\n  }\n   \n}\n\n@keyframes decrease {\n  50% {\n      height: 90%;\n      width: ${props => props.imageWidth};\n  }\n  100% {\n      height: 0;\n      width: 0;\n  }\n}\n\n\n&.decrease {\n\n  animation: fade_out_overlay ${props => props.animationTime}s ease;\n\n  .magnify_modal_img_frame {\n    animation: decrease ${props => props.animationTime}s ease;\n  }\n  .cross {\n     animation: fade_out_cross ${props => props.animationTime}s ease;\n  }\n  .left_arrow, .right_arrow {\n     animation: fade_out_arrow_container ${props => props.animationTime}s ease;\n     svg {\n          animation: fade_out_arrow ${props => props.animationTime}s ease;\n     }\n  }\n  .counter {\n     animation: fade_out_counter ${props => props.animationTime}s ease;\n  }\n  .magnify_modal_img_frame_bottom_caption {\n      animation: fade_out_text_caption ${props => props.animationTime}s ease;\n  }\n  .magnify_modal_img_frame_bottom_text {\n    animation: fade_out_text_desc ${props => props.animationTime}s ease;\n  }\n}\n`\n\n\n\nclass Preview extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.animationTime = 2;\n\n    this.state = {\n      imageWidth: 0,\n      animate: ''\n    };\n  }\n\n  setImageWidth(width) {\n    this.setState({\n      imageWidth: width,\n    });\n  }\n\n  clearAnimate() {\n    this.setState({\n      animate: ''\n    });\n  }\n\n  close() {\n    if (!(this.state.animate === 'decrease')) {\n      this.setState({\n        animate: 'decrease'\n      });\n      window.setTimeout(this.props.close, this.animationTime * 1000);\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      animate: 'increase'\n    });\n  }\n\n  render() {\n    const {animate, imageWidth} = this.state;\n    const {images, src} = this.props;\n\n    return (\n        <Modal className={`magnify_modal ${animate}`}\n               imageWidth={imageWidth}\n               animationTime={this.animationTime}>\n          <div className='magnify_modal_img_frame'>\n            <PreviewImageFrame src={src}\n                               images={images}\n                               setImageWidth={(width) => {this.setImageWidth(width)}}\n                               close={() => this.close()}\n                               clearAnimate={() => this.clearAnimate()}\n            />\n            <BottomSection className='magnify_modal_img_frame_bottom' imageWidth={imageWidth}>\n              <div className='magnify_modal_img_frame_bottom_caption'>Caption</div>\n              <div className='magnify_modal_img_frame_bottom_text'>Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason.</div>\n            </BottomSection>\n          </div>\n        </Modal>\n    );\n  }\n}\n\nexport default Preview;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Preview.jsx","import React from \"react\";\nimport {CrossIcon, LeftArrowIcon, RightArrowIcon} from \"../Icons\";\nimport \"./preview.less\";\n\nclass PreviewImageFrame extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.img = null;\n\n    const current = props.images.find(img => img === props.src);\n    const currentIndex = props.images.indexOf(current);\n\n    this.state = {\n      imageWidth: 0,\n      src: props.src,\n      left: currentIndex > 0,\n      right: currentIndex < (props.images.length - 1)\n    };\n  }\n\n  componentDidMount() {\n    this.props.setImageWidth(this.getImageContainerWidth());\n    window.addEventListener('resize', () => this.changeImageWidth());\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', () => this.changeImageWidth());\n  }\n\n  getImageContainerWidth() {\n    const img = this.img;\n    if (!img) return 0;\n    const imageRect = img.getBoundingClientRect();\n    const style = img.currentStyle || window.getComputedStyle(img);\n    //const margin = parseFloat(style.borderLeft) + parseFloat(style.borderRight);\n    return imageRect.width;\n  }\n\n  changeImageWidth() {\n    this.props.setImageWidth(this.getImageContainerWidth());\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.src != this.state.src) {\n      // in order to make sure width will be recalculated\n      window.setTimeout(() => this.changeImageWidth(), 10);\n    }\n  }\n\n  onCrossClick() {\n    this.props.close();\n  }\n\n  onArrowClick(arrow) {\n    const {images} = this.props;\n    const current = images.find(img => img === this.state.src);\n    const currentIndex = images.indexOf(current);\n\n    if (current && arrow === 'left' && currentIndex > 0) {\n      this.setState({\n        src: images[currentIndex - 1],\n        left: (currentIndex - 1) > 0,\n        right: (currentIndex - 1) < (images.length - 1)\n      });\n    }\n\n    if (current && arrow === 'right' && currentIndex < (images.length - 1)) {\n      this.setState({\n        src: images[currentIndex + 1],\n        left: (currentIndex + 1) > 0,\n        right: (currentIndex + 1) < (images.length - 1)\n      })\n    }\n\n    this.props.clearAnimate();\n\n  }\n\n  render() {\n    const {src, left, right} = this.state;\n    const {images} = this.props;\n\n    return (<div className='magnify_modal_img_frame_container'>\n        <CrossIcon className='cross' onClick={() => this.onCrossClick()}/>\n        {left && <div className='left_arrow'>\n          <LeftArrowIcon onClick={() => this.onArrowClick('left')}/>\n        </div>}\n        {right && <div className='right_arrow'>\n          <RightArrowIcon onClick={() => this.onArrowClick('right')}/>\n        </div>}\n        <div className='counter_container'>\n          <div className='counter'>{`${(images.indexOf(src) + 1)} of ${images.length}`}</div>\n        </div>\n        <img src={src} className='image_preview' ref={node => this.img = node}/>\n      </div>\n    );\n  }\n}\n\nexport default PreviewImageFrame;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/PreviewImageFrame.jsx"],"sourceRoot":""}