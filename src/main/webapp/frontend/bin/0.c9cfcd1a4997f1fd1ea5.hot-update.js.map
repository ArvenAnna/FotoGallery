{"version":3,"sources":["webpack:///./components/AlbumContainer.jsx","webpack:///./components/picture/Picture.jsx","webpack:///./components/picture/Preview.jsx","webpack:///./components/picture/PreviewImageFrame.jsx"],"names":["Container","styled","div","AlbumContainer","connect","store","albums","fetchAlbums","React","Component","constructor","props","render","map","album","images","id","Picture","state","magnify","valid","click","setState","animation","closePreview","mouseLeave","e","chooseAnimation","mouseEnter","fade","move","findSide","direction","clientRect","target","getClientRects","diffs","side","diff","Math","abs","clientX","left","right","clientY","top","bottom","minDiff","min","Array","from","el","find","handleBrokenImg","main","src","text","editRoute","albumId","BottomSection","imageWidth","increase","constants","preview_frame_color","decrease","Modal","animationTime","Preview","parseInt","animate","currentSlide","setImageWidth","width","clearAnimate","slide","close","window","setTimeout","componentDidMount","clearAnimation","renderThumb","style","thumbStyle","backgroundColor","height","calculateTextWidth","imgWidth","bottomSection","document","getElementsByClassName","currentStyle","getComputedStyle","paddings","parseFloat","paddingLeft","paddingRight","calculateTextHeight","caption","bottomSectionStyle","paddingTop","paddingBottom","captionStyle","s","r","name","PreviewImageFrame","img","current","currentIndex","indexOf","length","getImageContainerWidth","addEventListener","changeImageWidth","componentWillUnmount","removeEventListener","imageRect","getBoundingClientRect","componentDidUpdate","prevProps","prevState","onCrossClick","onArrowClick","arrow","edit","node"],"mappings":"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","file":"0.c9cfcd1a4997f1fd1ea5.hot-update.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport Picture from \"./picture/Picture\";\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums} from \"../actions/albumActions\";\n\n// overrides picture styles\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex-wrap: wrap;\n  padding: 2rem;\n\n  &>div {\n     padding: 1rem;\n        \n     .image {\n        height: 15rem;\n        width: 20rem;\n        object-fit: cover;\n      }\n\n      .image_wrapper .overlay .overlay_bottom_text {\n         font-size: 1rem;\n      }\n  }\n`\n@connect(store => ({\n    albums: store.albums\n}), {\n    fetchAlbums\n})\nclass AlbumContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props.fetchAlbums();\n    }\n\n    render() {\n        return (\n            <Container>\n                {this.props.albums.map(album => <Picture main={album.images[0]}\n                                                         key={album.id}\n                                                         albumId={album.id}\n                                                         animation='fade'\n                                                         editRoute='/edit'\n                                                         images={album.images}/>)}\n\n            </Container>\n        );\n    }\n}\n\nexport default AlbumContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/AlbumContainer.jsx","import React from \"react\";\nimport {MagnifierIcon} from \"../Icons\";\nimport \"./picture.less\";\nimport Preview from \"./Preview\";\n\nclass Picture extends React.Component {\n    // animation: fade, move\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            magnify: '',\n            valid: true\n        };\n    }\n\n    click() {\n        this.setState({\n            magnify: 'magnify',\n            animation: ''\n        });\n    };\n\n    closePreview() {\n        this.setState({\n            magnify: ''\n        });\n    }\n\n    mouseLeave(e) {\n        !this.state.magnify && this.chooseAnimation(e, 'fade_out', 'from');\n    };\n\n    mouseEnter(e) {\n        !this.state.magnify && this.chooseAnimation(e, 'fade_in', 'to');\n    };\n\n    chooseAnimation(e, fade, move) {\n        switch (this.props.animation) {\n            case 'fade':\n                this.setState({\n                    animation: fade\n                });\n                break;\n            case 'move':\n                this.setState({\n                    animation: this.findSide(e, move)\n                });\n        }\n    }\n\n    findSide(e, direction) {\n        const clientRect = e.target.getClientRects()[0];\n        const diffs = [\n            {\n                side: `move_${direction}_right`,\n                diff: Math.abs(e.clientX - clientRect.left)\n            }, {\n                side: `move_${direction}_left`,\n                diff: Math.abs(e.clientX - clientRect.right)\n            }, {\n                side: `move_${direction}_bottom`,\n                diff: Math.abs(e.clientY - clientRect.top)\n            }, {\n                side: `move_${direction}_top`,\n                diff: Math.abs(e.clientY - clientRect.bottom)\n            }\n        ];\n\n        const minDiff = Math.min(...Array.from(diffs, el => el.diff));\n        return diffs.find(el => el.diff == minDiff).side;\n    }\n\n    handleBrokenImg(e) {\n        this.setState({\n            valid: false\n        })\n    }\n\n    render() {\n        const {main} = this.props;\n        const {animation, magnify} = this.state;\n        return this.state.valid && <div>\n                <div\n                    className={`image_wrapper ${animation} ${magnify}`}\n                    onMouseLeave={(e) => this.mouseLeave(e)}\n                    onMouseEnter={(e) => this.mouseEnter(e)}\n                    onClick={(e) => this.click(e)}\n                >\n                    <img className='image'\n                         onError={(e) => this.handleBrokenImg(e)}\n                         src={main.src}\n                         alt=\"something wrong happens\"/>\n                    <div className={'overlay'}>\n                        <div className={`overlay_top`}>\n                            <MagnifierIcon/>\n                        </div>\n                        <div className={`overlay_bottom`}>\n                            <div className='overlay_bottom_text'>{main.text}</div>\n                        </div>\n                    </div>\n                </div>\n                {magnify &&\n                <Preview main={main}\n                         close={() => this.closePreview()}\n                         editRoute={this.props.editRoute}\n                         images={this.props.images}/>}\n                        albumId={this.props.albumId}\n            </div>;\n    }\n}\n\nexport default Picture;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Picture.jsx","import React from \"react\";\nimport styled, {keyframes} from 'styled-components';\n//import { Scrollbars } from 'react-custom-scrollbars';\nimport './preview.less';\nimport PreviewImageFrame from \"./PreviewImageFrame\";\nimport constants from './styles';\nimport Scroll from \"../scroll/Scroll\";\n\nconst BottomSection = styled.div`\n   width: ${props => props.imageWidth};\n`\n\nconst increase = (props) => keyframes`\n   0% {\n      height: 0;\n      width: 0;\n      background-color: transparent;\n  }\n  50% {\n      height: 90%;\n      width: ${props.imageWidth};\n      background-color: transparent;  \n  }\n  100% {\n      background-color: ${constants.preview_frame_color};\n  }\n`\n\nconst decrease = (props) => keyframes`\n   0% {\n      background-color: ${constants.preview_frame_color};\n   }\n   50% {\n      height: 90%;\n      width: ${props.imageWidth};\n      background-color: transparent;\n  }\n  100% {\n      height: 0;\n      width: 0;\n      background-color: transparent;\n  }\n`\n\nconst Modal = styled.div`\n&.increase {\n  .magnify_modal_img_frame {\n    animation: ${increase} ${props => props.animationTime}s ease;\n  }\n}\n\n&.decrease {\n  .magnify_modal_img_frame {\n    animation: ${decrease} ${props => props.animationTime}s ease;\n  }\n}\n`\n\nclass Preview extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.animationTime = parseInt(constants['preview_animation_duration']);\n\n        this.state = {\n            imageWidth: 0,\n            animate: '',\n            currentSlide: props.main\n        };\n    }\n\n    setImageWidth(width) {\n        this.setState({\n            imageWidth: width,\n        });\n    }\n\n    clearAnimate(slide) {\n        this.setState({\n            animate: '',\n            currentSlide: slide\n        });\n    }\n\n    close() {\n        if (!(this.state.animate === 'decrease')) {\n            this.setState({\n                animate: 'decrease'\n            });\n            window.setTimeout(this.props.close, this.animationTime * 1000);\n        }\n    }\n\n    componentDidMount() {\n        this.setState({\n            animate: 'increase'\n        });\n        window.setTimeout(() => this.clearAnimation(), this.animationTime * 1000);\n    }\n\n\n    clearAnimation(slide) {\n        this.setState({\n            animate: ''\n        });\n    }\n\n\n    renderThumb({style, ...props}) {\n        const thumbStyle = {\n            backgroundColor: 'white',\n            height: '70%'\n        };\n        return (\n            <div\n                style={{...style, ...thumbStyle}}\n                {...props}/>\n        );\n    }\n\n    calculateTextWidth(imgWidth) {\n        const bottomSection = document.getElementsByClassName('magnify_modal_img_frame_bottom')[0];\n        if(bottomSection){\n            const style = bottomSection.currentStyle || window.getComputedStyle(bottomSection);\n            const paddings = parseFloat(style.paddingLeft) + parseFloat(style.paddingRight);\n            return parseFloat(imgWidth) - paddings;\n        }\n        return 0;\n    }\n\n    calculateTextHeight() {\n        const bottomSection = document.getElementsByClassName('magnify_modal_img_frame_bottom')[0];\n\n        if(bottomSection && this.caption){\n            const bottomSectionStyle = bottomSection.currentStyle || window.getComputedStyle(bottomSection);\n            const paddings = parseFloat(bottomSectionStyle.paddingTop) + parseFloat(bottomSectionStyle.paddingBottom);\n\n            const captionStyle = this.caption.currentStyle || window.getComputedStyle(this.caption);\n            return parseFloat(bottomSectionStyle.height) - paddings - parseFloat(captionStyle.height);\n        }\n        return 0;\n    }\n\n    render() {\n        const {animate, imageWidth} = this.state;\n        const {images, main} = this.props;\n\n        return (\n            <Modal className={`magnify_modal ${animate}`}\n                   imageWidth={imageWidth}\n                   animationTime={this.animationTime}>\n                <div className='magnify_modal_img_frame'>\n                    <PreviewImageFrame main={main}\n                                       images={images}\n                                       editRoute={this.props.editRoute}\n                                       setImageWidth={(width) => {\n                                           this.setImageWidth(width)\n                                       }}\n                                       close={() => this.close()}\n                                       clearAnimate={(s) => this.clearAnimate(s)}\n                                       albumId={this.props.albumId}\n                    />\n\n                    <BottomSection className='magnify_modal_img_frame_bottom'\n                                   imageWidth={imageWidth}>\n\n                        <div className='magnify_modal_img_frame_bottom_caption' ref={r => this.caption = r }>{this.state.currentSlide.name}</div>\n\n                        <Scroll height={this.calculateTextHeight()}\n                                width={this.calculateTextWidth(imageWidth)}\n                                className='magnify_modal_img_frame_bottom_text'\n                                progress={true}>\n                            <div>{this.state.currentSlide.text}</div>\n                        </Scroll>\n\n                    </BottomSection>\n\n                </div>\n            </Modal>\n        );\n    }\n}\n\nexport default Preview;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Preview.jsx","import React from \"react\";\nimport {CrossIcon, EditIcon, LeftArrowIcon, RightArrowIcon} from \"../Icons\";\nimport \"./preview.less\";\nimport {Link} from \"react-router-dom\";\n\nclass PreviewImageFrame extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.img = null;\n\n    const current = props.images.find(img => img === props.src);\n    const currentIndex = props.images.indexOf(current);\n\n    this.state = {\n      imageWidth: 0,\n      main: props.main,\n      left: currentIndex > 0,\n      right: currentIndex < (props.images.length - 1)\n    };\n  }\n\n  componentDidMount() {\n    this.props.setImageWidth(this.getImageContainerWidth());\n    window.addEventListener('resize', () => this.changeImageWidth());\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', () => this.changeImageWidth());\n  }\n\n  getImageContainerWidth() {\n    const img = this.img;\n    if (!img) return 0;\n    const imageRect = img.getBoundingClientRect();\n    return imageRect.width;\n  }\n\n  changeImageWidth() {\n    this.props.setImageWidth(this.getImageContainerWidth());\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.main != this.state.main) {\n      // in order to make sure width will be recalculated\n      window.setTimeout(() => this.changeImageWidth(), 100);\n    }\n  }\n\n  onCrossClick() {\n    this.props.close();\n  }\n\n  onArrowClick(arrow) {\n    const {images} = this.props;\n    //const current = images.find(img => img === this.state.main);\n    const currentIndex = images.indexOf(this.state.main);\n    let main;\n\n    if (arrow === 'left' && currentIndex > 0) {\n      main = images[currentIndex - 1];\n      this.setState({\n        main,\n        left: (currentIndex - 1) > 0,\n        right: (currentIndex - 1) < (images.length - 1)\n      });\n    }\n\n    if (arrow === 'right' && currentIndex < (images.length - 1)) {\n        main = images[currentIndex + 1];\n        this.setState({\n        main,\n        left: (currentIndex + 1) > 0,\n        right: (currentIndex + 1) < (images.length - 1)\n      })\n    }\n\n    this.props.clearAnimate(main);\n  }\n\n  edit() {\n      return this.props.editRoute + '/' + this.props.albumId;\n  }\n\n  render() {\n    const {main, left, right} = this.state;\n    const {images, editRoute} = this.props;\n\n    return (<div className='magnify_modal_img_frame_container'>\n        <CrossIcon className='cross' onClick={() => this.onCrossClick()}/>\n            {editRoute && <Link to={this.edit()}><EditIcon className='edit'/></Link>}\n        {left && <div className='left_arrow'>\n          <LeftArrowIcon onClick={() => this.onArrowClick('left')}/>\n        </div>}\n        {right && <div className='right_arrow'>\n          <RightArrowIcon onClick={() => this.onArrowClick('right')}/>\n        </div>}\n        <div className='counter_container'>\n          <div className='counter'>{`${(images.indexOf(main) + 1)} of ${images.length}`}</div>\n        </div>\n        <img src={main.src} className='image_preview' ref={node => this.img = node}/>\n      </div>\n    );\n  }\n}\n\nexport default PreviewImageFrame;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/PreviewImageFrame.jsx"],"sourceRoot":""}