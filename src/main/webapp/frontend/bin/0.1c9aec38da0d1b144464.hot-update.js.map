{"version":3,"sources":["webpack:///./components/AlbumContainer.jsx","webpack:///./reducers/AlbumReducer.js","webpack:///./actions/albumActions.js","webpack:///./constants/routes.js"],"names":["AlbumContainer","connect","store","albums","isLoadingAlbums","fetchAlbums","React","Component","constructor","props","perPages","handlePageClick","data","selected","offset","Math","ceil","perPage","render","pictures","map","album","_id","pageCount","albumReducer","state","action","type","sortedAlbums","forEach","images","sort","x","y","order","loaderReducer","countReducer","AlbumReducer","routesModule","require","albumsRequest","REQ_ALBUMS","setAlbums","dispatch","http","doGet","routes","GET_ALBUMS_PAGINATE","then","result","catch","e","Alert","error","response","fetchAlbumsBySearch","search","GET_ALBUMS_SEARCH","deleteFotoFromAlbum","id","doDelete","DELETE_FOTO","success","deleteAlbum","DELETE_ALBUM","saveFotoDescription","image","doPut","UPDATE_FOTO","saveAlbumDescription","ALBUM_ROUTE","saveItemsOrder","UPDATE_ITEMS_ORDER","createAlbum","doPost","apiPrefix","GET_ALBUMS","GET_ALBUM","FOTO_ROUTE","UPLOAD_FOTO","exports"],"mappings":"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","file":"0.1c9aec38da0d1b144464.hot-update.js","sourcesContent":["import React from 'react';\nimport Picture from \"./picture/Picture\";\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums} from \"../actions/albumActions\";\nimport Loader from 'react-loaders';\nimport './albumContainer.less';\nimport 'loaders.css/src/animations/ball-grid-pulse.scss';\nimport ReactPaginate from 'react-paginate';\n\n@connect(store => ({\n    albums: store.albums,\n    isLoadingAlbums: store.isLoadingAlbums\n}), {\n    fetchAlbums\n})\nclass AlbumContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.perPages = 3;\n        this.props.fetchAlbums();\n    }\n\n    handlePageClick(data) {\n        let selected = data.selected;\n        let offset = Math.ceil(selected * this.perPage);\n        this.props.fetchAlbums();\n    }\n\n\n    render() {\n        if(!this.props.albums) return <Loader type=\"ball-grid-pulse\" className='Data_loader'/>;\n        const pictures = this.props.albums.map(album => <Picture key={album._id}\n                                                                 animation='fade'\n                                                                 album={album}/>);\n        return <React.Fragment>\n            {pictures}\n            <div key=\"paginate\" className=\"pagination_container\"><ReactPaginate\n                           previousLabel={\"previous\"}\n                           nextLabel={\"next\"}\n                           breakLabel={<a href=\"\">...</a>}\n                           breakClassName={\"break-me\"}\n                           pageCount={this.pageCount}\n                           marginPagesDisplayed={2}\n                           pageRangeDisplayed={5}\n                           onPageChange={(data) => this.handlePageClick(data)}\n                           containerClassName={\"pagination\"}\n                           subContainerClassName={\"pages pagination\"}\n                           activeClassName={\"active\"}/></div>\n        </React.Fragment>;\n    }\n}\n\nexport default AlbumContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/AlbumContainer.jsx","import {REQ_ALBUMS, REQ_ALBUMS_ERROR, SET_ALBUMS} from \"../constants/ActionTypes\";\n\nconst albums = [];\nconst isLoadingAlbums = false;\n\nconst albumReducer = (state = albums, action) => {\n    switch (action.type) {\n        case SET_ALBUMS:\n            const sortedAlbums = action.albums;\n            sortedAlbums.forEach(album => {\n                album.images.sort((x, y) => x.order - y.order);\n            });\n            return sortedAlbums;\n        default:\n            return state;\n    }\n}\n\nconst loaderReducer = (state = isLoadingAlbums, action) => {\n    switch (action.type) {\n        case REQ_ALBUMS:\n            return true;\n        case SET_ALBUMS:\n            return false;\n        case REQ_ALBUMS_ERROR:\n            return false;\n        default:\n            return state;\n    }\n}\n\nconst countReducer = (state = 0, action) => {\n    switch (action.type) {\n        case SET_ALBUMS:\n            return false;\n        case REQ_ALBUMS_ERROR:\n            return false;\n        default:\n            return state;\n    }\n}\n\nconst AlbumReducer = {\n    albums: albumReducer,\n    isLoadingAlbums: loaderReducer\n}\n\nexport default AlbumReducer;\n\n\n// WEBPACK FOOTER //\n// ./reducers/AlbumReducer.js","import * as types from '../constants/ActionTypes';\nimport http from '../HttpService';\nconst routesModule = require('../constants/routes');\nimport Alert from 'react-s-alert';\n\nexport function albumsRequest() {\n    return {\n        type: types.REQ_ALBUMS\n    };\n}\n\nexport function setAlbums(albums) {\n    return {\n        type: types.SET_ALBUMS,\n        albums\n    };\n}\n\nexport function fetchAlbums(offset, perPage) {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS_PAGINATE(offset, perPage))\n            .then(result => dispatch(setAlbums(result)))\n            .catch(e => {\n                Alert.error(e.response.data.error, {});\n                dispatch({type: types.REQ_ALBUMS_ERROR});\n            });\n    }\n}\n\nexport function fetchAlbumsBySearch(search) {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS_SEARCH(search))\n            .then(result => {\n                dispatch(setAlbums(result));\n                dispatch({type: types.REQ_ALBUMS_ERROR});\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\n// export function deleteFotoRequest() {\n//     return {\n//         type: types.REQ_ALBUMS\n//     };\n// }\n\nexport function deleteFotoFromAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_FOTO(id))\n            .then(result => Alert.success('Album deleted', {}))\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function deleteAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_ALBUM(id))\n            .then(result => dispatch(fetchAlbums()))\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\nexport function saveFotoDescription(album, image) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_FOTO(album), image)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveAlbumDescription(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.ALBUM_ROUTE, album)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveItemsOrder(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_ITEMS_ORDER, album)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function createAlbum(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPost(routesModule.routes.ALBUM_ROUTE, album)\n            .then(result => {\n                Alert.success('Album created', {});\n                dispatch(fetchAlbums());\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./actions/albumActions.js","const apiPrefix = '/api/';\n\nconst routes = {\n    GET_ALBUMS: `${apiPrefix}albums`,\n    GET_ALBUMS_PAGINATE: (offset, perPage) => `${apiPrefix}albums?offset=${offset}&pePage=${perPage}`,\n    GET_ALBUMS_SEARCH: (search) => `${apiPrefix}albums?search=${search}`,\n\n    ALBUM_ROUTE: `${apiPrefix}album`,\n    GET_ALBUM: (id) => `${apiPrefix}album?id=${id}`,\n    DELETE_ALBUM : (id) => `${apiPrefix}album?id=${id}`,\n    UPDATE_ITEMS_ORDER: `${apiPrefix}album/items`,\n\n    FOTO_ROUTE: `${apiPrefix}foto`,\n    DELETE_FOTO: (id) => `${apiPrefix}foto?id=${id}`,\n    UPDATE_FOTO: (album) => `${apiPrefix}foto?album=${album}`,\n\n    UPLOAD_FOTO: `${apiPrefix}upload`\n};\n\nexports.routes = routes;\n\n\n\n\n// WEBPACK FOOTER //\n// ./constants/routes.js"],"sourceRoot":""}