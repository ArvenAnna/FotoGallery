{"version":3,"sources":["webpack:///./components/picture/Preview.jsx"],"names":["BottomSection","styled","div","props","imageWidth","increase","constants","preview_frame_color","decrease","Modal","animationTime","Preview","React","Component","constructor","parseInt","state","animate","currentSlide","main","setImageWidth","width","setState","clearAnimate","slide","close","clearAnimation","calculateTextWidth","imgWidth","bottomSection","document","getElementsByClassName","style","currentStyle","window","getComputedStyle","paddings","parseFloat","paddingLeft","paddingRight","calculateTextHeight","caption","bottomSectionStyle","paddingTop","paddingBottom","captionStyle","height","render","images","editRoute","s","r","name","text"],"mappings":"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","file":"0.c806bfc407459f427b4f.hot-update.js","sourcesContent":["import React from \"react\";\nimport styled, {keyframes} from 'styled-components';\n//import { Scrollbars } from 'react-custom-scrollbars';\nimport './preview.less';\nimport PreviewImageFrame from \"./PreviewImageFrame\";\nimport constants from '../../constants/styles';\nimport Scroll from \"../scroll/Scroll\";\n\nconst BottomSection = styled.div`\n   width: ${props => props.imageWidth};\n`\n\nconst increase = (props) => keyframes`\n   0% {\n      height: 0;\n      width: 0;\n      background-color: transparent;\n  }\n  50% {\n      height: 90%;\n      width: ${props.imageWidth};\n      background-color: transparent;  \n  }\n  100% {\n      background-color: ${constants.preview_frame_color};\n  }\n`\n\nconst decrease = (props) => keyframes`\n   0% {\n      background-color: ${constants.preview_frame_color};\n   }\n   50% {\n      height: 90%;\n      width: ${props.imageWidth};\n      background-color: transparent;\n  }\n  100% {\n      height: 0;\n      width: 0;\n      background-color: transparent;\n  }\n`\n\nconst Modal = styled.div`\n&.increase {\n  .magnify_modal_img_frame {\n    animation: ${increase} ${props => props.animationTime}s ease;\n  }\n}\n\n&.decrease {\n  .magnify_modal_img_frame {\n    animation: ${decrease} ${props => props.animationTime}s ease;\n  }\n}\n`\n\nclass Preview extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.animationTime = parseInt(constants['preview_animation_duration']);\n\n        this.state = {\n            imageWidth: 0,\n            animate: '',\n            currentSlide: props.main\n        };\n    }\n\n    setImageWidth(width) {\n        this.setState({\n            imageWidth: width,\n        });\n    }\n\n    clearAnimate(slide) {\n        this.setState({\n            animate: '',\n            currentSlide: slide\n        });\n    }\n\n    close() {\n        this.props.close();\n    }\n\n    clearAnimation(slide) {\n        this.setState({\n            animate: ''\n        });\n    }\n\n\n    calculateTextWidth(imgWidth) {\n        const bottomSection = document.getElementsByClassName('magnify_modal_img_frame_bottom')[0];\n        if(bottomSection){\n            const style = bottomSection.currentStyle || window.getComputedStyle(bottomSection);\n            const paddings = parseFloat(style.paddingLeft) + parseFloat(style.paddingRight);\n            return parseFloat(imgWidth) - paddings;\n        }\n        return 0;\n    }\n\n    calculateTextHeight() {\n        const bottomSection = document.getElementsByClassName('magnify_modal_img_frame_bottom')[0];\n\n        if(bottomSection && this.caption){\n            const bottomSectionStyle = bottomSection.currentStyle || window.getComputedStyle(bottomSection);\n            const paddings = parseFloat(bottomSectionStyle.paddingTop) + parseFloat(bottomSectionStyle.paddingBottom);\n\n            const captionStyle = this.caption.currentStyle || window.getComputedStyle(this.caption);\n            return parseFloat(bottomSectionStyle.height) - paddings - parseFloat(captionStyle.height);\n        }\n        return 0;\n    }\n\n    render() {\n        const {animate, imageWidth} = this.state;\n        const {images, main} = this.props;\n\n        return (\n            <Modal className={`magnify_modal`}\n                   imageWidth={imageWidth}\n                   animationTime={this.animationTime}>\n                <div className={`magnify_modal_img_frame`}>\n                    <PreviewImageFrame main={main}\n                                       images={images}\n                                       editRoute={this.props.editRoute}\n                                       setImageWidth={(width) => {\n                                           this.setImageWidth(width)\n                                       }}\n                                       close={() => this.close()}\n                                       clearAnimate={(s) => this.clearAnimate(s)}\n                    />\n\n                    <BottomSection className='magnify_modal_img_frame_bottom'\n                                   imageWidth={imageWidth}>\n\n                        <div className='magnify_modal_img_frame_bottom_caption' ref={r => this.caption = r }>{this.state.currentSlide.name}</div>\n\n                        <Scroll height={this.calculateTextHeight()}\n                                width={this.calculateTextWidth(imageWidth)}\n                                className='magnify_modal_img_frame_bottom_text'\n                                progress={true}>\n                            <div>{this.state.currentSlide.text}</div>\n                        </Scroll>\n\n                    </BottomSection>\n\n                </div>\n            </Modal>\n        );\n    }\n}\n\nexport default Preview;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Preview.jsx"],"sourceRoot":""}