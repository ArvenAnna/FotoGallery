{"version":3,"sources":["webpack:///./components/Header.jsx","webpack:///./components/newAlbum/AddNewAlbum.jsx","webpack:///./components/AlbumContainer.jsx","webpack:///./components/picture/GMap.js","webpack:///./components/editAlbum/EditAlbum.jsx","webpack:///./actions/albumActions.js"],"names":["Header","connect","store","fetchAlbumsBySearch","fetchAlbums","React","Component","onEnter","e","key","target","value","props","history","push","render","createAlbum","routesModule","require","Label","styled","span","AddNewAlbum","constructor","modal","state","height","name","description","src","fileUploading","componentDidMount","setTimeout","scrollbars","forceUpdate","calculateModalHeight","w","window","d","document","documentElement","g","getElementsByTagName","y","innerHeight","clientHeight","modalStyle","currentStyle","getComputedStyle","Math","min","parseInt","setState","uploadFile","file","http","sendFile","routes","UPLOAD_FOTO","then","id","catch","closeModal","r","isVideo","AlbumContainer","albums","isLoadingAlbums","itemCount","handlePageClick","data","selected","offset","ceil","pictures","map","album","_id","pagesCount","GMap","saveFotoInformation","selectedPlace","currentLocation","foto","location","navigator","geolocation","getCurrentPosition","pos","coords","lat","latitude","lng","longitude","onCrossClick","close","onMarkerClick","marker","console","dir","onInfoWindowClose","log","onMapClicked","getCenter","fotoLocation","google","a","b","c","GoogleApiWrapper","apiKey","EditAlbum","deleteFotoFromAlbum","saveAlbumDescription","deleteAlbum","saveItemsOrder","dragStarted","dragFrom","dragFromEl","dragObj","openPicture","openedAlbum","openedDialog","imageDownloaded","imageLoading","imageLoadStarted","albumLoading","loadAlbum","doGet","GET_ALBUM","match","params","result","images","sort","x","order","forEach","image","Date","toISOString","Alert","error","response","openDetails","picture","openAlbumDetails","deleteItem","length","newPictures","filter","p","newAlbum","Object","assign","removeAlbum","changeState","obj","saveFotoDescription","editedPicture","find","pinput","ptextarea","text","editedAlbum","ainput","atextarea","downloadedFoto","doPost","FOTO_ROUTE","onImageLoad","onImageError","loadImage","imageObj","Image","onload","bind","onerror","renderEditAlbumCard","renderImages","replaceImage","renderFileInput","renderEditCanvas","renderChangeFotoTextInfoDialog","i","t","renderChangeAlbumTextInfoDialog","renderDeleteDialog","PAGE_ITEMS","albumsRequest","type","REQ_ALBUMS","setAlbums","perPage","pagesOffset","itemsPerPage","dispatch","GET_ALBUMS_PAGINATE","search","GET_ALBUMS_SEARCH","doDelete","DELETE_FOTO","success","DELETE_ALBUM","doPut","ALBUM_ROUTE","UPDATE_ITEMS_ORDER"],"mappings":"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","file":"0.2e8f9acd34f648fa2d7b.hot-update.js","sourcesContent":["import React from 'react';\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums, fetchAlbumsBySearch} from \"../actions/albumActions\";\nimport withRouter from \"react-router-dom/es/withRouter\";\nimport {NavLink} from 'react-router-dom';\n\n@withRouter\n@connect(store => ({}), {\n    fetchAlbumsBySearch,\n    fetchAlbums\n})\nclass Header extends React.Component {\n\n    onEnter(e) {\n        if (e.key == \"Enter\") {\n            if(e.target.value) this.props.fetchAlbumsBySearch(e.target.value);\n            else this.props.fetchAlbums();\n            this.props.history.push('/');\n        }\n    }\n\n    render() {\n        return (\n                [<div key=\"header_menu\" className=\"header_menu\">\n                    <div className=\"menu_item\" onClick={this.props.createAlbum}>new album</div>\n                    <div className=\"menu_item\"><NavLink to='/'>album's list</NavLink></div>\n                </div>,\n                <div className=\"search_menu\" key=\"search\">Search: <input className=\"search_input\" defaultValue=''\n                    onKeyPress={(e) => this.onEnter(e)}/>\n                </div>]\n        );\n    }\n}\n\nexport default Header;\n\n\n// WEBPACK FOOTER //\n// ./components/Header.jsx","import React from 'react';\nimport styled from 'styled-components';\nimport {CrossIcon} from \"../Icons\";\nimport FileInput from \"../fileInput/FileInput\";\nimport './addNewAlbum.less';\nimport connect from \"react-redux/es/connect/connect\";\nimport {isVideo} from \"../../utils/index\";\nimport {Scrollbars} from \"react-custom-scrollbars\";\nconst routesModule = require('../../constants/routes');\nimport http from '../../HttpService';\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\nimport {\n    createAlbum\n} from \"../../actions/albumActions\";\n\nconst Label = styled.span`\n  width: 100%;\n  margin-bottom: 0.25rem;\n`\n\n@connect(store => ({}), {\n    createAlbum\n})\nclass AddNewAlbum extends React.Component {\n    constructor(props) {\n        super(props);\n        this.modal = null;\n        this.state = {\n            height: '100%',\n            name: '',\n            description: '',\n            src: null,\n            fileUploading: false\n        }\n    }\n\n    componentDidMount() {\n        setTimeout(() => this.scrollbars.forceUpdate(), 100);\n\n        // window.addEventListener('resize', () => this.calculateModalHeight())\n        this.calculateModalHeight();\n    }\n\n    calculateModalHeight() {\n        var w = window,\n            d = document,\n            e = d.documentElement,\n            g = d.getElementsByTagName('body')[0],\n            y = w.innerHeight || e.clientHeight || g.clientHeight;\n\n        if (this.modal) {\n            const modalStyle = this.modal.currentStyle || window.getComputedStyle(this.modal);\n            const height = Math.min(parseInt(y), parseInt(modalStyle.height)) + 'px';\n            this.setState({\n                height\n            });\n        }\n    }\n\n    uploadFile(file) {\n        this.setState({fileUploading: true});\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(id => {\n                this.setState({src: id.src, fileUploading: false});\n            })\n            .catch(e => this.setState({fileUploading: false}));\n    }\n\n    createAlbum() {\n        const {name, description, src} = this.state;\n        if (name && description && src) {\n            this.props.createAlbum({\n                name, description, src\n            });\n            this.props.closeModal();\n        }\n\n    }\n\n    render() {\n        const {name, description, src, fileUploading, height} = this.state;\n\n        return <div className='add_album'>\n            <Scrollbars\n                hideTracksWhenNotNeeded={true}\n                className=\"scroll_bar\"\n                // renderTrackVertical={({ style, ...props }) =>\n                        //     <div {...props} style={{ ...style, backgroundColor: 'blue' }}/>}\n                         // renderTrackVertical={props => <div {...props} className=\"track-vertical\"/>}\n                         // renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}\n                        ref={(scrollbars) => this.scrollbars = scrollbars}\n            >\n            <div className='add_album_modal' ref={r => this.modal = r}>\n\n                <CrossIcon className=\"cross_icon\" onClick={this.props.closeModal}/>\n                <Label>Name</Label>\n                <input value={name} onChange={(e) => this.setState({name: e.target.value})}/>\n                <Label>Title image:</Label>\n                {fileUploading\n                    ? <Loader type=\"ball-scale-multiple\"/>\n                    : src\n                    ? (isVideo(src) ? <video controls=\"controls\"><source src={src}/></video> : <img src={src}/>)\n                    :\n                    <FileInput label='Choose main foto'\n                               uploadFile={(file) => this.uploadFile(file)}/>}\n                <Label>Description</Label>\n                <textarea value={description} onChange={(e) => this.setState({description: e.target.value})}/>\n                {src && !isVideo(src) && <div className=\"warning\">You will be able to rotate your foto in the edit mode after album creation.</div>}\n                <button className=\"ok_button\" onClick={() => this.createAlbum()}>ok</button>\n\n            </div>\n            </Scrollbars>\n        </div>\n\n\n    }\n}\n\nexport default AddNewAlbum;\n\n\n// WEBPACK FOOTER //\n// ./components/newAlbum/AddNewAlbum.jsx","import React from 'react';\nimport Picture from \"./picture/Picture\";\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums, PAGE_ITEMS} from \"../actions/albumActions\";\nimport Loader from 'react-loaders';\nimport './albumContainer.less';\nimport 'loaders.css/src/animations/ball-grid-pulse.scss';\nimport ReactPaginate from 'react-paginate';\nimport LeftArrow from '../svg/left-arrow.svg';\nimport RightArrow from '../svg/right-arrow.svg';\n\n\n@connect(store => ({\n    albums: store.albums,\n    isLoadingAlbums: store.isLoadingAlbums,\n    itemCount: store.itemCount\n}), {\n    fetchAlbums\n})\nclass AlbumContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props.fetchAlbums();\n    }\n\n    handlePageClick(data) {\n        let selected = data.selected;\n        let offset = Math.ceil(selected * PAGE_ITEMS);\n        this.props.fetchAlbums(offset);\n    }\n\n\n    render() {\n        if(!this.props.albums) return <Loader type=\"ball-grid-pulse\" className='Data_loader'/>;\n        const pictures = this.props.albums.map(album => <Picture key={album._id}\n                                                                 animation='fade'\n                                                                 album={album}/>);\n        const pagesCount = Math.ceil(this.props.itemCount / PAGE_ITEMS);\n        return <React.Fragment>\n            {pictures}\n            <ReactPaginate\n                           previousLabel={<LeftArrow className=\"arrow\"/>}\n                           nextLabel={<RightArrow className=\"arrow\"/>}\n                           breakLabel={<a href=\"\">...</a>}\n                           breakClassName={\"break-me\"}\n                           pageCount={pagesCount}\n                           marginPagesDisplayed={2}\n                           pageRangeDisplayed={5}\n                           onPageChange={(data) => this.handlePageClick(data)}\n                           containerClassName=\"P_pagination\"\n                           pageClassName=\"P_page\"\n                           pageLinkClassName=\"P_link_page\"\n                           previousClassName=\"P_prev_page\"\n                           nextLinkClassName=\"P_link_prev_page\"\n                           previousLinkClassName=\"P_link_next_page\"\n                           nextClassName=\"P_next_page\"\n                           subContainerClassName={\"pages_pagination\"}\n                           activeClassName={\"active\"}\n                           disabledClassName='disabled'\n            />\n        </React.Fragment>;\n    }\n}\n\nexport default AlbumContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/AlbumContainer.jsx","import React from 'react';\nimport {CrossIcon} from \"../Icons\";\nimport './map.less';\nimport {Map, InfoWindow, Marker, GoogleApiWrapper} from 'google-maps-react';\nimport connect from \"react-redux/es/connect/connect\";\nimport {saveFotoInformation} from \"../../actions/albumActions\";\n\n@connect(store => ({}), {\n    saveFotoInformation\n})\nclass GMap extends React.Component {\n\n    constructor(props) {\n        super(props);\n        // this.pictureLocation = {\n        //     lat: 37.759703, lng: -122.428093\n        // }\n        this.state = {\n            selectedPlace: {},\n            currentLocation: {},\n            foto: this.props.foto\n        }\n        if (this.props.location) {\n            this.setState({ currentLocation: props.location });\n        } else if (navigator && navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition((pos) => {\n                const coords = pos.coords;\n                this.setState({\n                    currentLocation: {\n                        lat: coords.latitude,\n                        lng: coords.longitude\n                    }\n                })\n            })\n        }\n\n    }\n\n    onCrossClick() {\n        this.props.close();\n    }\n\n    onMarkerClick(props, marker, e) {\n        console.dir(props);\n        console.dir(marker);\n        console.dir(e);\n    }\n\n    onInfoWindowClose(g) {\n        console.log(g);\n    }\n\n    onMapClicked(g, e, r) {\n        console.log(e.getCenter().lat());\n        this.setState({fotoLocation: {lat: e.getCenter().lat(), lng: e.getCenter().lng()}});\n        //this.props.saveFotoInformation();\n    }\n\n    render() {\n\n        if (!this.state.currentLocation || !this.state.currentLocation.lat) return null;\n\n        return <div className=\"map_container\">\n            <CrossIcon className='cross'\n                       onClick={() => this.onCrossClick()}/>\n            <Map\n                google={this.props.google}\n                zoom={14}\n                initialCenter={ this.state.currentLocation }\n                onClick={(a, b, c) => this.onMapClicked(a, b, c)}\n            >\n\n                {/*{this.props.fotos && this.props.fotos.map(foto => <Marker*/}\n                        {/*name={foto.name}*/}\n                        {/*position={foto.location}*/}\n                {/*/>)}*/}\n\n                {this.state.fotoLocation &&\n                <Marker onClick={this.onMarkerClick}\n                        name={'Current location'}\n                        position={this.state.fotoLocation}\n                />}\n                {/*<Marker*/}\n                    {/*title={'The marker`s title will appear as a tooltip.'}*/}\n                    {/*name={'SOMA'}*/}\n                    {/*position={{lat: 37.778519, lng: -122.405640}} />*/}\n                {/*<Marker*/}\n                    {/*name={'Dolores park'}*/}\n                    {/*position={{lat: 37.759703, lng: -122.428093}}*/}\n                    {/*title={'The marker`s title will appear as a tooltip.'}*/}\n                    {/*onClick={this.onMarkerClick}*/}\n                {/*/>*/}\n                {/*<Marker />*/}\n                {/*<Marker*/}\n                    {/*name={'Your position'}*/}\n                    {/*position={{lat: 37.762391, lng: -122.439192}}*/}\n                    {/*icon={{*/}\n                        {/*url: \"/path/to/custom_icon.png\",*/}\n                        {/*anchor: new google.maps.Point(32,32),*/}\n                        {/*scaledSize: new google.maps.Size(64,64)*/}\n                    {/*}} />*/}\n\n                {/*<InfoWindow onClose={this.onInfoWindowClose}>*/}\n                    {/*<div>*/}\n                        {/*<h1>{this.state.selectedPlace.name}</h1>*/}\n                    {/*</div>*/}\n                {/*</InfoWindow>*/}\n            </Map>\n        </div>\n    }\n}\n\nexport default GoogleApiWrapper({\n    apiKey: (\"AIzaSyDWNe8nbXT808Y9VT3ei5JbVBR-jBK-Y0s\")\n})(GMap)\n\n\n// WEBPACK FOOTER //\n// ./components/picture/GMap.js","import React from 'react';\nimport './editAlbum.less';\nimport FileInput from \"../fileInput/FileInput\";\nimport {CrossIcon, SaveIcon} from \"../Icons\";\nimport Card from \"./Card\";\nimport http from '../../HttpService';\nimport connect from \"react-redux/es/connect/connect\";\nimport {\n    deleteAlbum, deleteFotoFromAlbum, saveAlbumDescription,\n    saveFotoInformation, saveItemsOrder\n} from \"../../actions/albumActions\";\nimport Dialog from \"../dialog/Dialog\";\nimport EditCanvas from \"./EditCanvas\";\nimport {isVideo} from \"../../utils/index\";\nimport * as styles from \"../../constants/styles\";\nconst routesModule = require('../../constants/routes');\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\nimport 'loaders.css/src/animations/ball-grid-pulse.scss';\nimport Alert from 'react-s-alert';\n\n\n@connect(store => ({}), {\n    deleteFotoFromAlbum,\n    saveFotoInformation,\n    saveAlbumDescription,\n    deleteAlbum,\n    saveItemsOrder\n})\nclass EditAlbum extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dragStarted: false,\n            dragFrom: null,\n            dragFromEl: null,\n            dragObj: null,\n            openPicture: null,\n            openedAlbum: false,\n            album: null,\n            openedDialog: false,\n            imageDownloaded: false,\n            imageLoading: true,\n            imageLoadStarted: false,\n            albumLoading: false\n        }\n    }\n\n    componentDidMount() {\n        this.loadAlbum();\n    }\n\n    loadAlbum() {\n        this.setState({albumLoading: true});\n        http.doGet(routesModule.routes.GET_ALBUM(this.props.match.params.id))\n            .then(result => {\n                result.images.sort((x, y) => x.order - y.order);\n                result.images.forEach(image => image.src = image.src + '?forceUpdate=' + new Date().toISOString())\n                this.setState({album: result, albumLoading: false});\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n\n    openDetails(picture) {\n        this.setState({openPicture: picture});\n    }\n\n    openAlbumDetails() {\n        this.setState({openedAlbum: true});\n    }\n\n    onCrossClick() {\n        this.setState({openPicture: null, openedAlbum: false});\n    }\n\n    deleteItem(picture) {\n        if (this.state.album.images.length == 1) {\n            this.setState({openedDialog: true});\n            return;\n        }\n\n        this.props.deleteFotoFromAlbum(picture._id);\n        const newPictures = this.state.album.images.filter(p => p._id != picture._id);\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        })\n        this.setState({album: newAlbum});\n    }\n\n    removeAlbum() {\n        this.props.deleteAlbum(this.state.album._id);\n        this.props.history.push('/');\n    }\n\n    changeState(obj) {\n        this.setState(obj);\n    }\n\n    saveFotoDescription(picture) {\n        const newPictures = [...this.state.album.images];\n        const editedPicture = this.state.album.images.find(p => p._id == picture._id);\n        if (this.pinput.value) editedPicture.name = this.pinput.value;\n        if (this.ptextarea.value) editedPicture.text = this.ptextarea.value;\n\n        this.props.saveFotoInformation(editedPicture);\n\n        const newAlbum = Object.assign({}, {\n            ...this.state.album,\n            images: newPictures,\n        });\n        this.setState({album: newAlbum, openPicture: null});\n    }\n\n    saveAlbumDescription() {\n        const editedAlbum = Object.assign({}, {...this.state.album});\n        if (this.ainput.value) editedAlbum.name = this.ainput.value;\n        if (this.atextarea.value) editedAlbum.description = this.atextarea.value;\n\n        this.props.saveAlbumDescription(editedAlbum);\n\n        this.setState({album: editedAlbum, openedAlbum: false});\n    }\n\n    uploadFile(file) {\n        http.sendFile(routesModule.routes.UPLOAD_FOTO, file)\n            .then(downloadedFoto => {\n                if (isVideo(downloadedFoto.src)) {\n                    http.doPost(routesModule.routes.FOTO_ROUTE, {\n                        src: downloadedFoto.src,\n                        album: this.state.album._id\n                    }).then(result => {\n                        const newPictures = [...this.state.album.images];\n                        newPictures.push(result);\n                        const newAlbum = Object.assign({}, {\n                            ...this.state.album,\n                            images: newPictures,\n                        });\n\n                        this.setState({\n                            //imageDownloaded: null,\n                            album: newAlbum\n                        });\n                    }).catch(e => Alert.error(e.response.data.error, {}));\n                } else {\n                    this.setState({\n                        imageDownloaded: downloadedFoto.src\n                    });\n                }\n\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n\n    onImageLoad() {\n        this.setState({imageLoading: false, });\n    }\n\n    onImageError() {\n        Alert.error(\"Image for name {\" + this.state.album.images[0].name + \"} loading failed\", {});\n        this.setState({imageLoading: false});\n    }\n\n    loadImage(src) {\n        this.setState({imageLoadStarted: true});\n        const imageObj = new Image()\n        imageObj.onload = this.onImageLoad.bind(this);\n        imageObj.onerror = this.onImageError.bind(this);\n        imageObj.src = src;\n    }\n\n    renderEditAlbumCard() {\n        if(!this.state.imageLoadStarted) this.loadImage(this.state.album.images[0].src);\n        return <div className='edit_album_card' key=\"edit_album_card\">\n            {this.state.imageLoading ? <Loader type=\"ball-scale-multiple\"/> : isVideo(this.state.album.images[0].src)\n                ? <video className=\"album_image\"\n                         height={styles.picture_edit_height}\n                         width={styles.picture_edit_width}\n                         controls=\"controls\">\n                    <source src={this.state.album.images[0].src}/>\n                </video>\n                : <img className='album_image'\n                       src={this.state.album.images[0].src}/>}\n            <div className='album_name' onClick={() => this.openAlbumDetails()}>{this.state.album.name}</div>\n            <CrossIcon className='cross_icon' onClick={() => this.setState({openedDialog: true})}/>\n        </div>\n    }\n\n    renderImages() {\n        return this.state.album.images.sort((x, y) => x.order - y.order).map(p => <Card\n            key={p._id}\n            picture={p}\n            pictures={this.state.album.images}\n            openDetails={(p) => this.openDetails(p)}\n            deleteItem={(p) => this.deleteItem(p)}\n            replaceImage={(target) => this.replaceImage(target)}\n            openPicture={this.state.openPicture}\n            changeDragState={(obj) => this.changeState(obj)}\n            dragState={this.state}\n            updateOrder={(album) => this.props.saveItemsOrder(album)}\n            loadAlbum={() => this.loadAlbum()}\n        />)\n    }\n\n    renderFileInput() {\n        return !this.state.imageDownloaded && <FileInput className='edit_file_input'\n                                                         disabled={this.state.openPicture}\n                                                         label='Choose new foto'\n                                                         uploadFile={(file) => this.uploadFile(file)}\n            />\n    }\n\n    renderEditCanvas() {\n        return this.state.imageDownloaded && !isVideo(this.state.imageDownloaded) && <EditCanvas\n                image={this.state.imageDownloaded}\n                cleanImage={obj => this.changeState(obj)}\n                album={this.state.album}\n            />\n    }\n\n    renderChangeFotoTextInfoDialog() {\n        return this.state.openPicture &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter foto name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveFotoDescription(this.state.openPicture)}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.openPicture.name} ref={i => this.pinput = i}/>\n                    <textarea defaultValue={this.state.openPicture.text} ref={t => this.ptextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderChangeAlbumTextInfoDialog() {\n        return this.state.openedAlbum &&\n            <div className='new_text_overlay'>\n                <div className='new_text'>\n                    <div className=\"new_text_caption\">Enter album name and description:</div>\n                    <SaveIcon className='save_icon' onClick={() => this.saveAlbumDescription()}/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                    <input defaultValue={this.state.album.name} ref={i => this.ainput = i}/>\n                    <textarea defaultValue={this.state.album.description} ref={t => this.atextarea = t}/>\n                </div>\n            </div>\n    }\n\n    renderDeleteDialog() {\n        return this.state.openedDialog && <Dialog onClick={() => this.removeAlbum()}\n                                                  onClose={() => this.setState({openedDialog: false})}\n                                                  text=\"Do you really want to delete the album?\"/>\n    }\n\n\n    render() {\n        const {album, albumLoading} = this.state;\n        if(albumLoading) return <Loader type=\"ball-grid-pulse\" className='Data_loader'/>;\n        if (!album) return null;\n\n        return <React.Fragment>\n            {this.renderEditAlbumCard()}\n            {this.renderImages()}\n            {this.renderFileInput()}\n            {this.renderEditCanvas()}\n            {this.renderChangeFotoTextInfoDialog()}\n            {this.renderChangeAlbumTextInfoDialog()}\n            {this.renderDeleteDialog()}\n        </React.Fragment>;\n    }\n}\n\nexport default EditAlbum;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditAlbum.jsx","import * as types from '../constants/ActionTypes';\nimport http from '../HttpService';\nconst routesModule = require('../constants/routes');\nimport Alert from 'react-s-alert';\n\nexport const PAGE_ITEMS = 3;\n\nexport function albumsRequest() {\n    return {\n        type: types.REQ_ALBUMS\n    };\n}\n\nexport function setAlbums(result) {\n    return {\n        type: types.SET_ALBUMS,\n        result: result\n    };\n}\n\nexport function fetchAlbums(offset, perPage) {\n    const pagesOffset = offset | 0;\n    const itemsPerPage = perPage | PAGE_ITEMS;\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS_PAGINATE(pagesOffset, itemsPerPage))\n            .then(result => dispatch(setAlbums(result)))\n            .catch(e => {\n                Alert.error(e.response.data.error, {});\n                dispatch({type: types.REQ_ALBUMS_ERROR});\n            });\n    }\n}\n\nexport function fetchAlbumsBySearch(search, offset, perPage) {\n    const pagesOffset = offset | 0;\n    const itemsPerPage = perPage | PAGE_ITEMS;\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS_SEARCH(search, pagesOffset, itemsPerPage))\n            .then(result => dispatch(setAlbums(result)))\n            .catch(e => {\n                Alert.error(e.response.data.error, {});\n                dispatch({type: types.REQ_ALBUMS_ERROR});\n            });\n    }\n}\n\nexport function deleteFotoFromAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_FOTO(id))\n            .then(result => Alert.success('Album deleted', {}))\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function deleteAlbum(id) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_ALBUM(id))\n            .then(result => dispatch(fetchAlbums()))\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\nexport function saveFotoInformation(album, image) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.FOTO_ROUTE, image)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveAlbumDescription(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.ALBUM_ROUTE, album)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function saveItemsOrder(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPut(routesModule.routes.UPDATE_ITEMS_ORDER, album)\n            .catch(e => Alert.error(e.response.data.error, {}));\n            //.then(result => dispatch(fetchAlbums()));\n    }\n}\n\nexport function createAlbum(album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doPost(routesModule.routes.ALBUM_ROUTE, album)\n            .then(result => {\n                Alert.success('Album created', {});\n                dispatch(fetchAlbums());\n            })\n            .catch(e => Alert.error(e.response.data.error, {}));\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./actions/albumActions.js"],"sourceRoot":""}