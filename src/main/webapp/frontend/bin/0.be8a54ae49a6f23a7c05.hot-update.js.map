{"version":3,"sources":["webpack:///./components/picture/PreviewImageFrame.jsx","webpack:///./components/picture/GMap.js"],"names":["PreviewImageFrame","React","Component","constructor","props","img","current","images","find","src","main","currentIndex","indexOf","state","imageWidth","left","right","length","index","mode","componentDidMount","height","getContainerHeight","window","addEventListener","recalculateWidth","cont","containerStyle","currentStyle","getComputedStyle","parseFloat","componentWillUnmount","removeEventListener","naturalWidth","naturalHeight","width","constants","preview_border_width","innerWidth","style","setImageWidth","onLoad","e","target","newImages","loaded","setState","onCrossClick","close","onArrowClick","arrow","clearAnimate","loadImageURL","imageURL","imageObj","Image","onload","bind","onerror","onLoadFailure","Alert","error","onEarthClick","closeMap","render","editRoute","isVideo","node","GMap","connect","store","saveFotoInformation","selectedPlace","currentLocation","foto","location","navigator","geolocation","getCurrentPosition","pos","coords","lat","latitude","lng","longitude","onMarkerClick","marker","console","dir","onInfoWindowClose","g","log","onMapClicked","r","getCenter","Object","assign","position","google","a","b","c","fotoLocation","GoogleApiWrapper","apiKey"],"mappings":"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","file":"0.be8a54ae49a6f23a7c05.hot-update.js","sourcesContent":["import React from \"react\";\nimport {CrossIcon, EditIcon, LeftArrowIcon, RightArrowIcon, EarthIcon} from \"../Icons\";\nimport \"./preview.less\";\nimport {Link} from \"react-router-dom\";\nimport {isVideo} from \"../../utils/index\";\nimport constants from '../../constants/styles';\nimport Loader from 'react-loaders';\nimport 'loaders.css/src/animations/ball-scale-multiple.scss';\nimport Alert from 'react-s-alert';\nimport GMap from \"./GMap\";\n\nclass PreviewImageFrame extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.img = null;\n\n    const current = props.images.find(img => img.src === props.main.src);\n    const currentIndex = props.images.indexOf(current);\n\n    this.state = {\n      imageWidth: 0,\n      main: props.main,\n      left: currentIndex > 0,\n      right: currentIndex < (props.images.length - 1),\n      images: props.images,\n      index: currentIndex,\n      mode: 'main'\n    };\n  }\n\n  componentDidMount() {\n    this.height = this.getContainerHeight();\n    window.addEventListener('resize', () => this.recalculateWidth());\n  }\n\n  getContainerHeight() {\n    if (this.cont) {\n        const containerStyle = this.cont.currentStyle || window.getComputedStyle(this.cont);\n        return parseFloat(containerStyle.height);\n    }\n    return 0;\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', () => this.recalculateWidth());\n  }\n\n  recalculateWidth() {\n    const naturalWidth = this.state.images[this.state.index].naturalWidth;\n    const naturalHeight = this.state.images[this.state.index].naturalHeight;\n\n    if (naturalWidth && naturalHeight &&  this.cont) {\n        this.height = this.getContainerHeight();\n        let width = naturalWidth * this.height/ naturalHeight;\n        if((width + parseFloat(constants.preview_border_width) * 2) > window.innerWidth) {\n            width  = window.innerWidth - parseFloat(constants.preview_border_width) * 2;\n            const height = naturalHeight * width / naturalWidth;\n            this.cont.style.height = height;\n        }\n        this.cont.style.width = width;\n        this.props.setImageWidth(width);\n    }\n\n  }\n\n  onLoad(e) {\n    let width = e.target.naturalWidth * this.height / e.target.naturalHeight;\n    let newImages = [...this.state.images];\n    newImages[this.state.index].naturalWidth = e.target.naturalWidth;\n    newImages[this.state.index].naturalHeight = e.target.naturalHeight;\n    newImages[this.state.index].loaded = true;\n      if((width + parseFloat(constants.preview_border_width) * 2) > window.innerWidth) {\n          width  = window.innerWidth - parseFloat(constants.preview_border_width) * 2;\n          const height = e.target.naturalHeight * width / e.target.naturalWidth;\n          this.cont.style.height = height;\n\n      }\n    this.cont.style.width = width;\n    this.setState({images: newImages});\n    this.props.setImageWidth(width);\n  }\n\n  onCrossClick() {\n    this.props.close();\n  }\n\n  onArrowClick(arrow) {\n    const {images} = this.props;\n    const currentIndex = images.indexOf(this.state.main);\n    let main;\n\n    if (arrow === 'left' && currentIndex > 0) {\n      main = images[currentIndex - 1];\n      this.setState({\n        main,\n        left: (currentIndex - 1) > 0,\n        right: (currentIndex - 1) < (images.length - 1),\n        index: currentIndex - 1\n      }, this.recalculateWidth);\n    }\n\n    if (arrow === 'right' && currentIndex < (images.length - 1)) {\n        main = images[currentIndex + 1];\n        this.setState({\n        main,\n        left: (currentIndex + 1) > 0,\n        right: (currentIndex + 1) < (images.length - 1),\n        index: currentIndex + 1\n      }, this.recalculateWidth)\n    }\n\n    this.props.clearAnimate(main);\n  }\n\n  loadImageURL (imageURL) {\n        const imageObj = new Image();\n        imageObj.onload = this.onLoad.bind(this);\n        imageObj.onerror = this.onLoadFailure.bind(this);\n        imageObj.src = imageURL;\n  }\n\n  onLoadFailure() {\n      Alert.error(\"Image loading failed\", {});\n      let newImages = [...this.state.images];\n      newImages[this.state.index].loaded = true;\n      this.setState({images: newImages});\n  }\n\n  onEarthClick() {\n     this.setState({mode: 'map'});\n  }\n\n    closeMap() {\n        this.setState({mode: 'main'});\n    }\n\n  render() {\n    const {main, left, right, images, index} = this.state;\n    const {editRoute} = this.props;\n    if(!images[index].loaded) this.loadImageURL(images[index].src);\n\n    return this.state.mode == 'main' ? (<div className='magnify_modal_img_frame_container' ref={cont => this.cont = cont}>\n        <CrossIcon className='cross' onClick={() => this.onCrossClick()}/>\n            {editRoute && <Link to={this.props.editRoute}><EditIcon className='edit'/></Link>}\n        <EarthIcon className='earth' onClick={() => this.onEarthClick()}/>\n        {left && <div className='left_arrow'>\n          <LeftArrowIcon onClick={() => this.onArrowClick('left')}/>\n        </div>}\n        {right && <div className='right_arrow'>\n          <RightArrowIcon onClick={() => this.onArrowClick('right')}/>\n        </div>}\n        <div className='counter_container'>\n          <div className='counter'>{`${(images.indexOf(main) + 1)} of ${images.length}`}</div>\n        </div>\n        {!images[index].loaded ? <Loader type=\"ball-scale-multiple\"/> : isVideo(main.src)\n            ? <video controls=\"controls\"\n                     ref={node => this.img = node}\n                     className=\"image_preview\"\n                     >\n              <source src={main.src}/>\n            </video>\n            :<img src={main.src} className='image_preview'\n                  ref={node => this.img = node}/>}\n      </div>\n    ) : <GMap close={() => this.closeMap()} index={index} fotos={images[index]}/>;\n  }\n}\n\nexport default PreviewImageFrame;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/PreviewImageFrame.jsx","import React from 'react';\nimport {CrossIcon} from \"../Icons\";\nimport './map.less';\nimport {Map, InfoWindow, Marker, GoogleApiWrapper} from 'google-maps-react';\nimport connect from \"react-redux/es/connect/connect\";\nimport {saveFotoInformation} from \"../../actions/albumActions\";\n\n@connect(store => ({}), {\n    saveFotoInformation\n})\nclass GMap extends React.Component {\n\n    constructor(props) {\n        super(props);\n        // this.pictureLocation = {\n        //     lat: 37.759703, lng: -122.428093\n        // }\n        this.state = {\n            selectedPlace: {},\n            currentLocation: {},\n            foto: this.props.images[this.props.index]\n        }\n        if (this.props.location) {\n            this.setState({ currentLocation: props.location });\n        } else if (navigator && navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition((pos) => {\n                const coords = pos.coords;\n                this.setState({\n                    currentLocation: {\n                        lat: coords.latitude,\n                        lng: coords.longitude\n                    }\n                })\n            })\n        }\n\n    }\n\n    onCrossClick() {\n        this.props.close();\n    }\n\n    onMarkerClick(props, marker, e) {\n        console.dir(props);\n        console.dir(marker);\n        console.dir(e);\n    }\n\n    onInfoWindowClose(g) {\n        console.log(g);\n    }\n\n    onMapClicked(g, e, r) {\n        console.log(e.getCenter().lat());\n        const foto = Object.assign({}, this.state.foto);\n        foto.position = {lat: e.getCenter().lat(), lng: e.getCenter().lng()};\n        this.setState({foto});\n        //this.props.saveFotoInformation();\n    }\n\n    render() {\n\n        if (!this.state.currentLocation || !this.state.currentLocation.lat) return null;\n\n        return <div className=\"map_container\">\n            <CrossIcon className='cross'\n                       onClick={() => this.onCrossClick()}/>\n            <Map\n                google={this.props.google}\n                zoom={14}\n                initialCenter={ this.state.currentLocation }\n                onClick={(a, b, c) => this.onMapClicked(a, b, c)}\n            >\n\n                {/*{this.props.fotos && this.props.fotos.map(foto => <Marker*/}\n                        {/*name={foto.name}*/}\n                        {/*position={foto.location}*/}\n                {/*/>)}*/}\n\n                {this.state.fotoLocation &&\n                <Marker onClick={this.onMarkerClick}\n                        name={'Current location'}\n                        position={this.state.fotoLocation}\n                />}\n                {/*<Marker*/}\n                    {/*title={'The marker`s title will appear as a tooltip.'}*/}\n                    {/*name={'SOMA'}*/}\n                    {/*position={{lat: 37.778519, lng: -122.405640}} />*/}\n                {/*<Marker*/}\n                    {/*name={'Dolores park'}*/}\n                    {/*position={{lat: 37.759703, lng: -122.428093}}*/}\n                    {/*title={'The marker`s title will appear as a tooltip.'}*/}\n                    {/*onClick={this.onMarkerClick}*/}\n                {/*/>*/}\n                {/*<Marker />*/}\n                {/*<Marker*/}\n                    {/*name={'Your position'}*/}\n                    {/*position={{lat: 37.762391, lng: -122.439192}}*/}\n                    {/*icon={{*/}\n                        {/*url: \"/path/to/custom_icon.png\",*/}\n                        {/*anchor: new google.maps.Point(32,32),*/}\n                        {/*scaledSize: new google.maps.Size(64,64)*/}\n                    {/*}} />*/}\n\n                {/*<InfoWindow onClose={this.onInfoWindowClose}>*/}\n                    {/*<div>*/}\n                        {/*<h1>{this.state.selectedPlace.name}</h1>*/}\n                    {/*</div>*/}\n                {/*</InfoWindow>*/}\n            </Map>\n        </div>\n    }\n}\n\nexport default GoogleApiWrapper({\n    apiKey: (\"AIzaSyDWNe8nbXT808Y9VT3ei5JbVBR-jBK-Y0s\")\n})(GMap)\n\n\n// WEBPACK FOOTER //\n// ./components/picture/GMap.js"],"sourceRoot":""}