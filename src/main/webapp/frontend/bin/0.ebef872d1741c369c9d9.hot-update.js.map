{"version":3,"sources":["webpack:///./components/AlbumContainer.jsx","webpack:///./actions/albumActions.js","webpack:///./components/editAlbum/EditAlbum.jsx","webpack:///./reducers/AlbumReducer.js","webpack:///./constants/ActionTypes.js"],"names":["Container","styled","div","AlbumContainer","connect","store","albums","fetchAlbums","React","Component","constructor","props","render","map","album","images","id","routesModule","require","albumsRequest","type","REQ_ALBUMS","setAlbums","dispatch","http","doGet","routes","GET_ALBUMS","then","result","deleteFotoFromAlbum","doDelete","DELETE_FOTO","EditAlbum","state","dragStarted","dragFrom","dragFromEl","dragObj","isTextOpen","componentDidMount","GET_ALBUM","match","params","setState","pictures","openDetails","onCrossClick","deleteItem","picture","newPictures","filter","p","changeDragState","obj","sort","x","y","order","target","replaceImage","t","text","albumReducer","action","AlbumReducer","SET_ALBUMS"],"mappings":"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","file":"0.ebef872d1741c369c9d9.hot-update.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport Picture from \"./picture/Picture\";\nimport connect from \"react-redux/es/connect/connect\";\nimport {fetchAlbums} from \"../actions/albumActions\";\n\n// overrides picture styles\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex-wrap: wrap;\n  padding: 2rem;\n\n  &>div {\n     padding: 1rem;\n        \n     .image {\n        height: 15rem;\n        width: 20rem;\n        object-fit: cover;\n      }\n\n      .image_wrapper .overlay .overlay_bottom_text {\n         font-size: 1rem;\n      }\n  }\n`\n@connect(store => ({\n    albums: store.albums\n}), {\n    fetchAlbums\n})\nclass AlbumContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props.fetchAlbums();\n    }\n\n    render() {\n        return (\n            <Container>\n                {this.props.albums.map(album => <Picture main={album.images[0]}\n                                                         key={album.id}\n                                                         animation='fade'\n                                                         editRoute='/edit'\n                                                         images={album.images}/>)}\n\n            </Container>\n        );\n    }\n}\n\nexport default AlbumContainer;\n\n\n// WEBPACK FOOTER //\n// ./components/AlbumContainer.jsx","import * as types from '../constants/ActionTypes';\nimport http from '../HttpService';\nconst routesModule = require('../constants/routes');\n\nexport function albumsRequest() {\n    return {\n        type: types.REQ_ALBUMS\n    };\n}\n\nexport function setAlbums(albums) {\n    return {\n        type: types.SET_ALBUMS,\n        albums\n    };\n}\n\nexport function fetchAlbums() {\n    return dispatch => {\n        dispatch(albumsRequest());\n        return http\n            .doGet(routesModule.routes.GET_ALBUMS)\n            .then(result => dispatch(setAlbums(result)));\n    }\n}\n\n// export function deleteFotoRequest() {\n//     return {\n//         type: types.REQ_ALBUMS\n//     };\n// }\n\nexport function deleteFotoFromAlbum(id, album) {\n    return dispatch => {\n        //dispatch(albumsRequest());\n        return http\n            .doDelete(routesModule.routes.DELETE_FOTO(id, album))\n            .then(result => dispatch(fetchAlbums()));\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./actions/albumActions.js","import React from 'react';\nimport './editAlbum.less';\nimport FileInput from \"../fileInput/FileInput\";\nimport {CrossIcon, SaveIcon} from \"../Icons\";\nimport Card from \"./Card\";\nimport http from '../../HttpService';\nimport connect from \"react-redux/es/connect/connect\";\nimport {deleteFotoFromAlbum} from \"../../actions/albumActions\";\nconst routesModule = require('../../constants/routes');\n\n@connect(store => ({\n\n}), {\n    deleteFotoFromAlbum\n})\nclass EditAlbum extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dragStarted: false,\n            dragFrom: null,\n            dragFromEl: null,\n            dragObj: null,\n            isTextOpen: false,\n            album: null\n        }\n    }\n\n    componentDidMount() {\n        http.doGet(routesModule.routes.GET_ALBUM(this.props.match.params.id))\n            .then(result => this.setState({pictures: result.images}));\n    }\n\n    openDetails() {\n        this.setState({isTextOpen: true});\n    }\n\n    onCrossClick() {\n        this.setState({isTextOpen: false});\n    }\n\n    deleteItem(picture) {\n        this.props.deleteFotoFromAlbum(picture.id, this.state.album.pictures);\n        const newPictures = this.state.album.pictures.filter(p => p.id != picture.id);\n        this.setState({album: {... newPictures}});\n    }\n\n    changeDragState(obj) {\n        this.setState(obj);\n    }\n\n    render() {\n        const {isTextOpen,album} = this.state;\n        return album && (\n            <div className='edit_container'>\n                {this.state.album.pictures.sort((x,y) => x.order-y.order).map(p => <Card\n                    key={p.id}\n                    picture={p}\n                    pictures={this.state.album.pictures}\n                    openDetails={() => this.openDetails()}\n                    deleteItem={() => this.deleteItem()}\n                    replaceImage={(target) => this.replaceImage(target)}\n                    isTextOpen={isTextOpen}\n                    changeDragState={(obj) => this.changeDragState(obj)}\n                    dragState={this.state}\n                />)}\n                <FileInput className='new_image' disabled={isTextOpen} label='Choose new foto'/>\n                {isTextOpen &&\n                <div className='new_text' ref={t => this.text = t}>\n                    <input/>\n                    <textarea/>\n                    <SaveIcon className='save_icon'/>\n                    <CrossIcon className='cross_icon' onClick={() => this.onCrossClick()}/>\n                </div>}\n\n            </div>\n        );\n    }\n}\n\nexport default EditAlbum;\n\n\n\n// WEBPACK FOOTER //\n// ./components/editAlbum/EditAlbum.jsx","import {SET_ALBUMS} from \"../constants/ActionTypes\";\n\nconst albums = [];\n\nconst albumReducer = (state = albums, action) => {\n    switch (action.type) {\n        case SET_ALBUMS:\n            return action.albums;\n        default:\n            return state;\n    }\n}\n\nconst AlbumReducer = {\n    albums: albumReducer\n}\n\nexport default AlbumReducer;\n\n\n// WEBPACK FOOTER //\n// ./reducers/AlbumReducer.js","export const SET_ALBUMS = 'SET_ALBUMS';\nexport const REQ_ALBUMS = 'REQ_ALBUMS';\n\n\n// WEBPACK FOOTER //\n// ./constants/ActionTypes.js"],"sourceRoot":""}