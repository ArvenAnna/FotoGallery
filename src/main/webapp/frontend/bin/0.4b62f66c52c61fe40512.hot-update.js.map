{"version":3,"sources":["webpack:///./components/picture/Preview.jsx"],"names":["BottomSection","styled","div","props","imageWidth","Modal","animationTime","Preview","React","Component","constructor","img","current","images","find","src","currentIndex","indexOf","state","animate","left","right","length","componentDidMount","setState","getImageContainerWidth","window","addEventListener","resize","componentWillUnmount","removeEventListener","imageRect","getBoundingClientRect","style","currentStyle","getComputedStyle","width","componentWillReceiveProps","dd","console","log","componentDidUpdate","pvevProps","prevState","onCrossClick","setTimeout","close","onArrowClick","arrow","e","render","node"],"mappings":"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","file":"0.4b62f66c52c61fe40512.hot-update.js","sourcesContent":["import React from \"react\";\nimport styled from 'styled-components';\nimport {CrossIcon, LeftArrowIcon, RightArrowIcon} from \"../Icons\";\nimport './preview.less';\n\nconst BottomSection = styled.div`\n   width: ${props => props.imageWidth};\n`\n\nconst Modal = styled.div`\n\n@keyframes increase {\n  0% {\n      height: 0;\n      width: 0;\n  }\n  50% {\n      height: 90%;\n      width: ${props => props.imageWidth};\n  }\n}\n\n&.increase {\n  \n   animation: fade_in_overlay ${props => props.animationTime}s ease;\n\n  .magnify_modal_img_frame {\n    animation: increase ${props => props.animationTime}s ease;\n  }\n  .cross {\n     animation: fade_in_cross ${props => props.animationTime}s ease;\n  }\n  .left_arrow, .right_arrow {\n     animation: fade_in_arrow_container ${props => props.animationTime}s ease;\n     \n     svg {\n          animation: fade_in_arrow ${props => props.animationTime}s ease;\n     }\n  }\n  .counter {\n     animation: fade_in_counter ${props => props.animationTime}s ease;\n  }\n  .magnify_modal_img_frame_bottom_caption {\n    animation: fade_in_text_caption ${props => props.animationTime}s ease;\n  }\n  .magnify_modal_img_frame_bottom_text {\n      animation: fade_in_text ${props => props.animationTime}s ease;\n  }\n   \n}\n\n@keyframes decrease {\n  50% {\n      height: 90%;\n      width: ${props => props.imageWidth};\n  }\n  100% {\n      height: 0;\n      width: 0;\n  }\n}\n\n\n&.decrease {\n\n  animation: fade_out_overlay ${props => props.animationTime}s ease;\n\n  .magnify_modal_img_frame {\n    animation: decrease ${props => props.animationTime}s ease;\n  }\n  .cross {\n     animation: fade_out_cross ${props => props.animationTime}s ease;\n  }\n  .left_arrow, .right_arrow {\n     animation: fade_out_arrow_container ${props => props.animationTime}s ease;\n     svg {\n          animation: fade_out_arrow ${props => props.animationTime}s ease;\n     }\n  }\n  .counter {\n     animation: fade_out_counter ${props => props.animationTime}s ease;\n  }\n  .magnify_modal_img_frame_bottom_caption {\n      animation: fade_out_text_caption ${props => props.animationTime}s ease;\n  }\n  .magnify_modal_img_frame_bottom_text {\n    animation: fade_out_text_desc ${props => props.animationTime}s ease;\n  }\n}\n`\n\n\n\nclass Preview extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.animationTime = 4;\n\n    this.img = null;\n\n    const current = props.images.find(img => img === props.src);\n    const currentIndex = props.images.indexOf(current);\n\n    this.state = {\n      imageWidth: 0,\n      animate: '',\n      src: props.src,\n      left: currentIndex > 0,\n      right: currentIndex < (props.images.length - 1)\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      imageWidth: this.getImageContainerWidth(),\n      animate: 'increase'\n    });\n    window.addEventListener('resize', () => this.resize());\n  }\n\n  componentWillUnmount() {\n      window.removeEventListener('resize', () => this.resize());\n  }\n\n  getImageContainerWidth() {\n    const img = this.img;\n    if (!img) return 0;\n    const imageRect = img.getBoundingClientRect();\n    const style = img.currentStyle || window.getComputedStyle(img);\n    //const margin = parseFloat(style.borderLeft) + parseFloat(style.borderRight);\n    return imageRect.width;\n  }\n\n  componentWillReceiveProps(props) {\n    const dd = props;\n    console.log(props);\n  }\n\n  componentDidUpdate(pvevProps, prevState) {\n    if(prevState.src != this.state.src) {\n      this.setState({\n          imageWidth: this.getImageContainerWidth(),\n          animate: ''\n      });\n    }\n  }\n\n  onCrossClick() {\n    if (!(this.state.animate === 'decrease')) {\n      this.setState({\n        imageWidth: this.getImageContainerWidth(),\n        animate: 'decrease'\n      });\n      window.setTimeout(this.props.close, this.animationTime * 1000);\n    }\n  }\n\n  onArrowClick(arrow) {\n    const {images} = this.props;\n    const current = images.find(img => img === this.state.src);\n    const currentIndex = images.indexOf(current);\n\n    if (current && arrow === 'left' && currentIndex > 0) {\n      this.setState({\n        src: images[currentIndex - 1],\n        left: (currentIndex - 1) > 0,\n        right: (currentIndex - 1) < (images.length - 1)\n      });\n    }\n\n    if (current && arrow === 'right' && currentIndex < (images.length - 1)) {\n      this.setState({\n        src: images[currentIndex + 1],\n        left: (currentIndex + 1) > 0,\n        right: (currentIndex + 1) < (images.length - 1)\n      })\n    }\n\n  }\n\n  resize(e) {\n      this.setState({\n          imageWidth: this.getImageContainerWidth()\n      });\n  }\n\n  render() {\n    const {src, left, right, animate, imageWidth} = this.state;\n    const {images} = this.props;\n\n    return (\n        <Modal className={`magnify_modal ${animate}`}  imageWidth={imageWidth} animationTime={this.animationTime}>\n          <div className='magnify_modal_img_frame'>\n            <div className='magnify_modal_img_frame_container'>\n              <CrossIcon className='cross' onClick={() => this.onCrossClick()}/>\n              {left && <div className='left_arrow'>\n                <LeftArrowIcon onClick={() => this.onArrowClick('left')}/>\n              </div>}\n              {right && <div className='right_arrow'>\n                <RightArrowIcon onClick={() => this.onArrowClick('right')}/>\n              </div>}\n              <div className='counter_container'>\n                <div className='counter'>{`${(images.indexOf(src) + 1)} of ${images.length}`}</div>\n              </div>\n              <img src={src} className='image_preview' ref={node => this.img = node} />\n            </div>\n            <BottomSection className='magnify_modal_img_frame_bottom' imageWidth={imageWidth}>\n              <div className='magnify_modal_img_frame_bottom_caption'>Caption</div>\n              <div className='magnify_modal_img_frame_bottom_text'>Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason. Some text which was provided for some reason.</div>\n            </BottomSection>\n          </div>\n        </Modal>\n    );\n  }\n}\n\nexport default Preview;\n\n\n// WEBPACK FOOTER //\n// ./components/picture/Preview.jsx"],"sourceRoot":""}